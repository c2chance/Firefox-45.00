(function($){"use strict";var shared={debounce:function(callback,delay,immediate){return this.throttle(callback,delay,undefined,!!immediate)},focusable:function(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&this.visible(element)},getRandomNumber:function(min,max){return!isNaN(min)&&!isNaN(max)?Math.floor(Math.random()*(1+max-min)+min):Date.now().toString()+Math.floor(Math.random()*1e3+1)},isValidCallback:function(callback){return callback&&$.isFunction(callback)},lang:function(){var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang");return langAttr?langAttr.toLowerCase():"en"}(),localize:function(langSet,key){return langSet[this.lang]&&langSet[this.lang][key]?langSet[this.lang][key]:langSet[this.lang.substring(0,2)]&&langSet[this.lang.substring(0,2)][key]?langSet[this.lang.substring(0,2)][key]:langSet.en[key]||""},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&this.focusable(element,!isTabIndexNaN)},throttle:function(callback,delay,noTrail,immediate){var timeout,previous=0;return function(){function reset(){timeout=undefined}function execute(){previous=Date.now();callback.apply(self,args)}var self=this,elapsed=Date.now()-previous,args=arguments,timeoutCallback,timeoutDelay;immediate&&!timeout&&execute();timeout&&clearTimeout(timeout);immediate===undefined&&elapsed>delay?execute():noTrail!==!0&&(timeoutCallback=immediate?reset:execute,timeoutDelay=immediate===undefined?delay-elapsed:delay,timeout=setTimeout(timeoutCallback,timeoutDelay))}},timer:function(callback,delay){var timerId,remaining=delay,start,state="stopped",obj={pause:function(){state==="play"&&(clearTimeout(timerId),remaining-=new Date-start,state="pause")},stop:function(){state!=="stopped"&&(clearTimeout(timerId),remaining=delay,state="stopped")},play:function(){state!=="play"&&(start=new Date,clearTimeout(timerId),timerId=setTimeout(function(){callback();remaining=delay},remaining));state="play"}};return obj.play(),obj},visible:function(element){return $(element).is(":visible")&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length},warn:function(msg,useAlert){window.console&&(console.warn(msg),useAlert&&/ancestry(?:stage|dev)/.test(window.location.hostname)&&alert(msg))}},alert={create:function($element,options){var instance=$element.data("alertInstance");if(instance&&instance.destroy(),instance=Object.create(this.proto),instance.$element=$element,instance.config=$.extend({},this.staticProperties.defaults,instance._getOptionsByClass(),options),instance.uniqueId=$element.attr("id")||shared.getRandomNumber(),instance.shouldAnimate=$("body").find(instance.$element).length&&!shared.visible($element[0])||!instance.config.open,instance.hasFocusableChildren=instance._hasTabbableElements(),instance.$element.attr(instance._getAttributes()),instance._initClasses(),instance.isOpen=!1,instance.bottomMargin=instance._getBottomMargin(),instance.config.display==="notification")instance.shouldAnimate=!0,instance._addOrRemoveNotification(),instance.config.closeable=!0,instance.config.removable=!0;else if(instance.config.display==="overlay"){instance.center();$(window).on("resize.alert."+instance.uniqueId+" orientationchange.alert."+instance.uniqueId,shared.debounce(function(){instance.center()},100));instance.config.closeable=!0}return instance.config.open&&instance.open(),instance.config.closeable&&instance._createCloseButton(),instance.$element.data("alertInstance",instance),instance},proto:{_addOrRemoveNotification:function(){$("#alertNotifications").length||$('<div id="alertNotifications" class="alertNotifications" aria-live="polite"><\/div>').appendTo("body");this.$element.parents("#alertNotifications").length||this.$element.prependTo("#alertNotifications")},center:function(){var width;this.config.display==="overlay"&&(this.$element.css({display:"inline-block",position:"relative",width:"auto"}),width=Math.ceil(this.$element[0].getBoundingClientRect().width),this.$element.css({display:"","margin-left":"-"+Math.floor(width/2)+"px",position:"",width:width}))},close:function(){var marginShouldAnimate,self=this;this.isOpen&&(this.$element.trigger("closing.alert"),marginShouldAnimate=this.$element.hasClass("alertSitewide")||this.$element.is(":first-child"),this.$element.addClass("alertHiding").css("margin-bottom",this.bottomMargin-this.$element.outerHeight(marginShouldAnimate)),setTimeout(function(){self.$element.addClass("alertHidden").css("margin-bottom","");shared.isValidCallback(self.config.onClose)&&self.config.onClose.apply(self.$element,[self.$element]);self.durationTimer&&self.durationTimer.stop();self.isOpen=!1;self.shouldAnimate=!0;self.$element.trigger("closed.alert");self.config.removable&&self.destroy()},410))},_createCloseButton:function(){var $closeBtn=this.$element.find(".alertCloseBtn"),self=this;$closeBtn.length?$closeBtn.addClass("closeBtn").empty():($closeBtn=$('<button class="closeBtn alertCloseBtn" type="button" title="'+shared.localize(alert.staticProperties.langSets,"closeBtn")+'"><\/button>'),this.$element.append($closeBtn));this.$element.addClass("alertCloseable");$closeBtn.on("click.alert",function(){self.close()})},destroy:function(){$(window).off(".alert."+this.uniqueId);this.config.removable?this.$element.remove():this.$element.off(".alert").removeData("alertInstance").removeClass("alertCloseable alertInfo alertNoIcon alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess").find(".closeBtn").remove()},_getAttributes:function(){var attr={role:this.$element.attr("role"),"aria-label":this.$element.attr("aria-label")};return this.$element.attr("role")||(this.hasFocusableChildren?(attr.role="alertdialog",attr.tabindex=this.$element.attr("tabindex")||"-1"):attr.role=this.config.type==="warning"||this.config.type==="success"?"alert":"status"),this.$element.attr("aria-label")||(attr["aria-label"]=this.$element.contents().first().text()),attr},_getBottomMargin:function(){var bottomMargin=parseInt(this.$element.css("margin-bottom"),10);return isNaN(bottomMargin)?0:bottomMargin},_getOptionsByClass:function(){var options={};return this.$element.hasClass("alertSuccess")?options.type="success":(this.$element.hasClass("alertInfo")||this.$element.hasClass("alertNote"))&&(options.type="info"),this.$element.hasClass("alertSitewide")?options.display="sitewide":this.$element.hasClass("alertNotification")?options.display="notification":this.$element.hasClass("alertSection")?options.display="section":this.$element.hasClass("alertOverlay")&&(options.display="overlay"),this.$element.hasClass("alertSlim")&&(options.size="slim"),this.$element.hasClass("alertNoIcon")&&(options.noIcon=!0),this.$element.hasClass("alertHidden")&&(options.open=!1),this.$element.hasClass("alertCloseable")&&(options.closeable=!0),options},_hasTabbableElements:function(){var $elem=$(this.$element),tabElems=0;return $elem.children().each(function(){shared.tabbable(this)&&!$(this).hasClass("alertCloseBtn")&&(tabElems+=1)}),tabElems>0},_initClasses:function(){this.$element.addClass("alert").removeClass("alertCloseable alertInfo alertNoIcon alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess");switch(this.config.display){case"notification":this.$element.addClass("alertNotification");break;case"overlay":this.$element.addClass("alertOverlay");break;case"section":this.$element.addClass("alertSection");break;case"sitewide":this.$element.addClass("alertSitewide")}switch(this.config.type){case"success":this.$element.addClass("alertSuccess");break;case"info":this.$element.addClass("alertInfo");break;case"note":this.$element.addClass("alertInfo")}this.config.closeable===!0&&this.$element.addClass("alertCloseable");this.config.noIcon===!0&&this.$element.addClass("alertNoIcon");this.config.size==="slim"&&this.$element.addClass("alertSlim");this.config.open?this.config.open&&this.$element.removeClass("alertHidden alertHiding"):this.$element.addClass("alertHidden alertHiding")},open:function(){var marginToHideAlert,self=this;this.isOpen||(this.$element.trigger("opening.alert"),this.shouldAnimate?(marginToHideAlert=this.$element.removeClass("alertHidden").outerHeight(!1),this.$element.addClass("alertNoTransition").css("margin-bottom",this.bottomMargin-marginToHideAlert),setTimeout(function(){self.$element.removeClass("alertNoTransition alertHiding").css("margin-bottom","")},10),setTimeout(function(){self._opened()},410)):this._opened())},_opened:function(){var self=this;if(this.hasFocusableChildren&&this.$element.focus(),this.config.duration>0){this.durationTimer=shared.timer(function(){self.close()},this.config.duration);this.$element.on("mouseenter.alert",function(){self.durationTimer.pause()}).on("mouseleave.alert",function(){self.durationTimer.play()})}shared.isValidCallback(this.config.onOpen)&&this.config.onOpen.apply(this.$element,[this.$element]);this.$element.trigger("opened.alert");this.isOpen=!0}},staticProperties:{defaults:{closeable:!1,display:"inline",duration:-1,removable:!1,noIcon:!1,onClose:!1,onOpen:!1,open:!0,type:"warning"},langSets:{de:{closeBtn:"Schlie&#223;en"},en:{closeBtn:"Close"},es:{closeBtn:"Cerrar"},fr:{closeBtn:"Fermer"},it:{closeBtn:"Chiudi"},sv:{closeBtn:"St&#228;ng"}}}},version=2,doubleIncluded=!!$.alert;if(doubleIncluded){if($.alert.version===version){shared.warn("ERROR: You are including alert.js multiple times");return}if(shared.warn("ERROR: You are including multiple versions of alert.js"),$.alert.version>version)return}$.fn.alert=function(options){var args=arguments,isMethodCall=typeof options=="string",returnValue=this;return this.each(function(){var self=$(this),instance=self.data("alertInstance"),methodValue;if(isMethodCall){if(!instance)return shared.warn('Cannot call methods on alert prior to initialization; attempted to call method "'+options+'".'),!1;if(!$.isFunction(instance[options])||options.indexOf("_")===0)return shared.warn('No such method "'+options+'" for alert.'),!1;if(methodValue=instance[options].apply(instance,Array.prototype.slice.call(args,1)),methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1}else alert.create(self,options)}),returnValue};$.alert={getTest:function(){return $.extend({},alert)},version:version};doubleIncluded||$(function(){$('.alert:not([data-auto-instantiate="off"])').alert()})})(jQuery)