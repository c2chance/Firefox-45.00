(function($){"use strict";var shared={debounce:function(callback,delay,immediate){return this.throttle(callback,delay,undefined,!!immediate)},focusable:function(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&this.visible(element)},getRandomNumber:function(){return Date.now()+Math.floor(Math.random()*1e3+1)},isValidCallback:function(callback){return callback&&$.isFunction(callback)},lang:function(){var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang");return langAttr?langAttr.toLowerCase():"en"}(),localize:function(langSet,key){return langSet[this.lang]&&langSet[this.lang][key]?langSet[this.lang][key]:langSet[this.lang.substring(0,2)]&&langSet[this.lang.substring(0,2)][key]?langSet[this.lang.substring(0,2)][key]:langSet.en[key]||""},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&this.focusable(element,!isTabIndexNaN)},throttle:function(callback,delay,noTrail,immediate){var timeout,previous=0;return function(){function reset(){timeout=undefined}function execute(){previous=Date.now();callback.apply(self,args)}var self=this,elapsed=Date.now()-previous,args=arguments,timeoutCallback,timeoutDelay;immediate&&!timeout&&execute();timeout&&clearTimeout(timeout);immediate===undefined&&elapsed>delay?execute():noTrail!==!0&&(timeoutCallback=immediate?reset:execute,timeoutDelay=immediate===undefined?delay-elapsed:delay,timeout=setTimeout(timeoutCallback,timeoutDelay))}},timer:function(callback,delay){var timerId,remaining=delay,start,state="stopped",obj={pause:function(){state==="play"&&(clearTimeout(timerId),remaining-=new Date-start,state="pause")},stop:function(){state!=="stopped"&&(clearTimeout(timerId),remaining=delay,state="stopped")},play:function(){state!=="play"&&(start=new Date,clearTimeout(timerId),timerId=setTimeout(function(){callback();remaining=delay},remaining));state="play"}};return obj.play(),obj},visible:function(element){return $(element).is(":visible")&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length},warn:function(msg,useAlert){window.console&&(console.warn(msg),useAlert&&/ancestry(?:stage|dev)/.test(window.location.hostname)&&alert(msg))}},alert={create:function($element,options){var instance=$element.data("alertInstance");if(instance&&instance.destroy(),instance=Object.create(this.proto),instance.$element=$element,instance.config=$.extend({},this.staticProperties.defaults,instance._getOptionsByClass(),options),instance.uniqueId=$element.attr("id")||shared.getRandomNumber(),instance.shouldAnimate=$("body").find(instance.$element).length&&!shared.visible($element[0])||!instance.config.open,instance.hasFocusableChildren=instance._hasTabbableElements(),instance.$element.attr(instance._getAttributes()),instance._initClasses(),instance.isOpen=!1,instance.bottomMargin=instance._getBottomMargin(),instance.config.display==="notification")instance.shouldAnimate=!0,instance._addOrRemoveNotification(),instance.config.closeable=!0,instance.config.removable=!0;else if(instance.config.display==="overlay"){instance.center();$(window).on("resize.alert."+instance.uniqueId+" orientationchange.alert."+instance.uniqueId,shared.debounce(function(){instance.center()},100));instance.config.closeable=!0}return instance.config.open&&instance.open(),instance.config.closeable&&instance._createCloseButton(),instance.$element.data("alertInstance",instance),instance},proto:{_addOrRemoveNotification:function(){$("#alertNotifications").length||$('<div id="alertNotifications" class="alertNotifications" aria-live="polite"><\/div>').appendTo("body");this.$element.parents("#alertNotifications").length||this.$element.prependTo("#alertNotifications")},center:function(){var width;this.config.display==="overlay"&&(this.$element.css({display:"inline-block",position:"relative",width:"auto"}),width=Math.ceil(this.$element[0].getBoundingClientRect().width),this.$element.css({display:"","margin-left":"-"+Math.floor(width/2)+"px",position:"",width:width}))},close:function(){var marginShouldAnimate,self=this;this.isOpen&&(this.$element.trigger("closing.alert"),marginShouldAnimate=this.$element.hasClass("alertSitewide")||this.$element.is(":first-child"),this.$element.addClass("alertHiding").css("margin-bottom",this.bottomMargin-this.$element.outerHeight(marginShouldAnimate)),setTimeout(function(){self.$element.addClass("alertHidden").css("margin-bottom","");shared.isValidCallback(self.config.onClose)&&self.config.onClose.apply(self.$element,[self.$element]);self.durationTimer&&self.durationTimer.stop();self.isOpen=!1;self.shouldAnimate=!0;self.$element.trigger("closed.alert");self.config.removable&&self.destroy()},410))},_createCloseButton:function(){var $closeBtn=this.$element.find(".alertCloseBtn"),self=this;$closeBtn.length?$closeBtn.addClass("closeBtn").empty():($closeBtn=$('<button class="closeBtn alertCloseBtn" type="button" title="'+shared.localize(alert.staticProperties.langSets,"closeBtn")+'"><\/button>'),this.$element.append($closeBtn));this.$element.addClass("alertCloseable");$closeBtn.on("click.alert",function(){self.close()})},destroy:function(){$(window).off(".alert."+this.uniqueId);this.config.removable?this.$element.remove():this.$element.off(".alert").removeData("alertInstance").removeClass("alertCloseable alertInfo alertNoIcon alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess").find(".closeBtn").remove()},_getAttributes:function(){var attr={role:this.$element.attr("role"),"aria-label":this.$element.attr("aria-label")};return this.$element.attr("role")||(this.hasFocusableChildren?(attr.role="alertdialog",attr.tabindex=this.$element.attr("tabindex")||"-1"):attr.role=this.config.type==="warning"||this.config.type==="success"?"alert":"status"),this.$element.attr("aria-label")||(attr["aria-label"]=this.$element.contents().first().text()),attr},_getBottomMargin:function(){var bottomMargin=parseInt(this.$element.css("margin-bottom"),10);return isNaN(bottomMargin)?0:bottomMargin},_getOptionsByClass:function(){var options={};return this.$element.hasClass("alertSuccess")?options.type="success":(this.$element.hasClass("alertInfo")||this.$element.hasClass("alertNote"))&&(options.type="info"),this.$element.hasClass("alertSitewide")?options.display="sitewide":this.$element.hasClass("alertNotification")?options.display="notification":this.$element.hasClass("alertSection")?options.display="section":this.$element.hasClass("alertOverlay")&&(options.display="overlay"),this.$element.hasClass("alertSlim")&&(options.size="slim"),this.$element.hasClass("alertNoIcon")&&(options.noIcon=!0),this.$element.hasClass("alertHidden")&&(options.open=!1),this.$element.hasClass("alertCloseable")&&(options.closeable=!0),options},_hasTabbableElements:function(){var $elem=$(this.$element),tabElems=0;return $elem.children().each(function(){shared.tabbable(this)&&!$(this).hasClass("alertCloseBtn")&&(tabElems+=1)}),tabElems>0},_initClasses:function(){this.$element.addClass("alert").removeClass("alertCloseable alertInfo alertNoIcon alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess");switch(this.config.display){case"notification":this.$element.addClass("alertNotification");break;case"overlay":this.$element.addClass("alertOverlay");break;case"section":this.$element.addClass("alertSection");break;case"sitewide":this.$element.addClass("alertSitewide")}switch(this.config.type){case"success":this.$element.addClass("alertSuccess");break;case"info":this.$element.addClass("alertInfo");break;case"note":this.$element.addClass("alertInfo")}this.config.closeable===!0&&this.$element.addClass("alertCloseable");this.config.noIcon===!0&&this.$element.addClass("alertNoIcon");this.config.size==="slim"&&this.$element.addClass("alertSlim");this.config.open?this.config.open&&this.$element.removeClass("alertHidden alertHiding"):this.$element.addClass("alertHidden alertHiding")},open:function(){var marginToHideAlert,self=this;this.isOpen||(this.$element.trigger("opening.alert"),this.shouldAnimate?(marginToHideAlert=this.$element.removeClass("alertHidden").outerHeight(!1),this.$element.addClass("alertNoTransition").css("margin-bottom",this.bottomMargin-marginToHideAlert),setTimeout(function(){self.$element.removeClass("alertNoTransition alertHiding").css("margin-bottom","")},10),setTimeout(function(){self._opened()},410)):this._opened())},_opened:function(){var self=this;if(this.hasFocusableChildren&&this.$element.focus(),this.config.duration>0){this.durationTimer=shared.timer(function(){self.close()},this.config.duration);this.$element.on("mouseenter.alert",function(){self.durationTimer.pause()}).on("mouseleave.alert",function(){self.durationTimer.play()})}shared.isValidCallback(this.config.onOpen)&&this.config.onOpen.apply(this.$element,[this.$element]);this.$element.trigger("opened.alert");this.isOpen=!0}},staticProperties:{defaults:{closeable:!1,display:"inline",duration:-1,removable:!1,noIcon:!1,onClose:!1,onOpen:!1,open:!0,type:"warning"},langSets:{de:{closeBtn:"Schlie&#223;en"},en:{closeBtn:"Close"},es:{closeBtn:"Cerrar"},fr:{closeBtn:"Fermer"},it:{closeBtn:"Chiudi"},sv:{closeBtn:"St&#228;ng"}}}},version=2,doubleIncluded=!!$.alert;if(doubleIncluded){if($.alert.version===version){shared.warn("ERROR: You are including alert.js multiple times");return}if(shared.warn("ERROR: You are including multiple versions of alert.js"),$.alert.version>version)return}$.fn.alert=function(options){var args=arguments,isMethodCall=typeof options=="string",returnValue=this;return this.each(function(){var self=$(this),instance=self.data("alertInstance"),methodValue;if(isMethodCall){if(!instance)return shared.warn('Cannot call methods on alert prior to initialization; attempted to call method "'+options+'".'),!1;if(!$.isFunction(instance[options])||options.indexOf("_")===0)return shared.warn('No such method "'+options+'" for alert.'),!1;if(methodValue=instance[options].apply(instance,Array.prototype.slice.call(args,1)),methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1}else alert.create(self,options)}),returnValue};$.alert={getTest:function(){return $.extend({},alert)},version:version};doubleIncluded||$(function(){$('.alert:not([data-auto-instantiate="off"])').alert()})})(jQuery);
(function($){"use strict";var shared={debounce:function(callback,delay,immediate){return this.throttle(callback,delay,undefined,!!immediate)},escapeRegExp:function(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},focusable:function(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&this.visible(element)},isValidCallback:function(callback){return callback&&$.isFunction(callback)},lang:function(){var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang");return langAttr?langAttr.toLowerCase():"en"}(),localize:function(langSet,key){return langSet[this.lang]&&langSet[this.lang][key]?langSet[this.lang][key]:langSet[this.lang.substring(0,2)]&&langSet[this.lang.substring(0,2)][key]?langSet[this.lang.substring(0,2)][key]:langSet.en[key]||""},getTabbableElements:function($container){var self=this;return $container.find("input, select, textarea, button, a, object, [tabindex]").filter(function(){return self.tabbable(this)})},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&this.focusable(element,!isTabIndexNaN)},throttle:function(callback,delay,noTrail,immediate){var timeout,previous=0;return function(){function reset(){timeout=undefined}function execute(){previous=Date.now();callback.apply(self,args)}var self=this,elapsed=Date.now()-previous,args=arguments,timeoutCallback,timeoutDelay;immediate&&!timeout&&execute();timeout&&clearTimeout(timeout);immediate===undefined&&elapsed>delay?execute():noTrail!==!0&&(timeoutCallback=immediate?reset:execute,timeoutDelay=immediate===undefined?delay-elapsed:delay,timeout=setTimeout(timeoutCallback,timeoutDelay))}},visible:function(element){return $.expr.filters.visible(element)&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length},warn:function(msg,useAlert){window.console&&(console.warn(msg),useAlert&&/ancestry(?:stage|dev)/.test(window.location.hostname)&&alert(msg))}},autocomplete={create:function($element,options){var instance=$element.data("autocompleteInstance"),id=$element.attr("id");if(instance&&instance.destroy(),options.key){$("#autocomplete").length||$("body").append('<div id="autocomplete"><\/div>');instance=Object.create(this.proto);instance.config=$.extend({},this.staticProperties.defaults,options);instance.config.minLength=Math.max(1,instance.config.minLength);instance.$element=$element;instance.cachedData={};instance.isOpen=!1;instance.results=[];instance.screenTouches={};instance.term="";instance.$autocomplete=$("#autocomplete");instance.$container=$('<div id = "'+id+'ResultCon" class="autocompleteCon" />');instance.$resultsList=$('<ul id="'+id+'Results" class="autocompleteResults loading" role="listbox" />');instance.$element.addClass("autocompleteInput").attr({"aria-autocomplete":"list","aria-controls":id+"Results","aria-expanded":"false","aria-owns":id+"Results",autocomplete:"off",role:"combobox"});instance.$container.append(instance.$resultsList);instance.$autocomplete.append(instance.$container);instance.$container.on("click.autocomplete",function(){return instance._handleResultsClick()}).on("keydown.autocomplete",function(e){return instance._handleResultsKeydown(e)}).on("keyup.autocomplete",function(e){return instance._handleResultsKeyup(e)});instance.$element.on("input.autocomplete",function(){return instance.$element.removeData("raw")}).on("keydown.autocomplete",function(e){return instance._handleInputKeydown(e)}).on("keyup.autocomplete",function(e){return instance._handleInputKeyup(e)}).on("focusin.autocomplete",function(){return instance._handleInputFocusin()});return instance.$element.data("autocompleteInstance",instance),instance}},proto:{_ajaxRequest:function(){var self=this,config=this.config,overrides,params={},originalAjaxObject,updatedAjaxObject,haveFullDataset=!1;config.queryParameter&&(params[config.queryParameter]=this.term);originalAjaxObject={url:config.source,data:params,dataType:config.dataType,error:function(){shared.warn("Autocomplete Source "+config.source+" cannot be reached");self.close()},success:function(data){var dirtyResults=[],cleanResults,parent;shared.isValidCallback(config.jsonConversion)?dirtyResults=config.jsonConversion.apply(self.$element,[data,config]):config.dataType==="xml"?(parent=$(data).find(config.key).parent(),parent.each(function(){var returnObj={};$(this).children().each(function(){returnObj[this.nodeName]=$(this).text()});dirtyResults.push(returnObj)})):dirtyResults=data;haveFullDataset&&(self.results=dirtyResults);cleanResults=self._cacheResults(dirtyResults);self._open();self._populate(cleanResults)}};this.$resultsList.addClass("loading");overrides=shared.isValidCallback(config.ajaxOverride)?config.ajaxOverride.apply(this.$element,[{url:originalAjaxObject.url,data:originalAjaxObject.data,dataType:originalAjaxObject.dataType}]):config.ajaxOverride;updatedAjaxObject=$.extend({},originalAjaxObject,overrides);$.isEmptyObject(updatedAjaxObject.data)&&(haveFullDataset=!0);$.ajax(updatedAjaxObject)},_bindMouseEvents:function(){var self=this;this.$container.on("mouseenter.autocomplete",".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)",function(e){return self.$focus=self._focusItem($(e.currentTarget)),!0}).on("mouseleave.autocomplete",".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)",function(e){return e.relatedTarget&&self._clearFocus(),!0})},_buildResult:function(item,i,elementId){var self=this,config=this.config,$result="",attributes='tabindex="0"',classes="autocompleteResult",id=elementId+"Autocomplete"+i,itemData={term:this.term,value:item[config.key],display:this._getHighlightedValue(this.term,item[config.key]),raw:item};if(shared.isValidCallback(config.customDisplay)&&(itemData=config.customDisplay.apply(this.$element,[itemData])),itemData.checked===!0&&(classes+=" autocompleteChecked iconAfter iconAfterCheck"),itemData.disabled&&(attributes='aria-disabled="true"'),$result=$("<li "+attributes+' class="'+classes+'" role="option" aria-selected="false" id="'+id+'"><div class="textWrap">'+itemData.display+"<\/div><\/li>"),$result.data({raw:item,value:itemData.value}),!itemData.disabled)$result.on("click.autocomplete",function(e){return self._handleResultClick(e)});return $result},_cacheResults:function(dirtyResults){var self=this,cleanResults=[];return this.config.queryParameter?cleanResults=dirtyResults:dirtyResults.forEach(function(item){self._compare(item)&&cleanResults.push(item)}),this.cachedData[this.term.toLowerCase()]=cleanResults,cleanResults},_clearFocus:function(){this.$focus&&(this.$focus.removeAttr("aria-selected").removeClass("autocompleteSelected"),this.$focus=!1)},close:function(){var config=this.config,id=this.$element.attr("id");this.isOpen&&(shared.isValidCallback(config.onClose)&&config.onClose.apply(this.$element,[this.$container,this.$before,this.$after]),this.$before&&(this.$before.remove(),this.$before=!1),this.$after&&(this.$after.remove(),this.$after=!1),(this.inModal||this.inCallout)&&this.$autocomplete.appendTo("body"),$(window).add("html").add("body").off(".autocomplete."+id),this._clearFocus(),this.$container.off("mouseenter.autocomplete mouseleave.autocomplete").removeClass("autocompleteVisible autocompleteInModal autocompleteInCallout"),this.$resultsList.empty(),this.$autocomplete.css("max-height",""),this.$element.attr("aria-expanded","false").removeClass("autocompleteAttached autocompleteInputInCallout"),this.isOpen=!1,this.$element.trigger("closed.autocomplete"))},_compare:function(item){var config=this.config,regEx=new RegExp(shared.escapeRegExp(this.term),"gi"),termSearch=item[config.key].search(regEx);return config.matchBeginning&&termSearch===0||!config.matchBeginning&&termSearch!==-1},destroy:function(){this.close();this.$element.add(this.$container).add(this.$resultsList).off(".autocomplete");this.$element.removeClass("autocompleteInput").removeAttr("aria-autocomplete aria-controls aria-expanded aria-owns autocomplete role").removeData("autocompleteInstance raw");this.$container.remove()},flush:function(){this.cachedData={}},_focusItem:function($item){return this._clearFocus(),$item.addClass("autocompleteSelected").focus(),$item.closest(this.$resultsList).length&&$item.attr("aria-selected","true"),$item},_getHighlightedValue:function(searchTerm,highlightedValue){var config=this.config,openPattern,closePattern,regex;return config.highlight&&(regex=new RegExp(shared.escapeRegExp(searchTerm),"gi"),config.highlight===!0?highlightedValue=highlightedValue.replace(regex,function(matched){return'<span class="autocompleteHighlighted">'+matched+"<\/span>"}):(openPattern=new RegExp(shared.escapeRegExp(config.highlight.open),"g"),closePattern=new RegExp(shared.escapeRegExp(config.highlight.close),"g"),highlightedValue=highlightedValue.replace(openPattern,'<span class="autocompleteHighlighted">').replace(closePattern,"<\/span>"))),highlightedValue},_handleBodyFocusin:function(e){var $target=$(e.target),targetInContainer=!!$target.closest(this.$container).length,targetIsCurrentCallout=this.inCallout&&$target.is("#calloutContent"),targetIsCurrentElement=$target.is(this.$element);return targetInContainer||targetIsCurrentCallout||targetIsCurrentElement||this.close(),!0},_handleHtmlTouchendOrClick:function(e){var $target=$(e.target),isLabel=$target.attr("for"),$input=isLabel?$("#"+isLabel):!1,isTapEvent=e.originalEvent.changedTouches?Math.max(Math.abs(this.screenTouches.x-e.originalEvent.changedTouches[0].pageX),Math.abs(this.screenTouches.y-e.originalEvent.changedTouches[0].pageY))<5:!1,targetInAutocomplete=!!$target.closest(this.$autocomplete).length,targetInElement=!!$target.closest(this.$element).length;return targetInElement||targetInAutocomplete||(!$input||$input.hasClass("autocompleteAttached"))&&($input||$target.hasClass("autocompleteAttached"))||(e.type==="click"||isTapEvent)&&this.close(),!0},_handleHtmlTouchstart:function(e){return this.screenTouches.x=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX,this.screenTouches.y=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.pageY,!0},_handleInputFocusin:function(){return this.isOpen?this._clearFocus():this._retrieveResults(),!0},_handleInputKeydown:function(e){var key=e.which;if(key===9||key===27)this.close();else if(key===38||key===40)return!1;return!0},_handleInputKeyup:function(e){var key=e.which;return key===38||key===40?(this._navigateListItems(key===38),!1):(key===32&&this.disableSpace?this.disableSpace=!1:key!==9&&key!==13&&key!==16&&key!==27&&this.run(),!0)},_handleResultClick:function(e){var $result=$(e.currentTarget);return $result.attr("aria-disabled")?!1:(this._selectItem($result),!0)},_handleResultsClick:function(){return this.inModal&&$.modal&&$.modal.preventClosing(),!0},_handleResultsKeydown:function(e){var key=e.which,$result=$(e.target),isResult=!!$result.closest(this.$resultsList).length,tabOnResult=isResult&&key===9,enterOnResult=isResult&&key===13,spaceOnResult=isResult&&key===32,shouldSelectResult=tabOnResult||enterOnResult||spaceOnResult,shouldStopEvent=enterOnResult||spaceOnResult||key===27||key===38||key===40;return spaceOnResult&&(this.disableSpace=!0),shouldSelectResult?this._selectItem($result):(key===27||key===9)&&(this.$element.focus(),this.close()),!shouldStopEvent},_handleResultsKeyup:function(e){var key=e.which;return(key===40||key===221)&&this._navigateListItems(),(key===38||key===219)&&this._navigateListItems(!0),!0},_navigateListItems:function(reverse){var currentIndex,targetIndex,$targetElement=!1,$endElement,$tabbable;if($tabbable=shared.getTabbableElements(this.$container),!$tabbable.length)return!1;this.$focus?($endElement=reverse?$tabbable.first():$tabbable.last(),this.$focus.is($endElement)||(currentIndex=$tabbable.index(this.$focus),targetIndex=reverse?currentIndex-1:currentIndex+1,$targetElement=$tabbable.eq(targetIndex))):$targetElement=reverse?$tabbable.last():$tabbable.first();$targetElement?this.$focus=this._focusItem($targetElement):this.$element.focus()},_open:function(){var self=this,config=this.config,id=this.$element.attr("id");if(this.inModal=this.$element.closest(".modal, #modal").length>0,this.inCallout=this.$element.closest("#callout").length>0,this.$resultsList.off("click.autocomplete.noResults").removeClass("loading autocompleteHasChecks").empty(),this.inCallout||this._positionAutocomplete(),!this.isOpen){if(shared.isValidCallback(config.onOpen)&&(this.$before=$('<div class="autocompleteBefore" />'),this.$after=$('<div class="autocompleteAfter" />'),config.onOpen.apply(this.$element,[this.$container,this.$before,this.$after]),this.$before.is(":empty")||this.$resultsList.before(this.$before),this.$after.is(":empty")||this.$resultsList.after(this.$after)),this.$element.addClass("autocompleteAttached").attr("aria-expanded","true"),this.$container.addClass("autocompleteVisible"),$(window).outerWidth(!1)<768&&$("body, html").animate({scrollTop:this.$element.offset().top-10},500),this.inCallout)this.$element.addClass("autocompleteInputInCallout"),this.$container.addClass("autocompleteInCallout"),this.$element.parent(".labelIconOnly").length?this.$autocomplete.insertAfter(this.$element.parent()):this.$autocomplete.insertAfter(this.$element);else{$(window).on("resize.autocomplete."+id,shared.debounce(function(){return self._positionAutocomplete(),!0},100));this.inModal&&(this.$container.addClass("autocompleteInModal"),this.$autocomplete.appendTo("#modal"))}$("html").on("touchstart.autocomplete."+id,function(e){return self._handleHtmlTouchstart(e)}).on("touchend.autocomplete."+id+" click.autocomplete."+id,function(e){return self._handleHtmlTouchendOrClick(e)});$("body").on("focusin.autocomplete."+id,function(e){return self._handleBodyFocusin(e)});this.isOpen=!0;this._bindMouseEvents();this.$element.trigger("opened.autocomplete")}},_populate:function(results){var self=this,elementId=self.$element.attr("id");if(results.length)results=results.slice(0,this.config.maxResults),results.forEach(function(item,i){var $result=self._buildResult(item,i,elementId);self.$resultsList.append($result)}),self.$resultsList.find(".autocompleteChecked").length&&self.$resultsList.addClass("autocompleteHasChecks");else{this.$resultsList.html('<li class="autocompleteResult autocompleteNoResults" role="alert" label="Search Results">'+shared.localize(autocomplete.staticProperties.langSets,"noMatches")+"<\/li>").on("click.autocomplete.noResults",function(){return!1});this.$element.removeData("raw")}this.$element.trigger("populated.autocomplete")},_positionAutocomplete:function(){var self=this;this._positionContainer();this.inModal&&setTimeout(function(){self._positionContainer()},300)},_positionContainer:function(){var offset=this.$element.offset(),top,modalPadding,$modal;this.$container.css("max-height","");top=Number(offset.top+this.$element.outerHeight(!1));this.inModal&&($modal=$("#modal"),$modal.css("position")==="absolute"?(modalPadding=parseInt($("#modalContents").css("padding"),10),this.$container.css("max-height",$("#modal").outerHeight(!0)-top-modalPadding)):$modal.css("position")==="fixed"&&(top-=$(document).scrollTop()));this.$container.css({top:top,left:offset.left,width:this.$element.outerWidth(!1)})},_retrieveResults:function(){var config=this.config,convertedData,enoughCharacters=!1,prevTerm=this.term,results;(this.term=this.$element.val(),this.term===prevTerm&&this.isOpen)||(enoughCharacters=this.term.length>=config.minLength,enoughCharacters?this.term!==this.$element.attr("placeholder")&&(Array.isArray(this.cachedData[this.term.toLowerCase()])?results=this.cachedData[this.term.toLowerCase()]:$.isFunction(config.source)?(convertedData=shared.isValidCallback(config.jsonConversion)?config.jsonConversion.apply(this.$element,[config.source.apply(this.$element,[this.term])]):config.source.apply(this.$element,[this.term]),results=convertedData):typeof config.source=="object"?(convertedData=shared.isValidCallback(config.jsonConversion)?config.jsonConversion.apply(this.$element,[config.source,config]):config.source,results=this._cacheResults(convertedData)):typeof config.source=="string"&&(this.results&&this.results.length?results=this._cacheResults(this.results):this._ajaxRequest()),results&&(!results.length&&config.disableNoResultsMessage?this.close():(this._open(),this._populate(results)))):config.alwaysOpenOnFocus&&!this.isOpen?this._open():!config.alwaysOpenOnFocus&&this.isOpen?this.close():this.$resultsList.empty())},run:shared.debounce(function(){this._retrieveResults()},200),_selectItem:function($item){var config=this.config,raw=$item.data("raw");$item&&this.$focus&&$item[0]===this.$focus[0]?(this.$element.data("raw",raw).val($item.data("value")),shared.isValidCallback(config.onResultSelect)&&(shared.warn('DEPRECATION NOTICE: Please replace "onResultSelect" with "onItemSelect"'),config.onResultSelect.apply(this.$element,[$item])),shared.isValidCallback(config.onItemSelect)&&config.onItemSelect.apply(this.$element,[raw])):this.$element.removeData("raw");this.$element.focus();this.close()}},staticProperties:{defaults:{ajaxOverride:{},alwaysOpenOnFocus:!1,customDisplay:!1,dataType:"json",disableNoResultsMessage:!1,highlight:!0,jsonConversion:!1,key:"",matchBeginning:!1,maxResults:20,minLength:3,onClose:!1,onOpen:!1,onItemSelect:!1,queryParameter:!1,source:""},langSets:{de:{noMatches:"Keine &#220;bereinstimmungen gefunden"},en:{noMatches:"No matches found"},es:{noMatches:"No se encontraron concordancias"},fr:{noMatches:"Aucune correspondance trouv&#233;e"},it:{noMatches:"Nessuna corrispondenza trovata"},sv:{noMatches:"Inga matchningar hittades"}}}},version=2,doubleIncluded=!!$.autocomplete;if(doubleIncluded){if($.autocomplete.version===version){shared.warn("ERROR: You are including autocomplete.js multiple times");return}if(shared.warn("ERROR: You are including multiple versions of autocomplete.js"),$.autocomplete.version>version)return}$.fn.autocomplete=function(options){var isMethodCall=typeof options=="string",args=arguments,returnValue=this;return this.each(function(){var $this=$(this),instance=$this.data("autocompleteInstance"),methodValue;if(isMethodCall){if(!instance)return shared.warn('Cannot call methods on autocomplete prior to initialization; attempted to call method "'+options+'".'),!1;if(!$.isFunction(instance[options])||options.indexOf("_")===0)return shared.warn('No such method "'+options+'" for autocomplete.'),!1;if(methodValue=instance[options].apply(instance,Array.prototype.slice.call(args,1)),methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1}else autocomplete.create($this,options)}),returnValue};$.autocomplete={close:function(){var $autocompleteInput=$(".autocompleteAttached");$autocompleteInput.length&&$autocompleteInput.autocomplete("close")},getTest:function(){return $.extend({},autocomplete)},version:version}})(jQuery);
(function($){"use strict";var defaults={allowClick:!1,style:"light",type:"click",content:"",classes:"",calloutClasses:"",disableAutofocusOnOpen:!1,position:"bottom",align:"center",hidePointer:!1,keepContentInPlace:!0,showDelay:100,hideDelay:100,onOpen:!1,onAfterOpen:!1,onClose:!1,debounceTime:250},closeTimer,showDelayTimer,isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,$html=$("html"),scrollable=!1,version=1,doubleIncluded=!!$.callout;if(doubleIncluded){if($.callout.version===version){window.console&&console.warn("ERROR: You are including callout.js multiple times");return}if(window.console&&console.warn("ERROR: You are including multiple versions of callout.js"),$.callout.version>version)return}$.fn.callout=function(options){return this.each(function(){function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length}function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!element.href||!mapName||map.nodeName.toLowerCase()!=="map")?!1:(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img)):(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function getTabbableElements($container){return $container.find("input, select, textarea, button, a, object, [tabindex]").filter(function(){return tabbable(this)})}function tabbable(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}function resetCalloutContent(){calloutWrap.add(calloutContent).add(calloutPointer).removeAttr("style class");calloutContent.removeAttr("role").off("keydown.callout").addClass("calloutContent");calloutWrap.addClass("callout");calloutPointer.addClass("calloutPointer");$("#modal, html").add(window).add(calloutWrap).off(".callout")}function hideCallout(runOnClose){var $openCalloutTrigger=$(".calloutTrigger.active"),openCalloutSettings=$openCalloutTrigger.data("callout-settings"),focusIsWithinCallout=calloutContent.find(":focus").length;if($openCalloutTrigger.length){if(runOnClose&&openCalloutSettings.onClose!==!1)openCalloutSettings.onClose($openCalloutTrigger);resetCalloutContent();openCalloutSettings.keepContentInPlace?$("#calloutContentPlaceholder").replaceWith($(openCalloutSettings.content)):calloutContent.children().remove();$openCalloutTrigger.removeClass("hover active").attr("aria-expanded",!1);scrollable&&$openCalloutTrigger.closest(".calloutScrollPane").off("scroll.callout");modalHeight!==!1&&($("html").hasClass("modalOpen")&&$("body, #modal").css("height",modalHeight),$("#modalCenter").css("height",""),modalHeight=!1,$("#modal").removeData("preventModalCenterOnResize"));focusIsWithinCallout&&$openCalloutTrigger.focus()}}function setModalHeightOnTouchDevices(){var $modalCenter=$("#modalCenter"),heightCurrentlyAvailable=$("body").outerHeight(!0),heightNeededToShowCallout=calloutWrap.offset().top+calloutContent.outerHeight(!0);heightCurrentlyAvailable<heightNeededToShowCallout&&(modalHeight=heightCurrentlyAvailable,$modalCenter.css("height",$modalCenter.css("height")),$("body, #modal").css("height",heightNeededToShowCallout),$("#modal").data("preventModalCenterOnResize",!0))}function setModalHeightOnNonTouchDevices(){var $modalContents=$("#modalContents"),heightNeededToShowCallout=calloutWrap.offset().top+calloutContent.outerHeight(!0),heightCurrentlyAvailable=$modalContents.outerHeight(!1)+$modalContents.offset().top,extraSpaceNeeded=Math.max(heightNeededToShowCallout-heightCurrentlyAvailable,0);$modalContents.css("margin-bottom",extraSpaceNeeded)}function positionCallout(position,align,lastRun){var windowWidth=$window.outerWidth(!1),triggerHeight=$trigger.outerHeight(!1),triggerWidth=$trigger.outerWidth(!1),triggerPos=$trigger.offset(),leftOfTrigger=triggerPos.left,centerOfTrigger=leftOfTrigger+triggerWidth/2,rightOfTrigger=leftOfTrigger+triggerWidth,topOfTrigger=triggerPos.top,bottomOfTrigger=topOfTrigger+triggerHeight,calloutTempWidth=calloutContent.outerWidth(!1),calloutInputOffset=16,calloutOffset=24,inModal=$trigger.closest("#modal").length>0,calloutContentHeight,calloutIsPastModalArea,minTriggerHeight=42;if(calloutWrap.removeClass("calloutPositionBottom calloutPositionTop calloutPositionLeft calloutPositionRight calloutAlignLeft calloutAlignCenter calloutAlignMiddle calloutAlignRight calloutAlignTop calloutAlignBottom").add(calloutContent).add(calloutPointer).removeAttr("style"),calloutContent.css({width:calloutDefaultWidth}),isInputField){var leftCorrect=0,minimumMaxWidth=180,widthAvailable=windowWidth-(leftOfTrigger+10);minimumMaxWidth>widthAvailable&&(leftCorrect=Math.min(minimumMaxWidth,calloutDefaultWidth)-widthAvailable);calloutContent.css({"max-width":Math.max(triggerWidth,minimumMaxWidth),width:calloutDefaultWidth});calloutWrap.addClass("calloutPositionBottom").css({left:leftOfTrigger-leftCorrect,top:bottomOfTrigger})}else if(settings.type==="cursor"){calloutContent.css("width",calloutTempWidth);$trigger.on("mousemove.callout",function(e){calloutWrap.css({left:Math.max(calloutInputOffset+windowPadding,Math.min(e.pageX,windowWidth-windowPadding-calloutContent.outerWidth(!1)+calloutInputOffset)),top:e.pageY});e.pageX>windowWidth+calloutInputOffset-calloutContent.outerWidth(!1)?calloutPointer.css({left:Math.min(e.pageX-calloutWrap.offset().left-calloutInputOffset/2,calloutContent.outerWidth(!1)-48)}):calloutPointer.css({left:0})});calloutWrap.addClass("calloutPositionBottom")}else{position||(position=settings.position);align||(align=settings.align);calloutWrap.css({left:centerOfTrigger});switch(align){case"left":calloutWrap.addClass("calloutAlignLeft");calloutContent.css({"max-width":Math.max(centerOfTrigger+calloutOffset-windowPadding,calloutMinWidth),right:triggerWidth<parseInt(calloutPointer.css("width"),10)?-calloutOffset:-triggerWidth/2});break;case"right":calloutWrap.addClass("calloutAlignRight");calloutContent.css({left:-triggerWidth/2,"max-width":Math.max(windowWidth-centerOfTrigger+calloutOffset-windowPadding,calloutMinWidth)});break;default:if(position==="left"||position==="right")switch(align){case"top":calloutWrap.addClass("calloutAlignTop");triggerHeight<minTriggerHeight?calloutWrap.css({top:topOfTrigger-(minTriggerHeight-triggerHeight)/2}):calloutWrap.css({top:topOfTrigger});break;case"bottom":calloutWrap.addClass("calloutAlignBottom");triggerHeight<minTriggerHeight?calloutWrap.css({top:bottomOfTrigger+(minTriggerHeight-triggerHeight)/2}):calloutWrap.css({top:bottomOfTrigger});break;default:calloutWrap.addClass("calloutAlignMiddle").css({top:topOfTrigger+triggerHeight/2-calloutWrap.outerHeight(!1)/2});calloutContent.css({top:"-"+calloutContent.outerHeight(!1)/2+"px"})}else calloutWrap.addClass("calloutAlignCenter"),calloutContent.css({left:-Math.abs(calloutContent.outerWidth(!1)/2)}),calloutContent.offset().left+calloutContent.outerWidth(!1)-$(document).scrollLeft()>windowWidth&&calloutContent.css({left:-Math.abs(calloutContent.outerWidth(!1)/2)+(windowWidth-calloutContent.offset().left-calloutContent.outerWidth(!1))+$(document).scrollLeft()-windowPadding,"max-width":windowWidth-windowPadding*2}),calloutContent.offset().left<0&&calloutContent.css({left:-Math.abs(leftOfTrigger)-triggerWidth/2+windowPadding,"max-width":windowWidth-windowPadding*2})}switch(position){case"left":calloutWrap.addClass("calloutPositionLeft").css({left:leftOfTrigger-calloutWrap.outerWidth(!1)});calloutContent.css({"max-width":Math.max(leftOfTrigger-windowPadding-parseInt(calloutContent.css("margin-left"),10)-parseInt(calloutContent.css("margin-right"),10),calloutMinWidth)});break;case"right":calloutWrap.addClass("calloutPositionRight").css({left:rightOfTrigger});calloutContent.css({"max-width":Math.max(windowWidth-rightOfTrigger-windowPadding-parseInt(calloutContent.css("margin-left"),10)-parseInt(calloutContent.css("margin-right"),10),calloutMinWidth)});break;case"top":calloutWrap.addClass("calloutPositionTop").css({top:topOfTrigger-calloutWrap.outerHeight(!1)});break;default:calloutWrap.addClass("calloutPositionBottom").css({top:bottomOfTrigger})}calloutContentHeight=calloutContent.outerHeight(!1);calloutContent.offset().top+calloutContentHeight>$window.scrollTop()+$window.outerHeight(!1)&&(position==="left"||position==="right")&&calloutContent.css({top:Math.max(parseInt(calloutContent.css("top"),10)-(calloutContent.offset().top+calloutContentHeight-$window.scrollTop()-$window.outerHeight(!1)+windowPadding),-Math.abs(calloutContentHeight-calloutOffset))});calloutContent.offset().top<$window.scrollTop()&&((position==="left"||position==="right")&&calloutContent.css({top:Math.min(parseInt(calloutContent.css("top"),10)+($window.scrollTop()-calloutContent.offset().top+windowPadding),-Math.abs(calloutOffset))}),position!=="top"||lastRun||positionCallout("bottom","center",!0));(calloutContent.offset().left<0||windowWidth<calloutContent.offset().left+calloutContent.outerWidth(!1))&&(lastRun||positionCallout(settings.position==="left"||settings.position==="right"?"bottom":settings.position,"center",!0));inModal&&!lastRun&&calloutWrap.hasClass("calloutPositionBottom")&&(isTouchDevice?(calloutIsPastModalArea=calloutContent.offset().top+calloutContent.outerHeight(!1)>$("#modal").height(),calloutIsPastModalArea&&setModalHeightOnTouchDevices()):(calloutIsPastModalArea=$("#modal").scrollTop()+calloutContent.offset().top+calloutContent.outerHeight(!1)-Math.max($("body").scrollTop(),$html.scrollTop())>Math.max($("#modal").outerHeight(!1),$("#modalContents").outerHeight(!1)),calloutIsPastModalArea&&setModalHeightOnNonTouchDevices()))}}function resetShowTimer(){showDelayTimer&&(clearTimeout(showDelayTimer),showDelayTimer=null)}function hideDelay(){hideDelayTimer=setTimeout(function(){$(".calloutTrigger").hasClass("hover")||calloutWrap.hasClass("hover")||(resetShowTimer(),hideCallout(!0))},settings.hideDelay)}function resetHideTimer(){hideDelayTimer&&(clearTimeout(hideDelayTimer),hideDelayTimer=null)}function handleTabPress(){$("#calloutContent").off("keydown.callout").on("keydown.callout",function(e){var tabbableElements,focusedElement,$this=$(this);e.keyCode===9&&(tabbableElements=getTabbableElements($this),focusedElement=$this.find(":focus")||$this,(e.shiftKey&&(focusedElement.get(0)===tabbableElements.first().get(0)||$("#calloutContent:focus").length)||!e.shiftKey&&focusedElement.get(0)===tabbableElements.last().get(0)||focusedElement.eq(0).is('[type="radio"]')&&(e.shiftKey&&focusedElement.eq(0).attr("name")===tabbableElements.first().eq(0).attr("name")||!e.shiftKey&&focusedElement.eq(0).attr("name")===tabbableElements.last().eq(0).attr("name")))&&($trigger.focus(),hideCallout(!0)))})}function focusOnCallout(){var newScrollTop,oldScrollTop,$body;$trigger.is("input, textarea")||($body=$("body"),oldScrollTop=Math.max($body.scrollTop(),$html.scrollTop()),$("#calloutContent").focus(),newScrollTop=Math.max($body.scrollTop(),$html.scrollTop()),newScrollTop!==oldScrollTop&&$("body, html").scrollTop(oldScrollTop))}function resetDefaultWidth(){return Math.ceil(calloutWrap.css({display:"block",left:"0",top:"0",width:"auto"}).find(calloutContent).css({position:"relative",width:"auto"})[0].getBoundingClientRect().width)}function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null;immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);callNow&&func.apply(context,args)}}function showCallout(){var preventClose=!1,$scrollableContainer;if(clearTimeout(closeTimer),$trigger.data("callout-settings",settings),settings.keepContentInPlace&&$trigger.data("callout-content").before('<span id="calloutContentPlaceholder" style="display:none;"><\/span>'),calloutContent.html($trigger.data("callout-content")),!calloutWrap.hasClass("calloutTypeCursor")&&settings.type!=="custom")$html.on("touchstart.callout",function(e){calloutTouches.x=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX;calloutTouches.y=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.pageY}).on("click.callout touchend.callout",function(e){var triggerIsWithinCallout=$(e.srcElement||e.target||e.originalEvent.originalTarget).closest("#callout").length;preventClose||triggerIsWithinCallout||(e.type==="click"?hideCallout(!0):!isInputField&&Math.max(Math.abs(calloutTouches.x-e.originalEvent.changedTouches[0].pageX),Math.abs(calloutTouches.y-e.originalEvent.changedTouches[0].pageY))<5&&(closeTimer=setTimeout(function(){hideCallout(!0);preventClose=!1},500),preventClose=!0))});if(settings.type==="hover"||settings.type==="cursor")calloutWrap.on("mouseenter.callout",function(){calloutWrap.addClass("hover");resetHideTimer()}).on("mouseleave.callout",function(){calloutWrap.removeClass("hover");hideDelay()});if(settings.onOpen!==!1)settings.onOpen($trigger);if(settings.style==="dark"?calloutWrap.addClass("calloutStyleDark bgDark"):settings.style==="alt"?calloutWrap.addClass("calloutStyleAlt"):settings.style==="guidance"&&calloutWrap.addClass("calloutStyleGuidance"),settings.classes&&calloutContent.addClass(settings.classes),settings.calloutClasses&&calloutWrap.addClass(settings.calloutClasses),$trigger.attr("data-callout-classes")&&calloutContent.addClass($trigger.attr("data-callout-classes")),$trigger.attr("data-callout-wrap-classes")&&calloutContent.addClass($trigger.attr("data-callout-wrap-classes")),settings.hidePointer&&calloutWrap.addClass("calloutHidePointer"),(!calloutDefaultWidth||$trigger.data("callout-updated"))&&(isInputField&&calloutContent.css({"max-width":"none"}),calloutDefaultWidth=resetDefaultWidth(),calloutWrap.add(calloutContent).removeAttr("style"),$trigger.removeData("callout-updated")),calloutWrap.addClass("active"),isInputField&&calloutWrap.addClass("calloutTypeInput"),settings.type==="cursor"&&(calloutWrap.addClass("calloutTypeCursor"),calloutContent.css({width:Math.min(parseInt(calloutDefaultWidth,10),$window.outerWidth(!1)-windowPadding*2)})),positionCallout(),$trigger.closest("#modal").length>0){$("#modal").on("recentered",function(){positionCallout();adjustCalloutInModal()});adjustCalloutInModal();$("#modal").on("scroll.callout",function(){calloutWrap.css({"margin-top":-$(this).scrollTop()})})}if($trigger.addClass("hover active").attr("aria-expanded",!0),handleTabPress(),settings.onAfterOpen!==!1)settings.onAfterOpen($trigger);settings.disableAutofocusOnOpen!==!0&&(settings.type!=="hover"&&getTabbableElements(calloutContent).length?calloutContent.find(":focus").length||focusOnCallout():calloutContent.attr("role","alert"));$window.on((isTouchDevice?"orientationchange":"resize")+".callout",function(){calloutWrap.hasClass("active")&&!calloutWrap.hasClass("calloutStyleGuidance")&&hideCallout(!1)});if(scrollable){$scrollableContainer=$trigger.closest(".calloutScrollPane");$scrollableContainer.on("scroll.callout",debounce(function(){stillInView($trigger,$scrollableContainer)?positionCallout():hideCallout()},settings.debounceTime))}}function adjustCalloutInModal(){modalScrollPos=$("#modal").scrollTop();calloutWrap.css({"margin-top":-modalScrollPos,top:"+="+modalScrollPos,"z-index":1010})}function destroyCallout(){resetShowTimer();$trigger.hasClass("active")&&hideCallout(!0);!$(".calloutTrigger.active").length&&$("#callout.active").length&&$("#calloutContent:empty").length&&resetCalloutContent();$trigger.off(".callout").removeClass("calloutTrigger iconAfter iconArrowSmallDownAfter").removeData("callout-content").removeAttr("aria-expanded")}function showDelay(){showDelayTimer=setTimeout(function(){$(".calloutTrigger.active").not($trigger).length&&hideCallout(!0);!$trigger.hasClass("hover")||$trigger.hasClass("active")||calloutWrap.hasClass("active")||(resetHideTimer(),showCallout())},Math.max(100,settings.showDelay))}function stillInView($element,$container){var elementHeight=$element.outerHeight(!1),elementWidth=$element.outerWidth(!1),elementOffset=$element.offset(),containerHeight=$container.outerHeight(!1),containerWidth=$container.outerWidth(!1),containerOffset=$container.offset(),notAbove=elementOffset.top+elementHeight>=containerOffset.top,notBelow=elementOffset.top+elementHeight<=containerOffset.top+containerHeight,notLeft=elementOffset.left>=containerOffset.left,notRight=elementOffset.left+elementWidth<=containerOffset.left+containerWidth;return notAbove&&notBelow&&notLeft&&notRight}function addEvents(){var preventClick=!0;if(isInputField)$trigger.on(($trigger.is("select")?"mouseenter.callout ":"")+"focus.callout open.callout",function(){showCallout()}).on("blur.callout close.callout",function(){hideCallout(!0)}).on("click.callout",function(e){e.stopPropagation()});else if(settings.type==="custom")$trigger.on("open.callout",function(){showCallout()}).on("close.callout",function(){hideCallout(!0)});else if(settings.type==="hover"||settings.type==="cursor"){$trigger.on("mouseenter.callout open.callout",function(){$trigger.addClass("hover");showDelay();preventClick=!0;setTimeout(function(){preventClick=!1},600)}).on("mouseleave.callout",function(){$trigger.removeClass("hover");hideDelay()}).on("close.callout",function(){hideCallout(!0)});if(isTouchDevice)$trigger.on("click.callout",function(){if(preventClick)return!1})}else $trigger.on("click.callout",function(e){$trigger.hasClass("active")?(hideCallout(!0),settings.allowClick&&(preventClick=!1)):(calloutWrap.hasClass("active")&&hideCallout(!0),showCallout());preventClick&&(e.stopImmediatePropagation(),$trigger.is("a")&&e.preventDefault());preventClick=!0}).on("open.callout",function(){$trigger.hasClass("active")||(calloutWrap.hasClass("active")&&hideCallout(!0),showCallout())}).on("close.callout",function(){hideCallout(!0)});$trigger.on("destroy.callout",function(){destroyCallout()}).on("focusCallout.callout",function(){focusOnCallout()}).on("updateContent.callout",function(){calloutDefaultWidth=resetDefaultWidth();positionCallout()}).on("updateCalloutSettings.callout",function(e,newTrigger,position,align){$trigger=$(newTrigger);settings.position=position||"bottom";settings.align=align||"center";calloutDefaultWidth=resetDefaultWidth();positionCallout();$trigger.removeClass("hover active")}).on("position.callout",function(){positionCallout()})}function initCallout(){if(settings.style==="guidance"?($('<div id="calloutGuidance" class="callout"><div id="calloutGuidanceContent" class="calloutContent" tabindex="0"><\/div><div id="calloutGuidancePointer" class="calloutPointer"><div id="calloutPointerShadow" class="calloutPointerShadow"><\/div><\/div><\/div>').appendTo("body"),calloutWrap=$("#calloutGuidance"),calloutContent=$("#calloutGuidanceContent"),calloutPointer=$("#calloutGuidancePointer")):($("#callout").length||$('<div id="callout" class="callout"><div id="calloutContent" class="calloutContent" tabindex="-1"><\/div><div id="calloutPointer" class="calloutPointer"><div id="calloutPointerShadow" class="calloutPointerShadow"><\/div><\/div><\/div>').appendTo("body"),calloutWrap=$("#callout"),calloutContent=$("#calloutContent"),calloutPointer=$("#calloutPointer")),calloutMinWidth=Math.max(240,parseInt(calloutWrap.css("min-width"),10)),settings.content)try{$(settings.content).closest("body").length?($trigger.data("callout-content",$(settings.content)),$trigger.data("callout-content").addClass("calloutDomContent")):(settings.keepContentInPlace=!1,$trigger.data("callout-content",settings.content))}catch(e){settings.content="<div>"+settings.content+"<\/div>";settings.keepContentInPlace=!1;$trigger.data("callout-content",settings.content)}else $trigger.attr("data-callout")?(settings.keepContentInPlace=!1,$trigger.data("callout-content",$trigger.attr("data-callout"))):$trigger.attr("title")?(settings.keepContentInPlace=!1,$trigger.data("callout-content",$trigger.attr("title"))):$trigger.data("callout-content","&nbsp;");$trigger.off(".callout").addClass("calloutTrigger").attr("aria-expanded",!1).not(".calloutTooltip").not(".iconLeaf, .iconShakyLeaf, .iconBars, input, select, textarea, .calloutTriggerNoArrow").addClass("iconAfter iconArrowSmallDownAfter").not(".ancBtn").not(".photo").not(":empty").filter(function(){var $e=$(this),$c=$e.children(),$l=$c.length,$f=$c.first();return $l?!($l===1&&$f.is("span")&&$.trim($e.text())===$.trim($f.text())):$.trim($e.text())}).wrapInner("<span>");$trigger.is("input, select, textarea")&&(isInputField=!0,settings.style="dark",settings.hidePointer=!0,settings.position="bottom");$trigger.hasClass("calloutStyleDark")?settings.style="dark":$trigger.hasClass("calloutStyleAlt")&&(settings.style="alt");$trigger.hasClass("calloutTypeHover")?settings.type="hover":$trigger.hasClass("calloutTypeCursor")?settings.type="cursor":$trigger.hasClass("calloutTypeCustom")&&(settings.type="custom");$trigger.hasClass("calloutPositionTop")?settings.position="top":$trigger.hasClass("calloutPositionRight")?settings.position="right":$trigger.hasClass("calloutPositionLeft")&&(settings.position="left");$trigger.hasClass("calloutAlignLeft")?settings.align="left":$trigger.hasClass("calloutAlignRight")?settings.align="right":$trigger.hasClass("calloutAlignTop")?settings.align="top":$trigger.hasClass("calloutAlignBottom")&&(settings.align="bottom");$trigger.hasClass("calloutHidePointer")&&(settings.hidePointer=!0);$trigger.closest(".calloutScrollPane").length&&(scrollable=!0);$trigger.hasClass("calloutTooltip")&&$trigger.addClass("link iconAfter iconHelpAfter").not(":has(span)").not(":empty").wrapInner("<span>");addEvents()}var $trigger=$(this),$window=$(window),isInputField,hideDelayTimer,calloutWrap,calloutContent,calloutPointer,calloutDefaultWidth,calloutMinWidth,modalHeight=!1,modalScrollPos=0,windowPadding=8,calloutTouches={},settings=$.extend({},defaults,options);switch(options){case"destroy":$trigger.triggerHandler("destroy.callout");break;case"open":$trigger.triggerHandler("open.callout");break;case"close":$trigger.triggerHandler("close.callout");break;case"focus":$trigger.triggerHandler("focusCallout.callout");break;default:initCallout()}})};$.callout={close:function(){var $trigger=$(".calloutTrigger.active");$trigger.length&&$trigger.triggerHandler("close.callout")},content:function($trigger,newContent){$trigger.data("callout-content",newContent).data("callout-updated",!0);$trigger.hasClass("active")&&$("#calloutContent").html(newContent);$trigger.triggerHandler("updateContent.callout")},updateCalloutSettings:function($trigger,$newTrigger,newContent,position,align){newContent&&($trigger.data("callout-content",newContent).data("callout-updated",!0),$("#calloutGuidanceContent").html(newContent));$trigger.triggerHandler("updateCalloutSettings.callout",[$newTrigger,position,align])},positionCallout:function($trigger){$trigger.triggerHandler("position.callout")},version:version};doubleIncluded||$(function(){$('[data-callout]:not([data-auto-instantiate="off"])').callout()})})(jQuery);
(function($){"use strict";function setPositions($el){var settings=$el.data("carousel"),$inner=$el.data("$carouselInner"),$slides,$lastSlide,lastSlideIndex,carouselWidth,maxLeftPosition;settings.infinite&&$el.data("$carouselSlides",$el.find(".carouselSlide"));$slides=$el.data("$carouselSlides");$lastSlide=$slides.eq(-1);lastSlideIndex=$lastSlide.index();carouselWidth=$lastSlide.position().left+$lastSlide.outerWidth(!0);carouselWidth<=$el.outerWidth(!1)?$slides.data("carousel-position",0):settings.fullWidth?(maxLeftPosition=-$lastSlide.position().left-parseInt($lastSlide.css("margin-left"),10),$slides.each(function(){$(this).data("carousel-position",(-$(this).position().left-parseInt($(this).css("margin-left"),10))/$(this).outerWidth(!1)*100+"%")})):(maxLeftPosition=$inner.width()-carouselWidth,$slides.each(function(){return $(this).data("carousel-position",-$(this).position().left-parseInt($(this).css("margin-left"),10)),$(this).data("carousel-position")<=maxLeftPosition?($(this).data("carousel-position",maxLeftPosition),$lastSlide=$(this),lastSlideIndex=$(this).index(),!1):void 0}));settings.carouselHeight!=="auto"&&settings.carouselHeight!=="varied"&&$slides.css("min-height",settings.carouselHeight);$el.data("$carouselGoToSlideBtns")&&$el.data("$carouselGoToSlideBtns").each(function(){$(this).attr("data-carousel-slide")>lastSlideIndex?$(this).fadeOut():$(this).fadeIn()});$el.data("$lastSlide",$lastSlide).data("carousel-stage-width",carouselWidth)}function markCarousel($el,oldSlideIndex,newSlideIndex){var settings=$el.data("carousel"),$slides=$el.data("$carouselSlides"),$lastSlide=$el.data("$lastSlide"),lastSlideIndex=$lastSlide.index(),elMatchingIdAttr='[data-carousel-id="'+$el.attr("id")+'"]',$nextBtns,$previousBtns,$firstBtns,$lastBtns;$el.data("$currentSlide",$slides.eq(newSlideIndex));$slides.eq(oldSlideIndex).removeClass(settings.activeSlideClass).end().eq(newSlideIndex).addClass(settings.activeSlideClass);$el.removeClass("carouselAnimating");settings.continuous||settings.infinite||($nextBtns=$(elMatchingIdAttr+'[data-carousel-slide="next"]'),$previousBtns=$(elMatchingIdAttr+'[data-carousel-slide="previous"]'),$firstBtns=$(elMatchingIdAttr+'[data-carousel-slide="first"]'),$lastBtns=$(elMatchingIdAttr+'[data-carousel-slide="last"]'),$el.data("carousel-stage-width")<=$el.outerWidth(!1)?$nextBtns.add($previousBtns).add($firstBtns).add($lastBtns).addClass(settings.disabledBtnClass).attr("disabled","disabled"):newSlideIndex===0?($previousBtns.add($firstBtns).addClass(settings.disabledBtnClass).attr("disabled","disabled"),$nextBtns.add($lastBtns).removeClass(settings.disabledBtnClass).removeAttr("disabled")):newSlideIndex===lastSlideIndex?($nextBtns.add($lastBtns).addClass(settings.disabledBtnClass).attr("disabled","disabled"),$previousBtns.add($firstBtns).removeClass(settings.disabledBtnClass).removeAttr("disabled")):$nextBtns.add($previousBtns).add($firstBtns).add($lastBtns).removeClass(settings.disabledBtnClass).removeAttr("disabled"));settings.infinite||($(elMatchingIdAttr+'[data-carousel-slide="'+oldSlideIndex+'"]').removeClass(settings.activeBtnClass),$(elMatchingIdAttr+'[data-carousel-slide="'+newSlideIndex+'"]').addClass(settings.activeBtnClass))}function goToSlide($el,newSlideIndex,ignoreCallbacks){var settings=$el.data("carousel"),$inner=$el.data("$carouselInner"),$slides=$el.data("$carouselSlides"),$lastSlide=$el.data("$lastSlide"),lastSlideIndex=$lastSlide.index(),$currentSlide=$el.data("$currentSlide"),currentSlideIndex=$currentSlide.index(),currentSlidePosition=$currentSlide.data("carousel-position"),elWidth=$el.width(),leftPosition=0,positionOptions={},slidesToScroll=settings.slidesPerScroll==="page"?$slides.length:settings.slidesPerScroll,i;if($.type(newSlideIndex)==="string")if(newSlideIndex==="next"){if(settings.continuous&&currentSlideIndex>=lastSlideIndex)newSlideIndex=0;else if(newSlideIndex=currentSlideIndex+slidesToScroll,slidesToScroll>1)for(i=currentSlideIndex+1;i<=currentSlideIndex+slidesToScroll;){if(Math.abs($slides.eq(i).data("carousel-position"))+$slides.eq(i).width()-Math.abs(currentSlidePosition)>elWidth){newSlideIndex=Math.max(i,currentSlideIndex+1);break}i+=1}}else if(newSlideIndex==="previous"){if(settings.continuous&&currentSlideIndex<=0)newSlideIndex=lastSlideIndex;else if(newSlideIndex=currentSlideIndex-slidesToScroll,slidesToScroll>1)for(i=currentSlideIndex-1;i>=currentSlideIndex-slidesToScroll;){if(Math.abs(currentSlidePosition)-parseInt($slides.eq(currentSlideIndex-1).css("margin-right"),10)-parseInt($currentSlide.css("margin-left"),10)-Math.abs($slides.eq(i).data("carousel-position"))>elWidth){newSlideIndex=Math.min(i+1,currentSlideIndex-1);break}i-=1}}else newSlideIndex==="last"?newSlideIndex=lastSlideIndex:newSlideIndex==="first"&&(newSlideIndex=0);if(newSlideIndex=parseInt(newSlideIndex,10),newSlideIndex<0?newSlideIndex=0:newSlideIndex>lastSlideIndex&&(newSlideIndex=lastSlideIndex),!ignoreCallbacks){if(settings.onSlideEnd!==!1)settings.onSlideEnd(currentSlideIndex,$currentSlide);if(settings.onSlideStart!==!1)settings.onSlideStart(newSlideIndex,$slides.eq(newSlideIndex));if(settings.onSlideChange!==!1)settings.onSlideChange(newSlideIndex,$slides.eq(newSlideIndex),currentSlideIndex,$currentSlide)}if(settings.onSlideLoad!==!1&&!$slides.eq(newSlideIndex).data("carousel-loaded")){settings.onSlideLoad(newSlideIndex,$slides.eq(newSlideIndex));$slides.eq(newSlideIndex).data("carousel-loaded",!0)}leftPosition=$slides.eq(newSlideIndex).data("carousel-position");$el.addClass("carouselAnimating");settings.carouselHeight==="varied"&&(positionOptions.height=$slides.eq(newSlideIndex).outerHeight(!0));$inner.css(buildAnimation(leftPosition,positionOptions,settings));ignoreCallbacks||settings.onAfterSlideChange===!1||(setTimeout(function(){settings.infinite&&($el.data("$currentSlide",$slides.eq(settings.firstSlide-1)),$inner.css(buildAnimation($slides.eq(settings.firstSlide-1).data("carousel-position"),{"-webkit-transition":"none",transition:"none"},settings)));settings.onAfterSlideChange(newSlideIndex,$slides.eq(newSlideIndex),currentSlideIndex,$currentSlide)},settings.scrollTime),settings.infinite&&$inner.css({"-webkit-transition":settings.innerTransition,transition:settings.innerTransition}));markCarousel($el,currentSlideIndex,newSlideIndex)}function buildAnimation(leftPosition,cssObject,settings){return settings.useTransforms?cssObject.transform="translate3d("+leftPosition+", 0, 0)":cssObject.left=leftPosition,cssObject}function getLeftPosition($el,settings){var matrix,x;return settings.useTransforms?(matrix=window.getComputedStyle($el.data("$carouselInner")[0],null),matrix=matrix.transform.split(")")[0].split(", "),x=parseInt(matrix[12]||matrix[4],10)):x=parseInt($el.data("$carouselInner").css("left"),10),x}function playAutoscroll($el){var settings=$el.data("carousel"),$pausePlayBtns=$("."+settings.pausePlayBtnClass+'[data-carousel-id="'+$el.attr("id")+'"]');$el.removeClass("carouselPaused").addClass("carouselPlaying");$pausePlayBtns.removeClass("iconPlay").addClass("iconPause");$el.data("carousel-timer",setInterval(function(){goToSlide($el,"next")},settings.autoscroll+settings.scrollTime))}function pauseAutoscroll($el,forceStop){var settings=$el.data("carousel"),$pausePlayBtns=$("."+settings.pausePlayBtnClass+'[data-carousel-id="'+$el.attr("id")+'"]');$el.addClass("carouselPaused").removeClass("carouselPlaying");clearInterval($el.data("carousel-timer"));forceStop&&($el.data("carousel-timer",null).removeClass("carouselPaused carouselPlaying"),$pausePlayBtns.removeClass("iconPause").addClass("iconPlay"))}function addControlsHtml($el){var settings=$el.data("carousel"),elId=$el.attr("id"),lastSlideIndex=$el.data("$carouselSlides").eq(-1).index(),html="",$prevNextBtns,$pagination,$pausePlayBtns,$controlsWrap,i=0;if($el.find(".carouselControlsDefault").length||$('<menu class="carouselControlsDefault"><\/menu>').appendTo($el),$controlsWrap=$el.find(".carouselControlsDefault"),settings.showPausePlayBtns&&!$el.data("carousel-pause-play-loaded")&&($pausePlayBtns=$('<button class="'+settings.pausePlayBtnClass+' ancBtn icon iconPause silver sml" type="button" data-carousel-id="'+elId+'"><\/button>'),$pausePlayBtns.appendTo($controlsWrap),$el.data("carousel-pause-play-loaded",$pausePlayBtns)),settings.pagination&&!$el.data("carousel-pagination-loaded")){for($controlsWrap.addClass("carouselPagination carouselPagination"+settings.pagination.charAt(0).toUpperCase()+settings.pagination.slice(1)),i;i<=lastSlideIndex;i+=1)html+='<button class="ancBtn silver sml" type="button" data-carousel-slide="'+i+'" data-carousel-id="'+elId+'">',settings.pagination==="numbers"&&(html+=i+1),html+="<\/button>";$pagination=$(html);$pagination.appendTo($controlsWrap);$el.data("carousel-pagination-loaded",$pagination)}settings.showPrevNextBtns&&!$el.data("carousel-prev-next-loaded")&&($prevNextBtns=$('<button class="carouselPreviousBtn icon iconArrowLeft" type="button" data-carousel-slide="previous" data-carousel-id="'+elId+'"><\/button><button class="carouselNextBtn icon iconArrowRight" type="button" data-carousel-slide="next" data-carousel-id="'+elId+'"><\/button>'),$prevNextBtns.appendTo($controlsWrap),$controlsWrap.find(".carouselPreviousBtn").prependTo($controlsWrap),$el.data("carousel-prev-next-loaded",$prevNextBtns))}function getClosestSlide($el,fromWhatLeftPosition){var settings=$el.data("carousel"),$slides=$el.data("$carouselSlides"),$slide,closestSlidePosition=null,closestSlideIndex=null;return settings.fullWidth?!1:(fromWhatLeftPosition||(fromWhatLeftPosition=getLeftPosition($el,settings)),$.each($slides,function(slideIndex){$slide=$(this);(closestSlidePosition===null||Math.abs($slide.data("carousel-position")-fromWhatLeftPosition)<Math.abs(closestSlidePosition-fromWhatLeftPosition))&&(closestSlidePosition=$slide.data("carousel-position"),closestSlideIndex=slideIndex)}),closestSlideIndex)}function addTouchEvents($el){var settings=$el.data("carousel"),$inner=$el.data("$carouselInner"),$currentSlide,innerLeftPos,minDistance=15,startX=0,startY=0,change=0,currentX=0,currentY=0,currentXDistance,currentYDistance,isScrolling,newSlideIndex,touchStartTime,touchEndTime,touchSpeed;$inner.on("touchstart.carousel",function(e){$inner.css({"-webkit-transition":"none",transition:"none"});touchStartTime=(new Date).getTime();isScrolling=undefined;currentX=0;currentY=0;currentXDistance=0;currentYDistance=0;startX=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX;startY=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.pageY;$currentSlide=$el.data("$currentSlide");innerLeftPos=settings.showPreviews?-$currentSlide.position().left-parseInt($currentSlide.css("margin-left"),10):settings.fullWidth?-$inner.width()*$currentSlide.index():getLeftPosition($el,settings)}).on("touchmove.carousel",function(e){currentX=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX;currentY=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.pageY;change=currentX-startX;currentXDistance=startX===0?0:Math.abs(change);currentYDistance=startY===0?0:Math.abs(currentY-startY);$inner.css(buildAnimation(innerLeftPos+change+"px",{},settings));typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||currentXDistance<currentYDistance));isScrolling||(e.preventDefault(),settings.autoscroll&&currentXDistance>minDistance&&pauseAutoscroll($el,!0))}).on("touchend.carousel",function(){if($inner.css({"-webkit-transition":settings.innerTransition,transition:settings.innerTransition}),!isScrolling&&currentXDistance>minDistance)if(touchEndTime=(new Date).getTime(),touchSpeed=Math.abs(touchEndTime-touchStartTime),settings.fullWidth||touchSpeed<340)currentX<startX?goToSlide($el,"next"):currentX>startX&&goToSlide($el,"previous");else return newSlideIndex=getClosestSlide($el),goToSlide($el,newSlideIndex),!1;else $inner.css(buildAnimation(innerLeftPos+change,{},settings));change=0;currentX=0;currentY=0;currentXDistance=0;currentYDistance=0;startX=0;startY=0})}function addEvents($el){var settings=$el.data("carousel"),elMatchingIdAttr='[data-carousel-id="'+$el.attr("id")+'"]',winWidth=$(window).width(),winHeight=$(window).height(),winNewWidth,winNewHeight,firstResize=!0;$(window).on("resize.carousel."+$el.attr("id"),function(){winNewWidth=$(window).width();winNewHeight=$(window).height();(winWidth!==winNewWidth||winHeight!==winNewHeight)&&(settings.autoscroll&&$el.hasClass("carouselPlaying")&&firstResize===!0&&(pauseAutoscroll($el),firstResize=!1),clearTimeout($el.data("carousel-resize-timer"+$el.attr("id"))),$el.data("carousel-resize-timer"+$el.attr("id"),setTimeout(function(){setPositions($el);goToSlide($el,$el.data("$currentSlide").index(),!0);settings.autoscroll&&$el.hasClass("carouselPaused")&&playAutoscroll($el);firstResize=!0},400)));winWidth=winNewWidth;winHeight=winNewHeight});if(settings.autoscroll)$el.on("mouseover.carousel",function(){$el.hasClass("carouselPlaying")&&pauseAutoscroll($el)}).on("mouseleave.carousel",function(){$el.hasClass("carouselPaused")&&playAutoscroll($el)});Carousel.isTouchDevice&&addTouchEvents($el);$el.find(".carouselNextBtn").attr("data-carousel-slide","next");$el.find(".carouselPreviousBtn").attr("data-carousel-slide","previous");$el.find("[data-carousel-slide]").attr("data-carousel-id",$el.attr("id"));bindControls($el,elMatchingIdAttr)}function bindControls($el,$controls,isCustomControls){var settings=$el.data("carousel");$($controls).each(function(){var $btn=$(this);if($btn.hasClass(settings.pausePlayBtnClass))if(settings.autoscroll){isCustomControls&&($("#"+$btn.attr("data-carousel-id")).hasClass("carouselPlaying")?$btn.addClass("iconPause").removeClass("iconPlay"):$btn.addClass("iconPlay").removeClass("iconPause"));$btn.on("click.carousel",function(){var $btns=$("."+settings.pausePlayBtnClass+'[data-carousel-id="'+$el.attr("id")+'"]');$btn.hasClass("iconPause")?($btns.removeClass("iconPause").addClass("iconPlay"),pauseAutoscroll($el,!0)):($btns.removeClass("iconPlay").addClass("iconPause"),$el.hasClass("carouselIsLastSlide")?goToSlide($el,0):goToSlide($el,$el.data("$currentSlide").index()+1),playAutoscroll($el))})}else return window.console&&console.warn("The carousel you are trying to bind a pause / play button to (#"+$el.attr("id")+") is not currently set to autoscroll. To make it autoscroll you will need to destroy and re-create it passing the 'autoscroll' setting."),!1;else $btn.on("click.carousel",function(){$el=$("#"+$btn.attr("data-carousel-id"));settings.autoscroll&&pauseAutoscroll($el,!0);goToSlide($el,$btn.attr("data-carousel-slide"))})})}function destroyCarousel($el){var settings=$el.data("carousel"),$slides=$el.data("$carouselSlides"),elMatchingIdAttr='[data-carousel-id="'+$el.attr("id")+'"]',$defaultControls=$el.find(".carouselControlsDefault");settings.autoscroll&&pauseAutoscroll($el,!0);$(elMatchingIdAttr).removeClass("active").addClass("disabled").attr("disabled","disabled").off(".carousel");$(window).off("resize.carousel."+$el.attr("id"));clearTimeout($el.data("carousel-resize-timer"+$el.attr("id")));$defaultControls.remove();$slides.removeData("carousel-position carousel-loaded");$el.removeClass(settings.activeSlideClass+" carouselAutoscroll carouselPlaying carouselPaused carouselIsFirstSlide carouselIsLastSlide").removeAttr("style").removeData("carousel $carouselInner $carouselSlides $currentSlide $carouselGoToSlideBtns $lastSlide carousel-timer carousel-prev-next-loaded carousel-pagination-loaded carousel-pause-play-loaded").off(".carousel")}function init($el,settings){var $inner,$slides,firstSlideIndex,elMatchingIdAttr='[data-carousel-id="'+$el.attr("id")+'"]',transitionType;if(settings=$el.data("carousel",$.extend({},Carousel.defaults,settings)).data("carousel"),settings.useTransforms=!!settings.fullWidth&&!settings.showPreviews,firstSlideIndex=settings.firstSlide-1,!$el.find(".carouselInner").length)if($el.find("ul").length)$el.find("ul").addClass("carouselInner").find("li").addClass("carouselSlide");else return window.console&&console.warn("There is no .carouselInner element inside of #"+$el.attr("id")+". Please make sure your markup is correct."),!1;$el.addClass("carousel").data("$carouselInner",$el.find(".carouselInner")).data("$carouselSlides",$el.find(".carouselSlide"));$inner=$el.data("$carouselInner");$slides=$el.data("$carouselSlides");$el.data("$currentSlide",$slides.eq(firstSlideIndex));$(".ie8").length&&$slides.eq(-1).addClass("carouselSlideLast");settings.fullWidth?($el.addClass("carouselFullWidth"),settings.slidesPerScroll=1,settings.carouselHeight==="varied"&&$el.addClass("carouselVariedHeight")):settings.carouselHeight==="varied"&&(settings.carouselHeight="auto");settings.showPreviews&&$el.addClass("carouselWithPreview");$(elMatchingIdAttr).removeAttr("disabled").removeClass("disabled "+settings.disabledBtnClass);transitionType=settings.useTransforms?"transform ":"left ";settings.innerTransition=transitionType+settings.scrollTime+"ms, height "+settings.scrollTime+"ms";$inner.css({"-webkit-transition":settings.innerTransition,transition:settings.innerTransition});setTimeout(function(){addControlsHtml($el);setPositions($el);addEvents($el);$el.removeClass("loading");goToSlide($el,firstSlideIndex,!0);settings.autoscroll&&(settings.playOnLoad?playAutoscroll($el):pauseAutoscroll($el,!0))},600)}var Carousel={},version=2,doubleIncluded=!!$.carousel;if(doubleIncluded){if($.carousel.version===version){window.console&&console.warn("ERROR: You are including carousel.js multiple times");return}if(window.console&&console.warn("ERROR: You are including multiple versions of carousel.js"),$.carousel.version>version)return}Carousel.defaults={fullWidth:!0,showPreviews:!1,carouselHeight:"auto",firstSlide:1,slidesPerScroll:"page",continuous:!1,infinite:!1,pagination:null,showPrevNextBtns:!0,showPausePlayBtns:!1,autoscroll:0,scrollTime:400,playOnLoad:!0,pausePlayBtnClass:"carouselPausePlayBtn",activeSlideClass:"carouselActiveSlide",activeBtnClass:"active",disabledBtnClass:"disabled",onSlideStart:!1,onSlideEnd:!1,onSlideLoad:!1,onSlideChange:!1,onAfterSlideChange:!1};Carousel.isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;Carousel.isIpad=navigator.userAgent.match(/iPad/i)!==null;$.fn.carousel=function(options,params){return this.each(function(){var $this=$(this);$this.attr("id")||$this.attr("id","carousel-"+(new Date).getTime()+Math.ceil(Math.random()*1e4));options==="next"?goToSlide($this,"next"):options==="prev"||options==="previous"?goToSlide($this,"previous"):options==="goToSlide"?isNaN(params)?goToSlide($this,params):goToSlide($this,params-1):options==="stop"&&$this.data("carousel").autoscroll?pauseAutoscroll($this,!0):options==="play"&&$this.data("carousel").autoscroll?playAutoscroll($this):options==="fixDimensions"||options==="setPositions"?setPositions($this):options==="bindControls"?bindControls($this,params,!0):options==="destroy"?destroyCarousel($this):$this.data("carousel")||init($(this),options)})};$(function(){Carousel.isTouchDevice?$("html").addClass("touch"):$("html").addClass("noTouch")});$.carousel={version:version}})(jQuery);
(function(){"use strict";function getQueryValues(){var pairs=location.search.slice(1).split("&"),pairsLength=pairs.length,urlArgs={},index=0,pair;if(pairs[index].length)for(index=0;index<pairsLength;index++)pair=pairs[index].split("="),urlArgs[pair[0]]=decodeURIComponent(pair[1]||"");return urlArgs}function saveStateToQueryString(componentId,data){if(componentId){var currentState=History.getState(),queryData=getQueryValues(),queryString="",propertyName,propertyValue,parameterName,stateData={},componentState={};for(propertyName in data)data.hasOwnProperty(propertyName)&&(propertyValue=data[propertyName],parameterName=componentId+"."+propertyName,queryData[parameterName]=propertyValue);for(propertyName in queryData)queryData.hasOwnProperty(propertyName)&&(queryString!==""&&(queryString+="&"),queryString+=propertyName+"="+queryData[propertyName],stateData[propertyName]=queryData[propertyName]);return componentState.id=componentId,componentState.data=stateData,componentState.tab="csm",componentState.isCsm=!0,currentState||(currentState={title:"csm"}),History.replaceState(componentState,currentState.title,window.location.href.split("?",1).join("")+"?"+queryString),queryString}}function init(){if(window.acom&&window.acom.bus){window.acom.bus.on("csm::component::statechange",function(newStatus){var componentId,componentWrapper,id;newStatus.component&&(componentWrapper=newStatus.component.closest(".csm-component"),componentWrapper&&(id=componentWrapper.data("csmcomponentid"),id&&(componentId=id)));componentId&&saveStateToQueryString(componentId,newStatus.data)});History.Adapter.bind(window,"statechange",function(){var state=History.getState(),queryData={},componentId,propertyName;if(window.acom&&window.acom.bus&&state&&state.data&&state.data.isCsm){if(state.data.id){componentId=state.data.id;for(propertyName in state.data.data)state.data.data.hasOwnProperty(propertyName)&&(propertyName.indexOf(componentId+".")===0?queryData[propertyName.replace(componentId+".","")]=state.data.data[propertyName]:queryData[propertyName]=state.data.data[propertyName])}window.acom.bus.emit("csm::history::statechange",queryData)}})}else attempts<5&&setTimeout(init,1e3),attempts+=1}var attempts=0;window.csmLoaded!==!0&&(window.csmLoaded=!0,init())})();
(function($){"use strict";function log(msg){window.console&&console.log(msg)}var Form,Validator,localizer,version=1,doubleIncluded=!!$.validator;if(doubleIncluded){if($.validator.version===version){window.console&&console.warn("ERROR: You are including form.js multiple times");return}if(window.console&&console.warn("ERROR: You are including multiple versions of form.js"),$.validator.version>version)return}localizer={lang:function(){var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang");return langAttr?langAttr.toLowerCase():"en"}(),langSets:{de:{chooseFile:"Datei ausw&#228;hlen",errorMsg:"Es liegen Feldfehler vor:"},en:{chooseFile:"Choose file",errorMsg:"There are errors on these fields:"},es:{chooseFile:"Selecciona un archivo",errorMsg:"Hay campos con errores:"},fr:{chooseFile:"Choisir le fichier",errorMsg:"Il y a d&#8217;erreurs dans ces champs:"},it:{chooseFile:"Scegli file",errorMsg:"Ci sono errori in questi campi:"},sv:{chooseFile:"V&#228;lj fil",errorMsg:"Det uppstod fel f&#246;r dessa f&#228;lt:"}},localize:function(key){return this.langSets[this.lang]&&this.langSets[this.lang][key]?this.langSets[this.lang][key]:this.langSets[this.lang.substring(0,2)]&&this.langSets[this.lang.substring(0,2)][key]?this.langSets[this.lang.substring(0,2)][key]:this.langSets.en[key]||""}};Form={};Form.isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;Form.isPlaceholderSupported=typeof document.createElement("input").placeholder!="undefined";Form.handlePlaceholders=function($form){Form.isPlaceholderSupported||$form.find("input[placeholder], textarea[placeholder]").each(function(){var placeholder;if($(this).data("usesPlaceholderPolyfill")||$(this).attr("type")==="password")return!0;placeholder=$(this).attr("placeholder");Form.addPlaceholderValue($(this),placeholder);$(this).data("usesPlaceholderPolyfill",!0).on("blur.form",function(){$(this).val()===""?$(this).val(placeholder).addClass("placeholderPolyfill"):$(this).removeClass("placeholderPolyfill")}).on("focus.form",function(){$(this).removeClass("placeholderPolyfill");$(this).val()===placeholder&&$(this).val("")})})};Form.removePlaceholderValues=function($form){$form.find("input[placeholder]").each(function(){$(this).val()===$(this).attr("placeholder")&&$(this).val("")})};Form.addPlaceholderValues=function($form){$form.find('input[placeholder]:not([type="password"]), textarea[placeholder]').each(function(){Form.addPlaceholderValue($(this),$(this).attr("placeholder"))})};Form.addPlaceholderValue=function($field,placeholder){$field.val()===""&&$field.val(placeholder);$field.val()===placeholder&&$field.addClass("placeholderPolyfill")};Form.handleUrls=function($field){if($field.data("usesUrlPlaceholder"))return!0;$field.data("usesUrlPlaceholder",!0).on("blur.form",function(){$field.val()&&$field.val().indexOf("://")===-1&&$field.val()!==$field.attr("placeholder")&&$field.val("http://"+$field.val())})};Form.handleFileInputs=function($form){$form.find('input[type="file"]').each(function(){var $field=$(this),browserVersion,ua,tem,M;if($field.data("usesFilePolyfill"))return!0;$field.data("usesFilePolyfill",!0).after('<label class="ancBtn fileBtn silver" for="'+$field.attr("id")+'">'+localizer.localize("chooseFile")+'<\/label><span class="filename"><\/span>').on("change.form",function(){var filename=$(this).val().replace(/C:\\fakepath\\/,"");filename=filename.substring(filename.lastIndexOf("\\")+1,filename.length);filename?$(this).siblings(".filename").html(filename):$(this).siblings(".filename").html("");$(this).blur()});if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(ua=navigator.userAgent,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[],/trident/i.test(M[1])?(tem=/\brv[ :]+(\d+(\.\d+)?)/g.exec(ua)||[],browserVersion="IE "+(tem[1]||"")):(M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"],(tem=ua.match(/version\/([\.\d]+)/i))!==null&&(M[2]=tem[1]),browserVersion=M.join(" ")),browserVersion=browserVersion.split(" "),browserVersion=browserVersion[1].split("."),browserVersion=parseInt(browserVersion[0],10),browserVersion<22))$('label[for="'+$field.attr("id")+'"]').on("click.form",function(){$field.click()})})};Validator={};Validator.defaults={validateOnSubmitHover:!1,submitButton:null,onSubmit:!1,fields:{}};Validator.patterns={match:function(value,match){return value===$("#"+match).val()},maxLength:function(value,maxLength){return value.length<=maxLength},minLength:function(value,minLength){return value.length>=minLength},extensions:function(value,extensions){return $.inArray(value.split(".").pop().toLowerCase(),extensions)!==-1},email:function(value){return!!value.match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/)},number:function(value){return!!value.match(/^[0-9]*(\.[0-9]+)?$/)},tel:function(value){return!!value.match(/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/)},url:function(value){return!!value.match(/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i)}};Validator.validateCollection=function($collection,required){return Number(required)>$collection.filter(":checked").length?!1:!0};Validator.isValid=function($field,e){var value="",restrictions=$field.data("restrictions");if($field.val()&&!/^\s*$/.test($field.val())&&(value=$field.val()),$field.is('input[type="checkbox"], input[type="radio"]'))return Validator.validateCollection(restrictions.collection,restrictions.required);if(restrictions.pattern&&$.isFunction(restrictions.pattern))return restrictions.pattern(value,$field,!!restrictions.required,e||{type:"validation"});if(restrictions.required||value.length){if(!value.length||restrictions.extensions&&!$.validator.extensions(value,restrictions.extensions)||restrictions.match&&!$.validator.match(value,restrictions.match)||restrictions.minLength&&!$.validator.minLength(value,restrictions.minLength)||restrictions.maxLength&&!$.validator.maxLength(value,restrictions.maxLength))return!1;if(restrictions.pattern)return $.validator[restrictions.pattern](value)}return!0};Validator.removeErrorAndSuccess=function($field){var $label=$field.data("$label");$field.removeClass("error success inform").removeAttr("aria-invalid");$label.removeClass("error success inform").parent().find(".errorMessage").remove();$field.data("restrictions").collection&&$field.data("restrictions").collection.removeClass("error success inform");$field.data("hasErrorCallout")&&jQuery().callout&&($field.data("hasErrorCallout",!1).callout("destroy"),$field.attr("data-callout")&&$field.callout())};Validator.updateValidationMessage=function($field,isValid){var errorClass,errorId,$label=$field.data("$label"),labelID,whichMessage=$label.attr("data-error-index")||0,restrictions=$field.data("restrictions"),errorMessage=$.trim(($label.attr("data-error")||"").split("|")[whichMessage]);Validator.removeErrorAndSuccess($field);isValid===!0?($field.data("restrictions").collection&&$field.data("restrictions").collection.removeAttr("aria-invalid aria-labelledby").addClass("success"),$field.removeAttr("aria-invalid aria-labelledby").addClass("success"),$label.addClass("success")):(isValid===!1||isValid==="info")&&(labelID=$label.attr("id"),labelID||(labelID=Validator.getRandomNumber()),errorClass=isValid==="info"?"inform":"error",errorId=labelID+"ErrorMessage",$field.data("restrictions").collection?$field.data("restrictions").collection.each(function(){var thisLabel=$('label[for="'+$(this).attr("id")+'"]'),thisLabelID=thisLabel.attr("id"),self=this;thisLabelID||(thisLabelID=Validator.getRandomNumber(),thisLabel.attr("id",thisLabelID));setTimeout(function(){$(self).attr("aria-labelledby",thisLabelID+" "+errorId)},50)}):setTimeout(function(){$field.attr("aria-labelledby",$label.attr("id")+" "+errorId)},50),$field.addClass(errorClass).attr("aria-invalid",!0),$label.addClass(errorClass),restrictions.errorLocation==="callout"&&jQuery().callout?($label.append('<span class="errorMessage icon iconWarning"><\/span>'),$field.data("restrictions").collection||$field.callout("destroy").data("hasErrorCallout",!0).callout({content:errorMessage,classes:"errorCallout"}),$label.parent().append('<div class="noDisplay" id="'+errorId+'">'+errorMessage+"<\/div>")):restrictions.errorLocation==="below"||restrictions.errorLocation==="callout"?$label.parent().append('<div class="errorMessage icon iconWarning" id="'+errorId+'">'+errorMessage+"<\/div>"):$label.append('<span class="errorMessage icon iconWarning">'+errorMessage+"<\/span>"));$label.removeAttr("data-error-index")};Validator.getRandomNumber=function(){return Date.now()+Math.floor(Math.random()*1e3+1)};Validator.validateForm=function($form,scroll){var $firstErrorLabel=!1,$firstErrorInput=!1,result,validation={success:!0,errorFieldLabels:[]};return Form.isPlaceholderSupported||Form.removePlaceholderValues($form),$.each($form.data("fields"),function(key,$field){var $label=$field.data("$label");if($field.length===0)return delete $form.data("fields")[key],!0;result=Validator.isValid($field);result!=="delay"&&(result&&result!=="info"?$field.val().length&&Validator.updateValidationMessage($field,!0):($firstErrorLabel===!1&&($firstErrorLabel=$label,$firstErrorInput=$field),Validator.updateValidationMessage($field,result),validation.success=!1,$label.attr("data-error-label")?validation.errorFieldLabels.push($label.attr("data-error-label")):validation.errorFieldLabels.push($label.contents().filter(function(){return!$(this).is("a, b, button, i, em, span, strong")}).text())))}),!validation.success&&scroll&&($firstErrorLabel.offset().top<($("html").scrollTop()||$(document).scrollTop())&&$(document).scrollTop($firstErrorLabel.offset().top),$firstErrorInput.focus()),$form.data("onSubmit")&&(validation.success=$form.data("onSubmit")(validation.success,$form)?!0:!1),validation.success||Form.isPlaceholderSupported||Form.addPlaceholderValues($form),validation};Validator.handleValidationOnSubmitHover=function($form,settings){var hoverAlertTimer,spaceBetweenButtonAndAlert=8,$formAlert=$("#formAlert");if(settings.validateOnSubmitHover&&!Form.isTouchDevice)settings.submitButton.on("mouseenter.form focus.form",function(){var $submitButton=$(this),offset,validationResults=Validator.validateForm($form,!1);clearTimeout(hoverAlertTimer);!validationResults.success&&validationResults.errorFieldLabels.length&&(offset=$submitButton.offset(),$formAlert.css("opacity",1).html("<h4><strong>"+localizer.localize("errorMsg")+"<\/strong><\/h4><p>"+validationResults.errorFieldLabels.join(", ")+"<\/p>").addClass("alert alertOverlay formAlertActive").offset({left:offset.left+$submitButton.outerWidth(!1)+spaceBetweenButtonAndAlert,top:offset.top-($formAlert.outerHeight(!1)-$submitButton.outerHeight(!1))/2}));Form.isPlaceholderSupported||Form.addPlaceholderValues($form)}).on("mouseleave.form blur.form",function(){$formAlert.css("opacity",0);hoverAlertTimer=setTimeout(function(){$formAlert.removeClass("alert alertOverlay formAlertActive").removeAttr("style")},500)})};Validator.namespaceEvents=function(events){return events.split(" ").join(".form ")+".form"};Validator.validateInput=function($field,e){var result=Validator.isValid($field,e);result==="delay"||result==="info"?Validator.updateValidationMessage($field,result):result||$field.val()===$field.attr("placeholder")?$field.val()&&$field.val()!==$field.attr("placeholder")?Validator.updateValidationMessage($field,!0):Validator.removeErrorAndSuccess($field):Validator.updateValidationMessage($field,!1)};Validator.init=function($form,options){function getField($field){return $field.is("label, legend")&&($field=$form.data("fields")[$field.attr("id")]||$field),$field}var settings=$.extend({},Validator.defaults,options);if(settings.submitButton=settings.submitButton||$form.find('input[type="submit"]').first(),$form.data("allowSubmit",!0),!$form.data("fields")){$form.on("submit.form",function(){var validation=Validator.validateForm($form,!0);return validation.success&&$form.data("allowSubmit")?($form.data("allowSubmit",!1),settings.allowMultipleSubmissions&&setTimeout(function(){$form.data("allowSubmit",!0)},1e3),!0):!1});Validator.handleValidationOnSubmitHover($form,settings)}settings.onSubmit&&$form.data("onSubmit",settings.onSubmit);$form.data("fields")||$form.data("fields",{});$.each(settings.fields,function(key,restrictions){var $field=$form.find("#"+key),$label=$('label[for="'+key+'"]').first();if($field.length===0&&($field=$form.find('[name="'+key+'"]'),$field.length===0))return log("Invalid field ID: "+key),!0;if(restrictions.pattern==="url"&&Form.handleUrls($field),$field.is("label, legend")?($label=$field,$field=restrictions.collection,restrictions.when="blur change"):$field.is('input[type="checkbox"]')?(restrictions.collection=$field,restrictions.when="blur change"):restrictions.when||(restrictions.when="blur"),$field.data("hasFormEvents")&&$field.off(".form"),$field.data("hasFormEvents",!0).data("restrictions",restrictions).data("$label",$label),$form.data("fields")[key]=$field,restrictions.required===!0&&$field.attr("aria-required",!0),restrictions.when!=="submit")$field.on(Validator.namespaceEvents(restrictions.when),function(e){Validator.validateInput($(this),e)});$label.attr("data-error-index")?Validator.updateValidationMessage($field,!1):$field.val()&&!$field.is('input[type="checkbox"], input[type="radio"], input[type="submit"]')&&$field.val()!==$field.attr("placeholder")&&(Validator.isValid($field)?Validator.updateValidationMessage($field,!0):Validator.updateValidationMessage($field,!1));$field.on("showValidationMessage.form",function(e,isValid,indexOfErrorMessage){log('Deprecation Notice: Use $("selector").trigger("validation-message", [isValid, indexOfErrorMessage]); instead.');$(this).trigger("validation-message.form",[isValid,indexOfErrorMessage])})});$form.attr("novalidate","novalidate").off("polyfills.form").on("polyfills.form",function(){var $form=$(this);Form.handlePlaceholders($form);Form.handleFileInputs($form)}).off("validation-message.form").on("validation-message.form","input, label, legend, select, textarea",function(e,isValid,indexOfErrorMessage){var $field=getField($(this));if(!$field.data("hasFormEvents"))return!1;$field.data("$label").attr("data-error-index",indexOfErrorMessage);Validator.updateValidationMessage($field,isValid)}).off("validation-error-index.form").on("validation-error-index.form","input, label, legend, select, textarea",function(e,index){var $field=getField($(this));if(!$field.data("hasFormEvents"))return!1;$field.data("$label").attr("data-error-index",index)}).off("validation-remove.form").on("validation-remove.form","input, label, legend, select, textarea",function(){var $this=$(this),$fieldId=$this.attr("id"),$field=getField($this);if(!$field.data("hasFormEvents"))return!1;$field.trigger("validation-message.form","clear");$field.off(".form").data("hasFormEvents",!1);delete $form.data("fields")[$fieldId]}).off("validation.form").on("validation.form","input, label, legend, select, textarea",function(e){var $field=getField($(this));if(!$field.data("hasFormEvents"))return!1;Validator.validateInput($field,e)}).trigger("polyfills.form")};$.fn.validator=function(options){return this.is("label, legend, input, select, textarea")?(log('Deprecation Notice: Use $("selector").trigger("validation"); instead.'),Validator.validateInput(this)):Validator.init(this,options),this};$.fn.polyfill=$.fn.validator;$.validator=Validator.patterns;$.validator.setErrorIndex=function($field,index){log('Deprecation Notice: Use $("field-selector").trigger("validation-error-index", [0]); instead.');$field.data("$label").attr("data-error-index",index)};$.validator.version=version;$(function(){Form.isTouchDevice?$("html").addClass("touch"):$("html").addClass("noTouch");$("#formAlert").length||$('<div id="formAlert"><\/div>').appendTo("body")})})(jQuery);
(function($){"use strict";var shared={debounce:function(callback,delay,immediate){return this.throttle(callback,delay,undefined,!!immediate)},throttle:function(callback,delay,noTrail,immediate){var timeout,previous=0;return function(){function reset(){timeout=undefined}function execute(){previous=Date.now();callback.apply(self,args)}var self=this,elapsed=Date.now()-previous,args=arguments,timeoutCallback,timeoutDelay;immediate&&!timeout&&execute();timeout&&clearTimeout(timeout);immediate===undefined&&elapsed>delay?execute():noTrail!==!0&&(timeoutCallback=immediate?reset:execute,timeoutDelay=immediate===undefined?delay-elapsed:delay,timeout=setTimeout(timeoutCallback,timeoutDelay))}},warn:function(msg,useAlert){window.console&&(console.warn(msg),useAlert&&/ancestry(?:stage|dev)/.test(window.location.hostname)&&alert(msg))}},tabs={create:function($element,options){var instance=$element.data("tabsInstance"),resizeEvent;instance&&instance.destroy();$element.data("allow-urls")===!0&&(options=options||{},options.allowUrls=!0);instance=Object.create(this.proto);instance.config=$.extend({},this.staticProperties.defaults,options);instance.$element=$element;instance.tabsName=$element.data("tab");instance.isVertical=instance._getVertical();instance.activeIndex=instance._getActiveIndex();instance.overflowBound=!1;instance.$tabs=$element.children(".tab");instance.$tabGroup=$('[data-tab-group="'+instance.tabsName+'"]');instance.$tabContents=instance.$tabGroup.children(".tabContent");instance.$tabContents.attr("tabindex","-1");resizeEvent=("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"orientationchange.tabs":"resize.tabs")+("."+instance.tabsName);$(window).on(resizeEvent,shared.debounce(function(){return instance._handleResize()},100));instance.$element.on("click.tabs",".tab",function(e){return instance._handleTabClick(e)});instance.$element.on("keydown.tabs",".tab",function(e){return instance._handleTabKeydown(e)});return instance._applyAriaRoles(),instance._updateTabs(),instance._removeButtonClasses(),instance._updateButtonClasses(),instance._triggerClickOnUrlTab(),instance.delayedCheckOverflow=setTimeout(function(){typeof instance.overflow=="undefined"&&(instance._measureWidths(),instance._checkOverflow())},500),instance.$element.data("tabsInstance",instance),instance},proto:{_addOverflow:function(){this._createOverflowElements();this._bindOverflowEvents();this._measureWidths();this._centerTab()},_animateHorizontalScroll:function(direction){var dx=Math.ceil(this.elementWidth*.75),xi=this.$element.scrollLeft(),xf=direction==="left"?xi-dx:xi+dx;this.$element.animate({scrollLeft:xf},250)},_applyAriaRoles:function(){var self=this;this.$element.attr("role",this.$element.attr("role")||"tablist");this.$tabs.each(function(i){var $tab=$(this),dataTab=self.tabsName||"Tabs"+Date.now()+Math.floor(Math.random()*1e3+1),isTabActive=$tab.hasClass("tabActive"),$curTabPanel=self.$tabContents.eq(i),panelId=$curTabPanel.attr("id")||dataTab+"TabPanel"+i;$tab.attr({id:$tab.attr("id")||self.tabsName+"Tab"+i,role:$tab.attr("role")||"tab","aria-controls":$tab.attr("aria-controls")||panelId,"aria-selected":$tab.attr("aria-selected")||isTabActive,"aria-expanded":isTabActive});$curTabPanel.attr({id:panelId,role:$curTabPanel.attr("role")||"tabpanel","aria-labelledby":$curTabPanel.attr("aria-labelledby")||$tab.attr("id"),"aria-hidden":!isTabActive})})},_bindOverflowEvents:function(){var self=this;this.$element.on("scroll.tabs",shared.throttle(function(){return self._handleOverflowScroll()},100));this.$overflowLeftButton.on("click.tabs",shared.debounce(function(){return self._animateHorizontalScroll("left"),!0},250,!0));this.$overflowRightButton.on("click.tabs",shared.debounce(function(){return self._animateHorizontalScroll("right"),!0},250,!0));this.overflowBound=!0},_centerTab:function(){if(this.overflow){var $tab=this.$tabs.eq(this.activeIndex),w=$tab.outerWidth(!1),offX=$tab.position().left,curX=this.$element.scrollLeft(),pLeft=parseInt(this.$element.css("padding-left"),10),mLeft=parseInt($tab.css("margin-left"),10),ideal=(this.elementWidth-w)/2;this.$element.animate({scrollLeft:curX+offX-pLeft+mLeft-ideal},250)}},_checkOverflow:function(){this.overflow=this._getOverflow();this.overflow?(this.overflowBound||this._addOverflow(),this._handleOverflowScroll()):this.overflowBound&&this._removeOverflow()},_checkSubTabs:function(){var $tabContent=this.$tabContents.eq(this.activeIndex),$subTabs=$tabContent.find(".tabs");$subTabs.length&&$subTabs.each(function(){var $subTab=$(this);$subTab.data("tabsInstance")?$subTab.tabs("resize"):$subTab.data("auto-instantiate")!=="off"&&$subTab.tabs()})},_clearActiveTab:function(){this.$tabs.removeClass("tabActive active tabLast tabFirst").attr({"aria-selected":"false","aria-expanded":"false"});this.$tabContents.removeClass("tabActive active").attr("aria-hidden","true")},_createOverflowElements:function(){var hasVerticalTabs=this.$element.hasClass("tabsVertical")?" hasVerticalTabs":"";this.$element.wrap('<div class="tabsScrollable'+hasVerticalTabs+'" />');this.$overflow=this.$element.parent();this.$overflowLeftButton=$('<button class="icon iconArrowLeft tabsOverflowBtn" aria-hidden="true" tabindex="-1" type="button" />');this.$overflowRightButton=$('<button class="icon iconArrowRight tabsOverflowBtn" aria-hidden="true" tabindex="-1" type="button" />');this.$overflowLeftButton.insertBefore(this.$overflow);this.$overflowRightButton.insertAfter(this.$overflow)},destroy:function(){clearTimeout(this.delayedCheckOverflow);this._removeOverflow();this.$element.off(".tabs");this._removeAriaRoles();$(window).off(".tabs."+this.tabsName);this.$element.removeData("tabsInstance")},_getActiveIndex:function(){var config=this.config,activeIndex,tabActive;return config.activeIndex?activeIndex=config.activeIndex:config.active?activeIndex=config.active-1:(tabActive=this.$element.find(".tabActive"),activeIndex=tabActive.length?tabActive.index():0),activeIndex},_getElementWidth:function(){var outerWidth=this.$element.outerWidth(!1),paddingLeft=parseInt(this.$element.css("padding-left"),10),paddingRight=parseInt(this.$element.css("padding-right"),10);return Math.max(0,outerWidth-(paddingLeft+paddingRight))},_getOverflow:function(){return this.isVertical||this.$element.is(":hidden")||this.config.overrideOverflow?!1:this.tabsWidth>this.elementWidth},_getTabsWidth:function(){var totalWidth=0;return this.$tabs.each(function(){totalWidth+=$(this).outerWidth(!0)}),totalWidth},_getVertical:function(){var windowWidth=$(window).width(),notResponsive=!this.$element.hasClass("tabs480")&&!this.$element.hasClass("tabs320"),responsiveOnTablet=this.$element.hasClass("tabs480")&&windowWidth>=768,responsiveOnMobile=this.$element.hasClass("tabs320")&&windowWidth>=480;return this.$element.hasClass("tabsVertical")&&(notResponsive||responsiveOnTablet||responsiveOnMobile)},_handleOverflowScroll:function(){var leftX=this.$element.scrollLeft();return this.$overflow&&(leftX<this.tabsWidth-this.elementWidth-5?(this.$overflow.addClass("tabsOverflowRight"),this.$overflowRightButton.addClass("tabsOverflowBtnVisible")):(this.$overflow.removeClass("tabsOverflowRight"),this.$overflowRightButton.removeClass("tabsOverflowBtnVisible")),leftX>5?(this.$overflow.addClass("tabsOverflowLeft"),this.$overflowLeftButton.addClass("tabsOverflowBtnVisible")):(this.$overflow.removeClass("tabsOverflowLeft"),this.$overflowLeftButton.removeClass("tabsOverflowBtnVisible"))),!0},_handleResize:function(){return this.isVertical=this._getVertical(),this._updateButtonClasses(),this._measureWidths(),this._checkOverflow(),!0},_handleTabClick:function(e){var config=this.config,$tab=$(e.currentTarget),thisHref=$tab.attr("href");return $tab.index()===this.activeIndex?!1:!config.allowUrls&&thisHref&&thisHref.indexOf("#")!==0&&thisHref.indexOf("javascript")!==0?(window.location=thisHref,!1):(this.activeIndex=$tab.index(),this._updateTabs(),config.allowUrls)?!1:!0},_handleTabKeydown:function(e){var $tab=$(e.currentTarget),key=e.which;return key===37?$tab.prev().focus():key===39&&$tab.next().focus(),!0},_measureWidths:function(){this.tabsWidth=this._getTabsWidth();this.elementWidth=this._getElementWidth()},_removeAriaRoles:function(){this.$element.removeAttr("role");this.$tabs.removeAttr("role aria-controls aria-selected aria-expanded");this.$tabContents.removeAttr("role aria-labelledby aria-hidden")},_removeButtonClasses:function(){this.$tabs.hasClass("ancBtnL")&&this.$element.addClass("tabsConnected");this.$tabs.hasClass("ancBtn")&&shared.warn("The ancBtn class should not be used on tabs.");this.$tabs.removeClass("ancBtn ancBtnL ancBtnM ancBtnR silver")},_removeOverflow:function(){this.$overflow&&this.$overflow.hasClass("tabsScrollable")&&(this.$element.unwrap(),this.$overflowLeftButton.remove(),this.$overflowRightButton.remove(),this.$overflow=!1,this.$overflowLeftButton=!1,this.$overflowRightButton=!1,this._measureWidths());this._removeOverflowEvents()},_removeOverflowEvents:function(){this.$element.off("scroll.tabs");this.overflowBound=!1},resize:function(){this._handleResize()},_setActiveContent:function(){var config=this.config;this.$tabContents.eq(this.activeIndex).addClass("tabActive active").attr("aria-hidden","false");config.onOpen&&$.isFunction(config.onOpen)&&config.onOpen.apply(this.$element,[this.activeIndex,this.$tabContents.eq(this.activeIndex)]);this._checkSubTabs()},_setActiveTab:function(){this.$tabs.eq(this.activeIndex).addClass("tabActive active").attr({"aria-selected":"true","aria-expanded":"true"})},_triggerClickOnUrlTab:function(){var self=this,config=this.config;!config||isNaN(parseInt(config.active,10))&&isNaN(parseInt(config.activeIndex,10))||window.location.hash&&$('.tab[data-label="'+window.location.hash.replace("#","")+'"], .tab[href="'+window.location.hash+'"]').length||setTimeout(function(){self.$tabs.eq(self.activeIndex).trigger("click.tabs")},100)},_updateButtonClasses:function(){this.$element.hasClass("tabsVertical")&&(this.isVertical?this.$element.removeClass("tabsConnected"):this.$element.addClass("tabsConnected"))},_updateTabs:function(){this._clearActiveTab();this._setActiveTab();this._setActiveContent();this._centerTab()}},staticProperties:{defaults:{active:!1,activeIndex:!1,allowUrls:!1,onOpen:!1,overrideOverflow:!1}}},version=2,doubleIncluded=!!$.tabs;if(doubleIncluded){if($.tabs.version===version){shared.warn("ERROR: You are including tab.js multiple times");return}if(shared.warn("ERROR: You are including multiple versions of tab.js"),$.tabs.version>version)return}$.fn.tabs=function(options){var isMethodCall=typeof options=="string",args=arguments,returnValue=this;return this.each(function(){var $this=$(this),instance=$this.data("tabsInstance"),methodValue;if(isMethodCall){if(!instance)return shared.warn('Cannot call methods on tabs prior to initialization; attempted to call method "'+options+'".'),!1;if(!$.isFunction(instance[options])||options.indexOf("_")===0)return shared.warn('No such method "'+options+'" for tabs.'),!1;if(methodValue=instance[options].apply(instance,Array.prototype.slice.call(args,1)),methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1}else tabs.create($this,options)}),returnValue};$.tabs={getTest:function(){return $.extend({},tabs)},version:version};doubleIncluded||$(function(){$(".tabs, .tabs2").filter(function(){return!$(this).data("tabsInstance")&&$(this).data("auto-instantiate")!=="off"}).tabs();window.location.hash&&$('.tab[data-label="'+window.location.hash.replace("#","")+'"], .tab[href="'+window.location.hash+'"]').trigger("click.tabs")})})(jQuery);
!function a(b,c,d){function e(g,h){var i,j;if(!c[g]){if(!b[g]){if(i="function"==typeof require&&require,!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'");}j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){!function(b){"use strict";var c=a("eventemitter2").EventEmitter2,d=new c({wildcard:!0,delimiter:"::"});b.acom||(b.acom={});b.acom.bus=d}(window)},{eventemitter2:2}],2:[function(a,b,c){!function(){function a(){this._events={};this._conf&&b.call(this,this._conf)}function b(a){a&&(this._conf=a,a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners&&(this._events.maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),a.newListener&&(this.newListener=a.newListener),this.wildcard&&(this.listenerTree={}))}function d(a){this._events={};this.newListener=!1;b.call(this,a)}function e(a,b,c,d){if(!c)return[];var f,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(f=0,g=c._listeners.length;g>f;f++)a&&a.push(c._listeners[f]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(e(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p;l&&c._listeners&&(m=m.concat(e(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(e(a,b,c[h],n))),m=m.concat(e(a,b,c[h],d))):m=m.concat(h===p?e(a,b,c[h],d+2):e(a,b,c[h],d)));return m}m=m.concat(e(a,b,c[o],d+1))}if(i=c["*"],i&&e(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&e(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?e(a,b,j[h],d+2):h===o?e(a,b,j[h],d+1):(k={},k[h]=j[h],e(a,b,{"**":k},d+1)))}else j._listeners?e(a,b,j,n):j["*"]&&j["*"]._listeners&&e(a,b,j["*"],n);return m}function f(a,b){var c,d,e,f,i;for(a="string"==typeof a?a.split(this.delimiter):a.slice(),c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]={}),e=e[f],0===a.length)return e._listeners?"function"==typeof e._listeners?e._listeners=[e._listeners,b]:g(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)&&(i=h,"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&e._listeners.length>i&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())):e._listeners=b,!0;f=a.shift()}return!0}var g=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=10;d.prototype.delimiter=".";d.prototype.setMaxListeners=function(b){this._events||a.call(this);this._events.maxListeners=b;this._conf||(this._conf={});this._conf.maxListeners=b};d.prototype.event="";d.prototype.once=function(a,b){return this.many(a,1,b),this};d.prototype.many=function(a,b,c){function d(){0==--b&&e.off(a,d);c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e};d.prototype.emit=function(){var b,g,h;if(this._events||a.call(this),b=arguments[0],"newListener"===b&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(f=0,c=this._all.length;c>f;f++)this.event=b,this._all[f].apply(this,d)}if("error"===b&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(this.wildcard?(g=[],h="string"==typeof b?b.split(this.delimiter):b.slice(),e.call(this,g,h,this.listenerTree,0)):g=this._events[b],"function"==typeof g){if(this.event=b,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];g.apply(this,d)}return!0}if(g){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(var i=g.slice(),f=0,c=i.length;c>f;f++)this.event=b,i[f].apply(this,d);return i.length>0||!!this._all}return!!this._all};d.prototype.on=function(b,c){if("function"==typeof b)return this.onAny(b),this;if("function"!=typeof c)throw new Error("on only accepts instances of Function");if(this._events||a.call(this),this.emit("newListener",b,c),this.wildcard)return f.call(this,b,c),this;if(this._events[b]){if("function"==typeof this._events[b])this._events[b]=[this._events[b],c];else if(g(this._events[b])&&(this._events[b].push(c),!this._events[b].warned)){var d=h;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners);d>0&&this._events[b].length>d&&(this._events[b].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[b].length),console.trace())}}else this._events[b]=c;return this};d.prototype.onAny=function(a){if("function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(a),this};d.prototype.addListener=d.prototype.on;d.prototype.off=function(a,b){var c,d,f,h,i;if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(d=[],this.wildcard)f="string"==typeof a?a.split(this.delimiter):a.slice(),d=e.call(this,null,f,this.listenerTree,0);else{if(!this._events[a])return this;c=this._events[a];d.push({_listeners:c})}for(h=0;h<d.length;h++){if(i=d[h],c=i._listeners,g(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)continue;return this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a]),this}(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this};d.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this};d.prototype.removeListener=d.prototype.off;d.prototype.removeAllListeners=function(b){var g;if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var c="string"==typeof b?b.split(this.delimiter):b.slice(),d=e.call(this,null,c,this.listenerTree,0),f=0;f<d.length;f++)g=d[f],g._listeners=null;else{if(!this._events[b])return this;this._events[b]=null}return this};d.prototype.listeners=function(b){if(this.wildcard){var c=[],d="string"==typeof b?b.split(this.delimiter):b.slice();return e.call(this,c,d,this.listenerTree,0),c}return this._events||a.call(this),this._events[b]||(this._events[b]=[]),g(this._events[b])||(this._events[b]=[this._events[b]]),this._events[b]};d.prototype.listenersAny=function(){return this._all?this._all:[]};"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof c?c.EventEmitter2=d:window.EventEmitter2=d}()},{}]},{},[1]);
function Glue(defaultOptions){"use strict";function fetch(options,callback){$.when($.ajax({url:options.url,cache:!1})).then(function(responseData){processResponseSuccess(responseData,options);typeof callback!="undefined"&&callback!==null&&callback()})}function jsonpFetch(options,callback){$.when($.ajax({url:options.url+(options.url.indexOf("?")>=0?"&":"?")+"callback=?",cache:!1,dataType:"jsonp"})).then(function(responseData){processResponseSuccess(responseData,options);typeof callback!="undefined"&&callback!==null&&callback()})}function processResponseSuccess(responseData,options){try{options.pushUrlState===!0?History.pushState({tab:options.queryValue,rand:Math.random(),glueData:responseData,domId:options.domId,options:options},"tab "+options.queryValue,options.queryValue):glueContent(options,responseData);typeof options.callback!="undefined"&&options.callback!==null&&options.callback()}catch(ex){window.console!=null&&console.error("Glue Component Error: "+ex.message)}}function glueContent(options,responseData){var glueStatic=options.removeCacheFiles?"glueStatic":"",cdnCssPath="",cdnCssFiles=filteredCacheFiles(responseData.css.cdn),k,cdnJsPath,cdnJsFiles,keyIndex,j,event;for(keyIndex in cdnCssFiles)defaultOptions.combinatorPath?cdnCssPath+=(cdnCssPath.length?"&":"")+cdnCssFiles[keyIndex]:$("head").append('<link class="'+glueStatic+'" rel="stylesheet" href="'+cdnCssFiles[keyIndex]+'">');for(defaultOptions.combinatorPath&&cdnCssPath&&$("head").append('<link class="'+glueStatic+'" rel="stylesheet" href="'+defaultOptions.combinatorPath+"?"+cdnCssPath+'">'),$('link[class="glueStatic"]').remove(),k=0;k<responseData.css.local.length;k++)$('link[href="'+responseData.css.local[k]+'"]').length||$("head").append('<link class="'+glueStatic+'" rel="stylesheet" href="'+responseData.css.local[k]+'">');if($("#"+options.domId).html(responseData.html.body),responseData.js.asset)for(j=0;j<responseData.js.asset.length;j++)$.cachedScript(responseData.js.asset[j]);cdnJsPath="";cdnJsFiles=filteredCacheFiles(responseData.js.cdn,"javascript");for(keyIndex in cdnJsFiles)defaultOptions.combinatorPath?cdnJsPath+=(cdnJsPath.length?"&":"")+cdnJsFiles[keyIndex]:$.cachedScript(defaultOptions.combinatorPath);for(defaultOptions.combinatorPath&&cdnJsPath&&$.cachedScript(defaultOptions.combinatorPath+"?"+cdnJsPath),$('script[class="glueStatic"]').remove(),j=0;j<responseData.js.local.length;j++)$.cachedScript(responseData.js.local[j]);if(options.fadeIn&&$("#"+options.domId).fadeIn(),window.acom!=null&&window.acom.bus!=null)for(event in options.events)window.acom.bus.removeAllListeners(event),window.acom.bus.addListener(event,options.events[event])}function filteredCacheFiles(files,cacheType){if(typeof files=="undefined"||files.length===0)return[];var fileList="",currentLoadedFiles;return currentLoadedFiles=cacheType=="javascript"?$("script[src]"):$("link[href]"),currentLoadedFiles.each(function(i,val){fileList+=(cacheType=="javascript"?val.src:val.href)+" "}),$.map(files,function(val,i){var file=files[i],isNotLoaded=fileList.indexOf(file)==-1;if((defaultOptions.combinatorPath||file[0]!="x")&&isNotLoaded)return file;isNotLoaded&&window.console!=null&&console.error("Glue Component Error: The file "+file+" was not loaded.")})}function staticFetch(glueData){if(glueData===undefined||glueData===null){var options={key:defaultOptions.key,url:defaultOptions.url,domId:defaultOptions.domId,pushUrlState:!1,queryKey:"tab-"+defaultOptions.key,queryValue:defaultOptions.value};fetch(options)}else glueContent(defaultOptions,glueData)}function init(){History.Adapter.bind(window,"statechange",function(){var state=History.getState(),param=defaultOptions.key;(state.title!==""||state.title!=="")&&(param=state.data.tab.toLowerCase());typeof preProcess=="function"&&preProcess(param);state.data.glueData&&staticFetch(state.data.glueData)})}function reload(callback){var state=History.getState(),options=state.data.options?state.data.options:defaultOptions.options;options!=null&&fetch(options,callback)}var preProcess=null;Object.defineProperty(this,"preProcess",{get:function(){return preProcess},set:function(value){preProcess=value}});Object.defineProperty(this,"fetch",{get:function(){return fetch}});Object.defineProperty(this,"jsonpFetch",{get:function(){return jsonpFetch}});Object.defineProperty(this,"staticFetch",{get:function(){return staticFetch}});Object.defineProperty(this,"reload",{get:function(){return reload}});jQuery.cachedScript=function(url,options){return options=$.extend(options||{},{dataType:"script",cache:!0,url:url,crossDomain:!0}),jQuery.ajax(options)};init()};
(function($,bus,undefined){"use strict";function doNotify(){notifyOptions.enableIpns&&$.ajax({type:"GET",url:notifyOptions.ipnsUrl,cache:!1,dataType:"jsonp",success:function(notifications){var displayGrowl,noteX,notification;notifications&&notifications.length>0&&(displayGrowl=!0,typeof notifyOptions.handler=="function"&&(displayGrowl=notifyOptions.handler(notifications)),displayGrowl&&renderTemplates(notifications,function(notifications){for(noteX in notifications)notifications.hasOwnProperty(noteX)&&(notification=notifications[noteX],bus.emit("Interpage::Notify::"+notification.type,notification.message,notification.title,notification.noIcon))}))}})}function renderTemplates(notifications,callback){if(callback!==undefined){var promises=[];$.each(notifications,function(index,notification){if(notification&&notification.data&&notification.data.useTemplate&&notifyOptions.cmsUrlBase){var deferred=$.Deferred();$.ajax({type:"GET",url:notifyOptions.cmsUrlBase+"/cs/spots2/"+getTemplateKey(notification),dataType:"jsonp",success:function(result){var template="";result&&result[0]&&result[0].Views&&result[0].Views[0]?(template=result[0].Views[0].Content,replacePubUrls(notification.data).done(function(){notification.title="";notification.message=replaceTokens(template,notification.data);deferred.resolve()})):deferred.reject()},error:function(){}});promises.push(deferred.promise())}});$.when.apply(undefined,promises).done(function(){callback(notifications)}).fail(function(){console.log("renderTemplates finished with errors");callback(notifications)})}}function getTemplateKey(notification){return notification&&notification.data?"GT"+notification.type+notification.action.replace(":",""):""}function replacePubUrls(data,scopeKey){var deferred=$.Deferred(),promises=[];return typeof ancestry!="undefined"&&typeof ancestry.pub!="undefined"?$.each(data,function(property,propertyValue){var usePub,pubDestPageName,pubDestInputs,pubDeferred,propertyName=property;scopeKey&&scopeKey!==""&&(propertyName=scopeKey+"."+propertyName);typeof propertyValue=="object"&&(usePub=propertyValue.usePub,usePub===!0&&(pubDestPageName=propertyValue.pubDestPageName,pubDestInputs=propertyValue.pubDestInputs,pubDestPageName!==undefined&&pubDestInputs!==undefined&&(pubDeferred=$.Deferred(),ancestry.pub.buildUrl().toGoTo(pubDestPageName,pubDestInputs).withoutHistory().build(function(error,url){error||(propertyValue.url=url);deferred.resolve()}),promises.push(pubDeferred.promise()))),promises.push(replacePubUrls(propertyValue,propertyName)))}):console.log("The PUB library was not found. PUB is a dependency of notify, please include it on the page!"),$.when.apply(undefined,promises).done(function(){deferred.resolve()}),deferred.promise()}function replaceTokens(template,data,scopeKey){var property,propertyName,propertyValue;for(property in data)property&&data.hasOwnProperty(property)&&(propertyName=property,propertyValue=data[property],scopeKey&&scopeKey!==""&&(propertyName=scopeKey+"."+propertyName),template=typeof propertyValue=="object"?replaceTokens(template,propertyValue,propertyName):template.replace(new RegExp("{{"+propertyName+"}}","gi"),propertyValue));return scopeKey===undefined&&(template=template.replace(new RegExp("{{","g"),"").replace(new RegExp("}}","g"),"")),template}function pollingLoop(waitTime){notifyId=setTimeout(function(){doNotify();pollingLoop(waitTime)},waitTime)}var notifyId=-1,notifyOptions,init=function(){function notifyByGrowl(msg,title,type,noIcon,delay){var $notification;if(msg!==undefined||title!==undefined){$notification=$('<div class="alert">'+msg+"<\/div>");title&&$notification.prepend('<h4 class="alertTitle">'+title+"<\/h4>");switch(type){case"success":$notification.addClass("alertSuccess");break;case"failure":break;default:$notification.addClass("alertInfo")}noIcon&&$notification.addClass("alertNoIcon");setTimeout(function(){$notification.alert({display:"notification",duration:5e3})},delay||200)}}if(bus&&!bus.listeners("*::Notify::*").length){bus.on("*::Notify::Success",function(msg,title,noIcon,delay){notifyByGrowl(msg,title,"success",noIcon,delay)});bus.on("*::Notify::Failure",function(msg,title,noIcon,delay){notifyByGrowl(msg,title,"failure",noIcon,delay)});bus.on("*::Notify::Info",function(msg,title,noIcon,delay){notifyByGrowl(msg,title,"alert",noIcon,delay)})}};window.notify=function(options){var waitTime;if(options===undefined||options.action===undefined||options.action==="init")$(function(){notifyOptions=$.extend({},options);init();doNotify()});else if(options.action==="startPolling")waitTime=options.waitTime!==undefined?options.waitTime:5e3,waitTime<5e3&&(waitTime=5e3),pollingLoop(waitTime);else if(options.action==="stopPolling"){if(notifyId!==-1){clearTimeout(notifyId);notifyId=-1;return}}else options.action==="checkNow"&&doNotify()}})(jQuery,window.acom.bus);
typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c=="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];value&&typeof value=="object"&&typeof value.toJSON=="function"&&(value=value.toJSON(key));typeof rep=="function"&&(value=rep.call(holder,key,value));switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],Object.prototype.toString.apply(value)==="[object Array]"){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep=="object")for(length=rep.length,i=0;i<length;i+=1)typeof rep[i]=="string"&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="",typeof space=="number")for(i=0;i<space;i+=1)indent+=" ";else typeof space=="string"&&(indent=space);if(rep=replacer,replacer&&typeof replacer!="function"&&(typeof replacer!="object"||typeof replacer.length!="number"))throw new Error("JSON.stringify");return str("",{"":value})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value=="object")for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),v!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}();
/**
 * History.js jQuery Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
(function(window,undefined){"use strict";var History=window.History=window.History||{},jQuery=window.jQuery;if(typeof History.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");History.Adapter={bind:function(el,event,callback){jQuery(el).bind(event,callback)},trigger:function(el,event,extra){jQuery(el).trigger(event,extra)},extractEventData:function(key,event,extra){return event&&event.originalEvent&&event.originalEvent[key]||extra&&extra[key]||undefined},onDomLoad:function(callback){jQuery(callback)}};typeof History.init!="undefined"&&History.init()})(window);
/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
(function(window){"use strict";var document=window.document,setTimeout=window.setTimeout||setTimeout,clearTimeout=window.clearTimeout||clearTimeout,setInterval=window.setInterval||setInterval,History=window.History=window.History||{};if(typeof History.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");History.initHtml4=function(){if(typeof History.initHtml4.initialized!="undefined")return!1;if(History.initHtml4.initialized=!0,History.enabled=!0,History.savedHashes=[],History.isLastHash=function(newHash){var oldHash=History.getHashByIndex();return newHash===oldHash},History.isHashEqual=function(newHash,oldHash){return newHash=encodeURIComponent(newHash).replace(/%25/g,"%"),oldHash=encodeURIComponent(oldHash).replace(/%25/g,"%"),newHash===oldHash},History.saveHash=function(newHash){return History.isLastHash(newHash)?!1:(History.savedHashes.push(newHash),!0)},History.getHashByIndex=function(index){return typeof index=="undefined"?History.savedHashes[History.savedHashes.length-1]:index<0?History.savedHashes[History.savedHashes.length+index]:History.savedHashes[index]},History.discardedHashes={},History.discardedStates={},History.discardState=function(discardedState,forwardState,backState){var discardedStateHash=History.getHashByState(discardedState),discardObject;return discardObject={discardedState:discardedState,backState:backState,forwardState:forwardState},History.discardedStates[discardedStateHash]=discardObject,!0},History.discardHash=function(discardedHash,forwardState,backState){var discardObject={discardedHash:discardedHash,backState:backState,forwardState:forwardState};return History.discardedHashes[discardedHash]=discardObject,!0},History.discardedState=function(State){var StateHash=History.getHashByState(State);return History.discardedStates[StateHash]||!1},History.discardedHash=function(hash){return History.discardedHashes[hash]||!1},History.recycleState=function(State){var StateHash=History.getHashByState(State);return History.discardedState(State)&&delete History.discardedStates[StateHash],!0},History.emulated.hashChange){History.hashChangeInit=function(){History.checkerFunction=null;var lastDocumentHash="",iframeId,iframe,lastIframeHash,checkerRunning,startedWithHash=Boolean(History.getHash());return History.isInternetExplorer()?(iframeId="historyjs-iframe",iframe=document.createElement("iframe"),iframe.setAttribute("id",iframeId),iframe.setAttribute("src","#"),iframe.style.display="none",document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),lastIframeHash="",checkerRunning=!1,History.checkerFunction=function(){if(checkerRunning)return!1;checkerRunning=!0;var documentHash=History.getHash(),iframeHash=History.getHash(iframe.contentWindow.document);return documentHash!==lastDocumentHash?(lastDocumentHash=documentHash,iframeHash!==documentHash&&(lastIframeHash=iframeHash=documentHash,iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),iframe.contentWindow.document.location.hash=History.escapeHash(documentHash)),History.Adapter.trigger(window,"hashchange")):iframeHash!==lastIframeHash&&(lastIframeHash=iframeHash,startedWithHash&&iframeHash===""?History.back():History.setHash(iframeHash,!1)),checkerRunning=!1,!0}):History.checkerFunction=function(){var documentHash=History.getHash()||"";return documentHash!==lastDocumentHash&&(lastDocumentHash=documentHash,History.Adapter.trigger(window,"hashchange")),!0},History.intervalList.push(setInterval(History.checkerFunction,History.options.hashChangeInterval)),!0};History.Adapter.onDomLoad(History.hashChangeInit)}if(History.emulated.pushState&&(History.onHashChange=function(event){var currentUrl=event&&event.newURL||History.getLocationHref(),currentHash=History.getHashByUrl(currentUrl),currentState=null,currentStateHash=null,discardObject;return History.isLastHash(currentHash)?(History.busy(!1),!1):(History.doubleCheckComplete(),History.saveHash(currentHash),currentHash&&History.isTraditionalAnchor(currentHash))?(History.Adapter.trigger(window,"anchorchange"),History.busy(!1),!1):(currentState=History.extractState(History.getFullUrl(currentHash||History.getLocationHref()),!0),History.isLastSavedState(currentState))?(History.busy(!1),!1):(currentStateHash=History.getHashByState(currentState),discardObject=History.discardedState(currentState),discardObject)?(History.getHashByIndex(-2)===History.getHashByState(discardObject.forwardState)?History.back(!1):History.forward(!1),!1):(History.pushState(currentState.data,currentState.title,encodeURI(currentState.url),!1),!0)},History.Adapter.bind(window,"hashchange",History.onHashChange),History.pushState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(queue!==!1&&History.busy())return History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),html4Hash=History.getHash(),wasExpected=History.expectedStateId==newState.id;return(History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),newStateHash===oldStateHash)?(History.busy(!1),!1):(History.saveState(newState),wasExpected||History.Adapter.trigger(window,"statechange"),History.isHashEqual(newStateHash,html4Hash)||History.isHashEqual(newStateHash,History.getShortUrl(History.getLocationHref()))||History.setHash(newStateHash,!1),History.busy(!1),!0)},History.replaceState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(queue!==!1&&History.busy())return History.pushQueue({scope:History,callback:History.replaceState,args:arguments,queue:queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),previousState=History.getStateByIndex(-2);return History.discardState(oldState,newState,previousState),newStateHash===oldStateHash?(History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),History.saveState(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1)):History.pushState(newState.data,newState.title,newState.url,!1),!0}),History.emulated.pushState&&History.getHash()&&!History.emulated.hashChange)History.Adapter.onDomLoad(function(){History.Adapter.trigger(window,"hashchange")})};typeof History.init!="undefined"&&History.init()})(window);
/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
(function(window,undefined){"use strict";var console=window.console||undefined,document=window.document,navigator=window.navigator,sessionStorage=!1,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,setInterval=window.setInterval,clearInterval=window.clearInterval,JSON=window.JSON,alert=window.alert,History=window.History=window.History||{},history=window.history;try{sessionStorage=window.sessionStorage;sessionStorage.setItem("TEST","1");sessionStorage.removeItem("TEST")}catch(e){sessionStorage=!1}if(JSON.stringify=JSON.stringify||JSON.encode,JSON.parse=JSON.parse||JSON.decode,typeof History.init!="undefined")throw new Error("History.js Core has already been loaded...");History.init=function(){return typeof History.Adapter=="undefined"?!1:(typeof History.initCore!="undefined"&&History.initCore(),typeof History.initHtml4!="undefined"&&History.initHtml4(),!0)};History.initCore=function(){if(typeof History.initCore.initialized!="undefined")return!1;History.initCore.initialized=!0;History.options=History.options||{};History.options.hashChangeInterval=History.options.hashChangeInterval||100;History.options.safariPollInterval=History.options.safariPollInterval||500;History.options.doubleCheckInterval=History.options.doubleCheckInterval||500;History.options.disableSuid=History.options.disableSuid||!1;History.options.storeInterval=History.options.storeInterval||1e3;History.options.busyDelay=History.options.busyDelay||250;History.options.debug=History.options.debug||!1;History.options.initialTitle=History.options.initialTitle||document.title;History.options.html4Mode=History.options.html4Mode||!1;History.options.delayInit=History.options.delayInit||!1;History.intervalList=[];History.clearAllIntervals=function(){var i,il=History.intervalList;if(typeof il!="undefined"&&il!==null){for(i=0;i<il.length;i++)clearInterval(il[i]);History.intervalList=null}};History.debug=function(){(History.options.debug||!1)&&History.log.apply(History,arguments)};History.log=function(){var consoleExists=!(typeof console=="undefined"||typeof console.log=="undefined"||typeof console.log.apply=="undefined"),textarea=document.getElementById("log"),message,i,n,args,arg;for(consoleExists?(args=Array.prototype.slice.call(arguments),message=args.shift(),typeof console.debug!="undefined"?console.debug.apply(console,[message,args]):console.log.apply(console,[message,args])):message="\n"+arguments[0]+"\n",i=1,n=arguments.length;i<n;++i){if(arg=arguments[i],typeof arg=="object"&&typeof JSON!="undefined")try{arg=JSON.stringify(arg)}catch(Exception){}message+="\n"+arg+"\n"}return textarea?(textarea.value+=message+"\n-----\n",textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight):consoleExists||alert(message),!0};
/**
         * History.getInternetExplorerMajorVersion()
         * Get's the major version of Internet Explorer
         * @return {integer}
         * @license Public Domain
         * @author Benjamin Arthur Lupton <contact@balupton.com>
         * @author James Padolsey <https://gist.github.com/527683>
         */
History.getInternetExplorerMajorVersion=function(){return History.getInternetExplorerMajorVersion.cached=typeof History.getInternetExplorerMajorVersion.cached!="undefined"?History.getInternetExplorerMajorVersion.cached:function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");(div.innerHTML="<!--[if gt IE "+ ++v+"]><i><\/i><![endif]-->")&&all[0];);return v>4?v:!1}()};
/**
         * History.isInternetExplorer()
         * Are we using Internet Explorer?
         * @return {boolean}
         * @license Public Domain
         * @author Benjamin Arthur Lupton <contact@balupton.com>
         */
if(History.isInternetExplorer=function(){return History.isInternetExplorer.cached=typeof History.isInternetExplorer.cached!="undefined"?History.isInternetExplorer.cached:Boolean(History.getInternetExplorerMajorVersion())},History.emulated=History.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(window.history&&window.history.pushState&&window.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),hashChange:Boolean(!("onhashchange"in window||"onhashchange"in document)||History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8)},History.enabled=!History.emulated.pushState,History.bugs={setHash:Boolean(!History.emulated.pushState&&navigator.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),safariPoll:Boolean(!History.emulated.pushState&&navigator.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),ieDoubleCheck:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<7)},History.isEmptyObject=function(obj){for(var name in obj)if(obj.hasOwnProperty(name))return!1;return!0},History.cloneObject=function(obj){var hash,newObj;return obj?(hash=JSON.stringify(obj),newObj=JSON.parse(hash)):newObj={},newObj},History.getRootUrl=function(){var rootUrl=document.location.protocol+"//"+(document.location.hostname||document.location.host);return(document.location.port||!1)&&(rootUrl+=":"+document.location.port),rootUrl+"/"},History.getBaseHref=function(){var baseElements=document.getElementsByTagName("base"),baseElement=null,baseHref="";return baseElements.length===1&&(baseElement=baseElements[0],baseHref=baseElement.href.replace(/[^\/]+$/,"")),baseHref=baseHref.replace(/\/+$/,""),baseHref&&(baseHref+="/"),baseHref},History.getBaseUrl=function(){return History.getBaseHref()||History.getBasePageUrl()||History.getRootUrl()},History.getPageUrl=function(){var State=History.getState(!1,!1),stateUrl=(State||{}).url||History.getLocationHref();return stateUrl.replace(/\/+$/,"").replace(/[^\/]+$/,function(part){return/\./.test(part)?part:part+"/"})},History.getBasePageUrl=function(){return History.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(part){return/[^\/]$/.test(part)?"":part}).replace(/\/+$/,"")+"/"},History.getFullUrl=function(url,allowBaseHref){var fullUrl=url,firstChar=url.substring(0,1);return allowBaseHref=typeof allowBaseHref=="undefined"?!0:allowBaseHref,/[a-z]+\:\/\//.test(url)||(fullUrl=firstChar==="/"?History.getRootUrl()+url.replace(/^\/+/,""):firstChar==="#"?History.getPageUrl().replace(/#.*/,"")+url:firstChar==="?"?History.getPageUrl().replace(/[\?#].*/,"")+url:allowBaseHref?History.getBaseUrl()+url.replace(/^(\.\/)+/,""):History.getBasePageUrl()+url.replace(/^(\.\/)+/,"")),fullUrl.replace(/\#$/,"")},History.getShortUrl=function(url){var shortUrl=url,baseUrl=History.getBaseUrl(),rootUrl=History.getRootUrl();return History.emulated.pushState&&(shortUrl=shortUrl.replace(baseUrl,"")),shortUrl=shortUrl.replace(rootUrl,"/"),History.isTraditionalAnchor(shortUrl)&&(shortUrl="./"+shortUrl),shortUrl.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},History.getLocationHref=function(doc){return(doc=doc||document,doc.URL===doc.location.href)?doc.location.href:doc.location.href===decodeURIComponent(doc.URL)?doc.URL:doc.location.hash&&decodeURIComponent(doc.location.href.replace(/^[^#]+/,""))===doc.location.hash?doc.location.href:doc.URL.indexOf("#")==-1&&doc.location.href.indexOf("#")!=-1?doc.location.href:doc.URL||doc.location.href},History.store={},History.idToState=History.idToState||{},History.stateToId=History.stateToId||{},History.urlToId=History.urlToId||{},History.storedStates=History.storedStates||[],History.savedStates=History.savedStates||[],History.normalizeStore=function(){History.store.idToState=History.store.idToState||{};History.store.urlToId=History.store.urlToId||{};History.store.stateToId=History.store.stateToId||{}},History.getState=function(friendly,create){typeof friendly=="undefined"&&(friendly=!0);typeof create=="undefined"&&(create=!0);var State=History.getLastSavedState();return!State&&create&&(State=History.createStateObject()),friendly&&(State=History.cloneObject(State),State.url=State.cleanUrl||State.url),State},History.getIdByState=function(newState){var id=History.extractId(newState.url),str;if(!id)if(str=History.getStateString(newState),typeof History.stateToId[str]!="undefined")id=History.stateToId[str];else if(typeof History.store.stateToId[str]!="undefined")id=History.store.stateToId[str];else{for(;;)if(id=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),typeof History.idToState[id]=="undefined"&&typeof History.store.idToState[id]=="undefined")break;History.stateToId[str]=id;History.idToState[id]=newState}return id},History.normalizeState=function(oldState){var newState,dataNotEmpty;return(oldState&&typeof oldState=="object"||(oldState={}),typeof oldState.normalized!="undefined")?oldState:(oldState.data&&typeof oldState.data=="object"||(oldState.data={}),newState={},newState.normalized=!0,newState.title=oldState.title||"",newState.url=History.getFullUrl(oldState.url?oldState.url:History.getLocationHref()),newState.hash=History.getShortUrl(newState.url),newState.data=History.cloneObject(oldState.data),newState.id=History.getIdByState(newState),newState.cleanUrl=newState.url.replace(/\??\&_suid.*/,""),newState.url=newState.cleanUrl,dataNotEmpty=!History.isEmptyObject(newState.data),(newState.title||dataNotEmpty)&&History.options.disableSuid!==!0&&(newState.hash=History.getShortUrl(newState.url).replace(/\??\&_suid.*/,""),/\?/.test(newState.hash)||(newState.hash+="?"),newState.hash+="&_suid="+newState.id),newState.hashedUrl=History.getFullUrl(newState.hash),(History.emulated.pushState||History.bugs.safariPoll)&&History.hasUrlDuplicate(newState)&&(newState.url=newState.hashedUrl),newState)},History.createStateObject=function(data,title,url){var State={data:data,title:title,url:url};return History.normalizeState(State)},History.getStateById=function(id){id=String(id);return History.idToState[id]||History.store.idToState[id]||undefined},History.getStateString=function(passedState){var State,cleanedState;return State=History.normalizeState(passedState),cleanedState={data:State.data,title:passedState.title,url:passedState.url},JSON.stringify(cleanedState)},History.getStateId=function(passedState){var State;return State=History.normalizeState(passedState),State.id},History.getHashByState=function(passedState){var State;return State=History.normalizeState(passedState),State.hash},History.extractId=function(url_or_hash){var id,parts,url,tmp;return tmp=url_or_hash.indexOf("#")!=-1?url_or_hash.split("#")[0]:url_or_hash,parts=/(.*)\&_suid=([0-9]+)$/.exec(tmp),url=parts?parts[1]||url_or_hash:url_or_hash,id=parts?String(parts[2]||""):"",id||!1},History.isTraditionalAnchor=function(url_or_hash){return!/[\/\?\.]/.test(url_or_hash)},History.extractState=function(url_or_hash,create){var State=null,id,url;return create=create||!1,id=History.extractId(url_or_hash),id&&(State=History.getStateById(id)),State||(url=History.getFullUrl(url_or_hash),id=History.getIdByUrl(url)||!1,id&&(State=History.getStateById(id)),State||!create||History.isTraditionalAnchor(url_or_hash)||(State=History.createStateObject(null,null,url))),State},History.getIdByUrl=function(url){return History.urlToId[url]||History.store.urlToId[url]||undefined},History.getLastSavedState=function(){return History.savedStates[History.savedStates.length-1]||undefined},History.getLastStoredState=function(){return History.storedStates[History.storedStates.length-1]||undefined},History.hasUrlDuplicate=function(newState){var oldState;return oldState=History.extractState(newState.url),oldState&&oldState.id!==newState.id},History.storeState=function(newState){return History.urlToId[newState.url]=newState.id,History.storedStates.push(History.cloneObject(newState)),newState},History.isLastSavedState=function(newState){var isLast=!1,newId,oldState,oldId;return History.savedStates.length&&(newId=newState.id,oldState=History.getLastSavedState(),oldId=oldState.id,isLast=newId===oldId),isLast},History.saveState=function(newState){return History.isLastSavedState(newState)?!1:(History.savedStates.push(History.cloneObject(newState)),!0)},History.getStateByIndex=function(index){return typeof index=="undefined"?History.savedStates[History.savedStates.length-1]:index<0?History.savedStates[History.savedStates.length+index]:History.savedStates[index]},History.getCurrentIndex=function(){return History.savedStates.length<1?0:History.savedStates.length-1},History.getHash=function(doc){var url=History.getLocationHref(doc);return History.getHashByUrl(url)},History.unescapeHash=function(hash){var result=History.normalizeHash(hash);return decodeURIComponent(result)},History.normalizeHash=function(hash){return hash.replace(/[^#]*#/,"").replace(/#.*/,"")},History.setHash=function(hash,queue){var State,pageUrl;return queue!==!1&&History.busy()?(History.pushQueue({scope:History,callback:History.setHash,args:arguments,queue:queue}),!1):(History.busy(!0),State=History.extractState(hash,!0),State&&!History.emulated.pushState?History.pushState(State.data,State.title,State.url,!1):History.getHash()!==hash&&(History.bugs.setHash?(pageUrl=History.getPageUrl(),History.pushState(null,null,pageUrl+"#"+hash,!1)):document.location.hash=hash),History)},History.escapeHash=function(hash){var result=History.normalizeHash(hash);return result=window.encodeURIComponent(result),History.bugs.hashEscape||(result=result.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),result},History.getHashByUrl=function(url){var hash=String(url).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return History.unescapeHash(hash)},History.setTitle=function(newState){var title=newState.title,firstState;title||(firstState=History.getStateByIndex(0),firstState&&firstState.url===newState.url&&(title=firstState.title||History.options.initialTitle));try{document.getElementsByTagName("title")[0].innerHTML=title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(Exception){}return document.title=title,History},History.queues=[],History.busy=function(value){if(typeof value!="undefined"?History.busy.flag=value:typeof History.busy.flag=="undefined"&&(History.busy.flag=!1),!History.busy.flag){clearTimeout(History.busy.timeout);var fireNext=function(){var i,queue,item;if(!History.busy.flag)for(i=History.queues.length-1;i>=0;--i)(queue=History.queues[i],queue.length!==0)&&(item=queue.shift(),History.fireQueueItem(item),History.busy.timeout=setTimeout(fireNext,History.options.busyDelay))};History.busy.timeout=setTimeout(fireNext,History.options.busyDelay)}return History.busy.flag},History.busy.flag=!1,History.fireQueueItem=function(item){return item.callback.apply(item.scope||History,item.args||[])},History.pushQueue=function(item){return History.queues[item.queue||0]=History.queues[item.queue||0]||[],History.queues[item.queue||0].push(item),History},History.queue=function(item,queue){return typeof item=="function"&&(item={callback:item}),typeof queue!="undefined"&&(item.queue=queue),History.busy()?History.pushQueue(item):History.fireQueueItem(item),History},History.clearQueue=function(){return History.busy.flag=!1,History.queues=[],History},History.stateChanged=!1,History.doubleChecker=!1,History.doubleCheckComplete=function(){return History.stateChanged=!0,History.doubleCheckClear(),History},History.doubleCheckClear=function(){return History.doubleChecker&&(clearTimeout(History.doubleChecker),History.doubleChecker=!1),History},History.doubleCheck=function(tryAgain){return History.stateChanged=!1,History.doubleCheckClear(),History.bugs.ieDoubleCheck&&(History.doubleChecker=setTimeout(function(){return History.doubleCheckClear(),History.stateChanged||tryAgain(),!0},History.options.doubleCheckInterval)),History},History.safariStatePoll=function(){var urlState=History.extractState(History.getLocationHref()),newState;if(!History.isLastSavedState(urlState))return newState=urlState,newState||(newState=History.createStateObject()),History.Adapter.trigger(window,"popstate"),History},History.back=function(queue){return queue!==!1&&History.busy()?(History.pushQueue({scope:History,callback:History.back,args:arguments,queue:queue}),!1):(History.busy(!0),History.doubleCheck(function(){History.back(!1)}),history.go(-1),!0)},History.forward=function(queue){return queue!==!1&&History.busy()?(History.pushQueue({scope:History,callback:History.forward,args:arguments,queue:queue}),!1):(History.busy(!0),History.doubleCheck(function(){History.forward(!1)}),history.go(1),!0)},History.go=function(index,queue){var i;if(index>0)for(i=1;i<=index;++i)History.forward(queue);else if(index<0)for(i=-1;i>=index;--i)History.back(queue);else throw new Error("History.go: History.go requires a positive or negative integer passed.");return History},History.emulated.pushState){var emptyFunction=function(){};History.pushState=History.pushState||emptyFunction;History.replaceState=History.replaceState||emptyFunction}else History.onPopState=function(event,extra){var stateId=!1,newState=!1,currentHash,currentState;return(History.doubleCheckComplete(),currentHash=History.getHash(),currentHash)?(currentState=History.extractState(currentHash||History.getLocationHref(),!0),currentState?History.replaceState(currentState.data,currentState.title,currentState.url,!1):(History.Adapter.trigger(window,"anchorchange"),History.busy(!1)),History.expectedStateId=!1,!1):(stateId=History.Adapter.extractEventData("state",event,extra)||!1,newState=stateId?History.getStateById(stateId):History.expectedStateId?History.getStateById(History.expectedStateId):History.extractState(History.getLocationHref()),newState||(newState=History.createStateObject(null,null,History.getLocationHref())),History.expectedStateId=!1,History.isLastSavedState(newState))?(History.busy(!1),!1):(History.storeState(newState),History.saveState(newState),History.setTitle(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1),!0)},History.Adapter.bind(window,"popstate",History.onPopState),History.pushState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(queue!==!1&&History.busy())return History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.pushState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0},History.replaceState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(queue!==!1&&History.busy())return History.pushQueue({scope:History,callback:History.replaceState,args:arguments,queue:queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.replaceState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0};if(sessionStorage){try{History.store=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){History.store={}}History.normalizeStore()}else History.store={},History.normalizeStore();if(History.Adapter.bind(window,"unload",History.clearAllIntervals),History.saveState(History.storeState(History.extractState(History.getLocationHref(),!0))),sessionStorage&&(History.onUnload=function(){var currentStore,item,currentStoreString;try{currentStore=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){currentStore={}}currentStore.idToState=currentStore.idToState||{};currentStore.urlToId=currentStore.urlToId||{};currentStore.stateToId=currentStore.stateToId||{};for(item in History.idToState)History.idToState.hasOwnProperty(item)&&(currentStore.idToState[item]=History.idToState[item]);for(item in History.urlToId)History.urlToId.hasOwnProperty(item)&&(currentStore.urlToId[item]=History.urlToId[item]);for(item in History.stateToId)History.stateToId.hasOwnProperty(item)&&(currentStore.stateToId[item]=History.stateToId[item]);History.store=currentStore;History.normalizeStore();currentStoreString=JSON.stringify(currentStore);try{sessionStorage.setItem("History.store",currentStoreString)}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR)sessionStorage.length&&(sessionStorage.removeItem("History.store"),sessionStorage.setItem("History.store",currentStoreString));else throw e;}},History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval)),History.Adapter.bind(window,"beforeunload",History.onUnload),History.Adapter.bind(window,"unload",History.onUnload)),!History.emulated.pushState&&(History.bugs.safariPoll&&History.intervalList.push(setInterval(History.safariStatePoll,History.options.safariPollInterval)),(navigator.vendor==="Apple Computer, Inc."||(navigator.appCodeName||"")==="Mozilla")&&(History.Adapter.bind(window,"hashchange",function(){History.Adapter.trigger(window,"popstate")}),History.getHash())))History.Adapter.onDomLoad(function(){History.Adapter.trigger(window,"hashchange")})};History.options&&History.options.delayInit||History.init()})(window);
typeof ancestry=="undefined"&&(ancestry={});ancestry.pubDevLevel="live";ancestry.pubDomainInfo={"0":{Pattern:"{domain}.ancestry{inst}.{partnerTld}",StandardDomains:["apv","hints","interactive","mediasvc","person","search","trees","addperson"],MappedDomains:{ancestry:"www",ancestryhome:"home",mymedia:"mv",contextui:"contextux"},partnerTld:{"0":"com","5538":"co.uk","5542":"com","5543":"ca","5544":"com.au","5545":"de","5546":"it","5547":"fr","5552":"se","5553":"es","5561":"com","5565":"mx","5822":"pl","5823":"ie","5824":"no","5825":"com","5826":"com","5827":"se","5828":"de","5829":"ca","5830":"co.uk","5831":"com.au","5840":"de","5841":"ca","5842":"co.uk","5843":"com.au","5852":"se"},inst:{"5542":"library","5561":"institution","5825":"heritagequest","5826":"classroom","5827":"library","5828":"library","5829":"library","5830":"libraryedition","5831":"library","5840":"institution","5841":"institution","5842":"institution","5843":"institution","5852":"institution"}}};ancestry.pubVersion=91;ancestry.pubUrlInfos={TreeRepositoryAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/repository/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"SourceId",Key:"sid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberSourcePageData",Key:"css",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberRepositoryPageData",Key:"crs",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonVideoRecord:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/Video/RecordVideo.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},CategorySearchPage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/category.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CategoryId",Key:"cat",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},FamilySearchStartYourTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/fs/startyourtree",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"ForceImport",Key:"forceimport",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"OriginalTreeId",Key:"otid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"OriginalPersonId",Key:"opid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectAddPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/SelectAddPerson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"RelationType",Key:"rel",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"Title",Key:"ttl",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SpouseId",Key:"sid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RelationshipId",Key:"rid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SiblingId",Key:"sib",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaGalleryVideo:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/video",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintsAccepted:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hints/accepted",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSettings:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},SubmitAddPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"AddPersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/modals/addperson/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/submit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},RecordView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/cgi-bin/sse.dll",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"try",Key:"indiv",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"h",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"GravitySearchSource",Key:"gss",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreePersonaSelectAttachRecord:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/AttachStree.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ss",Key:"ss",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"sePT",Key:"sePT",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"seST",Key:"seST",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"seSubT",Key:"seSubT",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ssd",Key:"ssd",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"Rows",Key:"rows",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"LastName",Key:"ln",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonViewHints:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/Hints",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMergeDuplicatePickPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/mergeduplicate/pickperson",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonIdPrimary",Key:"pid1",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectFeed:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/feed",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactsCitationEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TabName",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonLifeStoryEventAnchor:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/story/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewerPedigree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/family/pedigree",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ChangeFocusPersonId",Key:"cfpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SelectedNode",Key:"selnode",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreePersonaSelectBrowseList:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/BrowseList.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeAllComments:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/ViewAllComments.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},CollectionImageThumbnail:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"MediaSvcDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/v2/thumbnail/namespaces/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/media/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ImageId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:".jpg",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"SearchUI",Key:"Client",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"LongestSide",Key:"MaxSide",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"suppressNotFound",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},SelectMePid:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/SelectMe.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SetHomePerson",Key:"hp",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"fti",Key:"fti",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},TreeFamilyGroupSheet:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/family/familygroup",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaGalleryStory:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/story",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaObjectUpload:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeInvitation:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/RSVP.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"EncryptedData",Key:"dat",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MAC",Key:"mac",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonCitationDelete:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/delete",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectPartial:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/listpersonas",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaObjectAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},MyCanvasPrint:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/print/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PageId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonFactMediaObjectUploadMeta:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeInviteeWelcomeModal:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/modal/inviteewelcome/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSettingsPrivacy:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/privacy",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},MediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"MyMediaDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/viewer/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectContributors:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/contributors",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},LearnMoreSources:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/learnmore/sources.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactsSourceSelect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts/source/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},RecordIndex:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/cgi-bin/sse.dll",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"1",Key:"indiv",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionName",Key:"db",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"h",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"HintId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"GravitySearchSource",Key:"gss",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},AggregatedPersonView:{UriParts:[{Type:"Constant",Value:"http://apv.ancestry.com/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"BigTreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaDownload:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/downloadmedia/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonPhotoUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/photo/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/info",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"IndexOrObjectId",Key:"oidx",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:"mediatype",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PageName",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreePersonaSelect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/selectpersona",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintCountsJson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/hintrequest.ashx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"1",Key:"h",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ClearHints",Key:"ch",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},LoggedOutHomePage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"AncestryDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},HackDayGuidePage:{UriParts:[{Type:"Constant",Value:"http://guide.ancestry.com/tasks/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TaskId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"param",Key:"dummy",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeMediaObjectTagResult:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/tagresult",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewRecordRedir:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/ViewRecordRedir.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:"cid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"DatabaseId",Key:"dbid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonName",Key:"nam",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/addperson",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"OriginalTreeId",Key:"otid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"OriginalPersonId",Key:"opid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:"oid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreePersonaAddSelectedPopup:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/selectaddpersonapopup",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"SourceId",Key:"sid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"RelationType",Key:"rel",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"RelationshipId",Key:"rid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"Title",Key:"ttl",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonIdPrimary",Key:"pid1",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaGalleryStory:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/story",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},AttachMedia:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"EvidenceType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"EvidenceId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/attach",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},MergeDuplicateUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/mergeduplicateupdate/pid1/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdPrimary",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pid2/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdDuplicate",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},TreeError500:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/error/500.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},CollectionSearchPage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/db.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreesMediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/mediax/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeLivingLearnMore:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/living/learnmore",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},HistoricalInsights:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"contextuidomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/historicalinsights/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"InsightSlug",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/persons/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:":1030:",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},AggregatePersonOverview:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"APVDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AggregatePersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/overview",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"treeId",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"personid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CommonAncestorDecendancyId",Key:"cadid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonMergeDuplicateUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/mergeduplicateupdate/pid1/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdPrimary",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/pid2/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdDuplicate",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationMediaObjectAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationMediaObjectUploadMeta:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonNoteDialog:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/note/dialog",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaGallery:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/media",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePhotoUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/photo/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/info",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:"oidx",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectMe:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/SelectMeSelectPerson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitation:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationMediaObjectDelete:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/delete",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintCompare:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hintcompareperson",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},AggregatePersonFacts:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"APVDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AggregatePersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"treeId",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"personid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CommonAncestorDecendancyId",Key:"cadid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectDetails:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/details",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSettingsShareInvite:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/sharing/invite",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonInvite:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/settings/sharing/invite",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactMediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectGallery:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/gallery",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaGalleryAudio:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/audio",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonLifeStoryEventEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/story/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectResearch:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/SelectPerson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactCitationAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactsFactSelect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSourceDelete:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/source/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/delete",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonPageHintsView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/hints",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"HintStatus",Key:"Hints.hintStatus",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeSettingsShareManage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/sharing/manageinvitees",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},GlobalSearchPage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Constant",Value:"home",Key:"welcome",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectTypeAhead:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/TypeAheadSelectPerson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaObjectAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},GroupSearchPage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/group/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"GroupName",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintList:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hintlist",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},SaveStory:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/EditStory.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:"oid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonFactMediaObjectUpload:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSelectMe:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/SelectMe.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SetHomePerson",Key:"hp",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"fti",Key:"fti",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonFactMediaObjectAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"IndexOrObjectId",Key:"oidx",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMergeDuplicateLearnMore:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/mergeduplicate/learnmore",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdPrimary",Key:"pid1",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdDuplicate",Key:"pid2",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonStoryEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/EditStory.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:"oid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreesList:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeOwnerType",Key:"type",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PageNumber",Key:"pn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMergeFamilyUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/mergefamilyupdate",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"HintId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeMergeData",Key:"treemergedata",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonAddSubmit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/addpersonsubmit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFamilySearchCompareAndTransfer:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fs/compareandtransfer",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHints:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/hints",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"IgnoredHintId",Key:"ihid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MaybeHintId",Key:"dhid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},RedirectToPriorSearch:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"searchdomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/prior",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeViewerPedigreePrintWithFocusPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/family/pedigree/print",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSettingsInfo:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/info",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeRepositoryEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/repository/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RepositoryId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"SourceId",Key:"sid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberSourcePageData",Key:"css",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberRepositoryPageData",Key:"crs",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},LoggedInHomePage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"AncestryHomeDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMilitaryPage:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/view/Military.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},BuildTreeSearch:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"searchdomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/search/RecordSearch.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"GroupOrCategoryName",Key:"gl",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CategoryBucketSelector",Key:"tab",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonMediaGallery:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/media",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/edit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSourceView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/source/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationMediaObject:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"IndexOrObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintsIgnored:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hints/ignored",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonAddEditEvent:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/event.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AddAsNew",Key:"addnew",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"EventId",Key:"eid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSettingsShareInviteFromTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/sharing/invitefromtree",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaAddSelected:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/selectaddpersona",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewerPedigreePrint:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/family/pedigree/print",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintListPending:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hintlist/pending",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},AggregatePersonGallery:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"APVDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AggregatePersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/gallery",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"treeId",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"personid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CommonAncestorDecendancyId",Key:"cadid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeMediaGalleryPhoto:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/photo",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMatchSelect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/PersonMatch.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonCitationMediaObjectUpload:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/upload",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSourceAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/source/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberSourcePageData",Key:"css",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TestPageA:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"SearchDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/playground/pubtest/pagea",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonAllSources:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/facts/sources",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintListAccepted:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hintlist/accepted",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonPrint:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/print",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonVideoSave:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/Video/SaveVideo.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"VideoId",Key:"videoId",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"TimeZone",Key:"tzo",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonComments:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/comments",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaObjectUploadMeta:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"fc",Key:"fc",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewerWithFocusPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/family",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},MediaSelectorComponent:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"MyMediaDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/component/selector/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/1030",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"ExcludedMediaTypes",Key:"exclude",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaId",Key:"mediaId",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SelectedMediaIds",Key:"selectedMediaIds",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AllowMultiSelect",Key:"allowMultiSelect",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaTypesFilter",Key:"filter",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeMediaRemove:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/removemedia/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeComments:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/comments",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactsFactEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/facts/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TabName",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},EditPersonSubmit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"AddPersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/modals/addperson/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit/submit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonVideoEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/Video/EditVideoInfo.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:"oid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonOverview:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[{Type:"Input",Value:"StatusMessage",Key:"msg",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberTreeHintsAccepted:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/PersonMatch.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"m",Key:"src",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},AddPersonSubmit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/addpersonsubmit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},UploadMediaMetaTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonHintListRejected:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hintlist/rejected",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectSuggested:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/potential",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},InteractiveImageViewer:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"InteractiveDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ImageId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"RecordId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"BackUrl",Key:"backurl",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:"treeid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"personid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"HintId",Key:"hintid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RectangleCoordinates",Key:"rc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PayPerViewHash",Key:"ppvhash",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeSourceEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/source/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RememberSourcePageData",Key:"css",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreePersonaSelectPhoto:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/PhotoSelectPerson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},UploadMediaMetaPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"fc",Key:"fc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonCitationAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/citation/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"AddAsNew",Key:"addnew",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFacts:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/facts",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewerFamilyView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/family/familyview",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ChangeFocusPersonId",Key:"cfpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SelectedNode",Key:"selnode",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonEditTemplate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/edit",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonViewMediaGallery:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/Gallery",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonHintsPending:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/hints/pending",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonRecordRedirect:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/ViewRecordRedir.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonName",Key:"nam",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonSiblings:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/overview/familymembers/siblings",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaGalleryAudio:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/audio",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},BasicUploaderSubmit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"treesdomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload.file/fileupload.ashx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"MediaType",Key:"mediatype",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:"aid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:"cid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"uatt",Key:"uatt",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"scsa",Key:"scsa",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"vism",Key:"vism",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"vlcid",Key:"vlcid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"se",Key:"se",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"html",Key:"html",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"useemsupload",Key:"useemsupload",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},TreeViewerFamilyViewPrintWithFocusPerson:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/familyview/print",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFact:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeInviteModal:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/settings/sharing/modalinvite",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},CurrentPersonView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"PersonDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},UploadTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/UploadFile.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},MergeFamilyUpdate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/mergefamilyupdate",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"HintId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeMergeData",Key:"treemergedata",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:{},RequiresBackLink:!1},PersonMatch:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/PersonMatch.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!1,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeViewer:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/family",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"ChangeFocusPersonId",Key:"cfpid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeMediaUploadMeta:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/upload/meta",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"CachedId",Key:"cacheid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaObjectCitationAdd:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/citation/create",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/editperson.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"FocusPersonId",Key:"fpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:"cid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},NewTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/NewTree.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeAllHints:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"HintsDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/hints/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"HintFilter",Key:"hf",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"HintSort",Key:"hs",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeLastName",Key:"ln",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeFirstName",Key:"fn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PageNumber",Key:"pn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"hdbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"GroupName",Key:"gn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CategoryId",Key:"hcatid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeOverview:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/recent",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"StatusMessage",Key:"msg",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonCitationMediaObjectAttach:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/citation/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CitationId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/attach",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"stl",Key:"stl",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeMediaGalleryVideo:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/video",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonAudioEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/EditAudio.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ObjectId",Key:"oid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},TreeFacebookGetStarted:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/facebookgetstarted",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeListOfAllPeople:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/listofallpeople",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"ShowSelect",Key:"ss",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"LastName",Key:"ln",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"FirstName",Key:"fn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"Rows",Key:"rows",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonNoteDialogEdit:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/note/editdialog",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeRepositoryView:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/repository/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RepositoryId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0}],QueryParts:[{Type:"Input",Value:"CitationId",Key:"cid",Optional:!0,Default:null,ShouldUrlEncode:!0},{Type:"Input",Value:"AssertionId",Key:"aid",Optional:!0,Default:null,ShouldUrlEncode:!0}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaGalleryPhoto:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/photo",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMediaObjectUpload:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/upload",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},MediaViewer:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"MyMediaDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/viewer/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"SaveToTreeId",Key:"tid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SaveToPersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"ShowImageCropping",Key:"imagecrop",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"DestTreeId",Key:"destTreeId",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"DestPersonId",Key:"destPersonid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},StartTree:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/StartPed.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonFactMediaAttach:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/fact/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"AssertionId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"MediaType",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/attach",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},TreeRepositoryDelete:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/repository/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RepositoryId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/delete",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonRecordSearch:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/pt/RecordSearch.aspx",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"TreeId",Key:"tid",Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"HintId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMemberConnectIgnored:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!0},{Type:"Constant",Value:"/community/ignored",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[],FragmentParts:null,FormParameters:null,RequiresBackLink:!1},PersonMergeDuplicate:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/mergeduplicate",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"PersonId",Key:"pid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdPrimary",Key:"pid1",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonIdDuplicate",Key:"pid2",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonMergeFamily:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/mergefamily",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"HintId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SSRC",Key:"ssrc",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeMergeData",Key:"treemergedata",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PushPage",Key:"pgn",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"true",Key:"usePUB",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:[],FormParameters:null,RequiresBackLink:!1},PersonMergeLearnMore:{UriParts:[{Type:"Constant",Value:"http://",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"SiteSettings",Value:"TreesDomain",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/tree/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"TreeId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/person/",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"PersonId",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1},{Type:"Constant",Value:"/mergelearnmore",Key:null,Optional:!1,Default:null,ShouldUrlEncode:!1}],QueryParts:[{Type:"Input",Value:"SourceTreeId",Key:"stid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"SourcePersonId",Key:"spid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"HintsId",Key:"hid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"CollectionId",Key:"dbid",Optional:!0,Default:null,ShouldUrlEncode:!1},{Type:"Input",Value:"RecordId",Key:"rpid",Optional:!0,Default:null,ShouldUrlEncode:!1}],FragmentParts:null,FormParameters:null,RequiresBackLink:!1}},function e(t,n,r){function s(o,u){var a,f,l;if(!n[o]){if(!t[o]){if(a=typeof require=="function"&&require,!u&&a)return a(o,!0);if(i)return i(o,!0);f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i=typeof require=="function"&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";function get(){return{getPartnerId:getPartnerId,getUrl:getUrl,getFormParam:function(){return null},getQueryParam:getQueryParam}}function getPartnerId(){var override=di.get("pub-manual-partner-id"),cookie,match,partnerId;return override!==null?override:(cookie=dom.cookie,match=/TI=([^;]+)/.exec(cookie),match===null)?null:(partnerId=parseInt(match[1]),isNaN(partnerId))?null:partnerId}function getUrl(){return $window.location.href}function getQueryParam(key){var params=decodeQueryParams($window.location.search.substring(1));return key in params?params[key]:null}function decodeQueryParams(queryString){for(var match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s.replace(pl," "))},query=queryString,urlParams={};match=search.exec(query);)urlParams[decode(match[1])]=decode(match[2]);return urlParams}var di=require("./pub-injection"),dom=di.get("dom"),$window=di.get("dom-window");module.exports={get:get}},{"./pub-injection":16}],2:[function(require,module){"use strict";function init(){var isSupported=!1,storageTest,envDomainStr,hostPrefix;useServerFallback=!1;iframeCheckPerformed=!1;keyCache={};valueCache={};queuedRequests=[];pendingRequests={};iframeAvailable=!1;requestId=0;iframeOrigin=null;waitingRequestsByValue={};waitingRequestsByKey={};waitingRequestsByRequestId={};requestsWaitingOnDuplicateRequest={};try{isSupported=$window.postMessage&&JSON;storageTest="pageurlbrokertestlocalstorage";$localStorage.setItem(storageTest,storageTest);$localStorage.getItem(storageTest)!==storageTest&&(isSupported=!1);$localStorage.removeItem(storageTest)}catch(e){isSupported=!1}if(!isSupported){if(startUsingFallback(),$window.XMLHttpRequest){envDomainStr="";hostPrefix="PRD";switch(devLevelProvider.get()){case"dev":case"loc":envDomainStr="dev";hostPrefix="ACC";break;case"stage":envDomainStr="stage";hostPrefix="PPE"}var protocol=$window.location.protocol||"http:",loggingUrl=protocol+"//fel.ancestry"+envDomainStr+".com/webapi/events",errorData={eventName:"LocalStorageUnsupported",componentId:"PageUrlBrokerClient",hostName:hostPrefix+"XXXXAPSPUB00",eventProperties:{}},request=new $window.XMLHttpRequest;request.withCredentials=!0;request.open("POST",loggingUrl);request.setRequestHeader("Content-Type","application/json; charset=UTF-8");request.send(JSON.stringify(errorData))}return}iframe=$document.createElement("iframe");iframe.style.cssText="position:absolute;left:-9999px;width:1px;height:1px;";bodyCheck()}function bodyCheck(){$document.body?initIframeInBody():setTimeout(bodyCheck,1)}function startUsingFallback(){useServerFallback=!0;fallbackBanner.showFallbackBannerIfNeeded()}function initIframeInBody(){$document.body.appendChild(iframe);$window.addEventListener?(iframe.addEventListener("load",iframeLoaded,!1),$window.addEventListener("message",function(e){processMessageEvent(e)},!1)):iframe.attachEvent&&(iframe.attachEvent("onload",iframeLoaded,!1),$window.attachEvent("onmessage",function(e){processMessageEvent(e)}));var protocol=devLevelProvider.get()==="dev"?"http:":"https:";iframeOrigin=protocol+"//"+cacheDomain;iframe.src=iframeOrigin+"/APS_PUB/pubStorage.html?v="+pubVersion}function sendQueuedRequests(){if(queuedRequests.length>0)for(var i=0;i<queuedRequests.length;++i)send(queuedRequests[i]);queuedRequests=null;iframeAvailable=!0}function iframeLoaded(){iframe.contentWindow.postMessage(JSON.stringify({checkLocalStorage:!0}),iframeOrigin)}function addItem(value,callback){var valueJson=JSON.stringify(value),duplicateRequestId,requestId;if(valueJson in keyCache)return callback(null,keyCache[valueJson]);if(valueJson in waitingRequestsByValue){duplicateRequestId=waitingRequestsByValue[valueJson];duplicateRequestId in requestsWaitingOnDuplicateRequest||(requestsWaitingOnDuplicateRequest[duplicateRequestId]=[]);requestsWaitingOnDuplicateRequest[duplicateRequestId].push(callback);return}requestId=getNextId();waitingRequestsByValue[valueJson]=requestId;waitingRequestsByRequestId[requestId]=valueJson;iframeAction(null,valueJson,requestId,callback)}function getItem(key,callback){var duplicateRequestId,requestId;if(key in waitingRequestsByKey){duplicateRequestId=waitingRequestsByKey[key];duplicateRequestId in requestsWaitingOnDuplicateRequest||(requestsWaitingOnDuplicateRequest[duplicateRequestId]=[]);requestsWaitingOnDuplicateRequest[duplicateRequestId].push(callback);return}requestId=getNextId();waitingRequestsByKey[key]=requestId;iframeAction(key,null,requestId,callback)}function getItemFromServer(key,callback){domainProvider.get("AncestryDomain",contextProvider.get(),function(err,domain){if(err)return callback(err);var url="http://"+domain+"/api/pub/histories/?parentHistoryId="+encodeURIComponent(key);httpClient.get(url,function(err,historiesJson){if(err)return callback(err);var items=JSON.parse(historiesJson);Object.keys(items).forEach(function(itemKey){itemKey!==key&&(valueCache[itemKey]=items[itemKey])});callback(null,items[key])})})}function addItemToServer(value,callback){domainProvider.get("AncestryDomain",contextProvider.get(),function(err,domain){if(err)return callback(err);var url="http://"+domain+"/api/pub/histories?returnLinkedHistories=true";httpClient.post(url,value,function(err,resultJson){if(err)return callback(err);var result=JSON.parse(resultJson),key=result.HistoryId;Object.keys(result.RelatedHistories).forEach(function(itemKey){valueCache[itemKey]=result.RelatedHistories[itemKey]});callback(null,key)})})}function iframeAction(key,valueJson,requestId,callback){var request={payload:{id:requestId,key:key,value:valueJson?valueJson:null},callback:callback};iframeAvailable||useServerFallback?send(request):queuedRequests.push(request)}function send(request){pendingRequests[request.payload.id]=request;var key=request.payload.key;if(key&&key in valueCache)return processResponse(null,{id:request.payload.id,item:JSON.stringify(valueCache[key])});if(useServerFallback)if(key){if(key in valueCache)return processResponse(null,{id:request.payload.id,item:JSON.stringify(valueCache[key])});getItemFromServer(request.payload.key,function(err,item){if(err)return processResponse(err);processResponse(null,{id:request.payload.id,item:JSON.stringify(item)})})}else addItemToServer(request.payload.value,function(err,key){if(err)return processResponse(err);processResponse(null,{id:request.payload.id,key:key})});else iframe.contentWindow.postMessage(JSON.stringify(request.payload),iframeOrigin)}function getNextId(){return++requestId}function processMessageEvent(e){if(!verifyOrigin(e.origin)){$window.console&&$window.console.warn&&$window.console.warn("Received message from invalid origin: "+e.origin);return}var response=JSON.parse(e.data);if(!iframeCheckPerformed){iframeCheckPerformed=!0;response.localStorageWorks||startUsingFallback();sendQueuedRequests();return}processResponse(null,response)}function processResponse(err,response){var id=response.id,keyValue,waitingRequests,valueForKey;if(id in pendingRequests){var value=waitingRequestsByRequestId[id],request=pendingRequests[id],key=request.payload.key;request.callback&&(err?callback(err):typeof response.item!="undefined"?(keyValue=JSON.parse(response.item),valueCache[request.payload.key]=keyValue,request.callback(null,keyValue)):(keyCache[value]=response.key,request.callback(null,response.key)));delete pendingRequests[id];delete waitingRequestsByRequestId[id];delete waitingRequestsByValue[value];delete waitingRequestsByKey[key];id in requestsWaitingOnDuplicateRequest&&(waitingRequests=requestsWaitingOnDuplicateRequest[id],typeof response.item!="undefined"?(valueForKey=JSON.parse(response.item),waitingRequests.forEach(function(callback){err?callback(err):callback(null,valueForKey)})):waitingRequests.forEach(function(callback){err?callback(err):callback(null,response.key)}),delete requestsWaitingOnDuplicateRequest[id])}}function verifyOrigin(origin){return originRegex.test(origin)}var di=require("./pub-injection"),$window=di.get("dom-window"),$document=di.get("dom"),$localStorage=di.get("dom-localstorage"),domainProvider=di.get("domain-provider"),contextProvider=di.get("context-provider-browser"),pubVersion=di.get("pub-version-browser"),devLevelProvider=di.get("dev-level-provider"),httpClient=di.get("http-client"),fallbackBanner=di.get("fallback-banner-browser"),requestId=0,iframeAvailable=!1,iframe=null,iframeOrigin=null,queuedRequests=[],pendingRequests={},useServerFallback=!1,iframeCheckPerformed=!1,keyCache={},valueCache={},waitingRequestsByValue={},waitingRequestsByKey={},waitingRequestsByRequestId={},requestsWaitingOnDuplicateRequest={},cacheDomain=null,originRegex;domainProvider.get("CacheDomain",null,function(err,domain){cacheDomain=domain});originRegex=/c\.mfcreative(loc|dev|stage|)\.com$/i;module.exports={addItem:addItem,getItem:getItem,init:init};$window.isPUBAutoLoadDisabled||init()},{"./pub-injection":16}],3:[function(require,module){"use-strict";var di=require("./pub-injection"),devLevel=di.get("dev-level-browser");module.exports={get:function(){return devLevel?devLevel:"live"},reset:function(){devLevel=di.get("dev-level-browser")}}},{"./pub-injection":16}],4:[function(require,module){"use strict";function get(callback){callback(null,domainInfo)}var di=require("./pub-injection"),domainInfo=di.get("domain-info-browser");module.exports={get:get}},{"./pub-injection":16}],5:[function(require,module){"use strict";function get(key,context,callback){var domainStr,domainIdx,partnerId;if(key=key.toLowerCase(),domainStr="domain",domainIdx=key.lastIndexOf(domainStr),domainIdx>=0&&domainIdx===key.length-domainStr.length&&(key=key.substring(0,key.length-domainStr.length)),key==="cache")return callback(null,"c.mfcreative"+devEnvStr+".com");partnerId=context.getPartnerId();domainInfoProvider.get(function(err,domainInfo){if(err)return callback(err);var siteDomains=domainInfo["0"],result=siteDomains.Pattern,subDomain=getSubDomain(siteDomains,key);return subDomain?(result=result.replace("{domain}",subDomain),result=result.replace(/{(\w+?)}/g,function(match,param){return param in siteDomains&&partnerId in siteDomains[param]?siteDomains[param][partnerId]:""}),callback(null,result)):callback(null,null)})}function getSubDomain(siteDomains,key){return"StandardDomains"in siteDomains&&siteDomains.StandardDomains.indexOf(key)!=-1?key:"MappedDomains"in siteDomains&&key in siteDomains.MappedDomains?siteDomains.MappedDomains[key]:null}var di=require("./pub-injection"),devLevelProvider=di.get("dev-level-provider"),domainInfoProvider=di.get("domain-info-provider"),devEnvDomainStrings,devEnvStr;module.exports={get:get};devEnvDomainStrings={loc:"dev",dev:"dev",stage:"stage",live:""};devEnvStr=devEnvDomainStrings[devLevelProvider.get()]},{"./pub-injection":16}],6:[function(require,module){"use strict";var memoryFileSystem={};module.exports={write:function(fileName,contents,callback){memoryFileSystem[fileName]=contents;callback(null)},read:function(fileName,callback){fileName in memoryFileSystem?callback(null,memoryFileSystem[fileName]):callback("File not found")},clear:function(){memoryFileSystem={}}}},{}],7:[function(require,module){"use strict";function attach(){$document.addEventListener("DOMContentLoaded",findAndExecuteCommands)}function findAndExecuteCommands(){var callback=null;executeCommandsForElements($document,"a","href",!1,callback);executeCommandsForElements($document,"form","action",!0,callback)}function executeCommandsForElements(tagContainer,tagName,attrName,addHiddenInputs,callback){var tagsHtmlContainer=tagContainer.getElementsByTagName(tagName),tagsProcessed,tags,i;if(tagsHtmlContainer){if(tagsHtmlContainer.length===0)return callback?callback():void 0;for(tagsProcessed=0,tags=[],i=0;i<tagsHtmlContainer.length;i++)tags.push(tagsHtmlContainer[i]);tags.forEach(function(tag){var url=tag.getAttribute(attrName),command;if(url===null||(command=readCommand(url),!command))return(tagsProcessed++,tagsProcessed===tags.length&&callback)?callback():void 0;url=removeFragmentQueryParam(url,PageHistoryParams.Command);processCommand(url,command,addHiddenInputs,function(err,requestMetadata){var key,element;if(url=requestMetadata.Url,url===null&&(url=addHiddenInputs?"":"javascript:void(0)"),tag.setAttribute(attrName,url),addHiddenInputs&&requestMetadata.FormParameters)for(key in requestMetadata.FormParameters)element=$document.createElement("input"),element.setAttribute("type","hidden"),element.setAttribute("name",key),element.setAttribute("value",requestMetadata.FormParameters[key]),tag.appendChild(element);tagsProcessed++;tagsProcessed===tags.length&&callback&&callback()})})}}function rectifyElement(element,callback){var callbackWrapper=null,totalCalls=0;callback&&(callbackWrapper=function(){totalCalls++;totalCalls===2&&callback()});executeCommandsForElements(element,"a","href",!1,callbackWrapper);executeCommandsForElements(element,"form","action",!0,callbackWrapper)}function rectifyUrl(url,callback){var command=readCommand(url);if(!command)return callback(null,url);url=removeFragmentQueryParam(url,PageHistoryParams.Command);processCommand(url,command,!1,function(err,requestMetadata){if(err)return callback(err);var result=requestMetadata.Url;if(result===null)return callback(new Error("URL could not be rectified."));callback(null,result)})}function rectifyPostUrl(url,callback){var command=readCommand(url);if(!command)return callback(null,{Url:url,FormParameters:{}});url=removeFragmentQueryParam(url,PageHistoryParams.Command);processCommand(url,command,!0,function(err,requestMetadata){if(err)return callback(err);if(requestMetadata.Url===null)return callback(new Error("URL could not be rectified."));callback(null,requestMetadata)})}function processCommand(url,command,isForm,callback){var commandName=command.name,args=command.args;switch(commandName){case"a":urlInfoRepository.getUrlInfo(args[0],function(getUrlInfoErr,urlInfo){if(getUrlInfoErr)return callback(getUrlInfoErr);historyParamProvider.get(args[0],urlInfo,args[1],args[2],args[3],contextProvider.get(),function(err,historyParams){return err?callback(err):createUrlAndFormParameters(historyParams,url,isForm,callback)})});break;case"l":historyParamProvider.get(null,null,null,!1,args[0],contextProvider.get(),function(err,historyParams){return err?callback(err):createUrlAndFormParameters(historyParams,url,isForm,callback)});break;case"r":return createUrlAndFormParameters({usePUBJs:"true"},url,isForm,callback);case"b":prevUrlProvider.getBack(args[0],contextProvider.get(),function(err,backUrl){if(err)return callback(err);callback(null,{Url:backUrl})});break;case"s":prevUrlProvider.getStart(args[0],contextProvider.get(),function(err,startUrl){if(err)return callback(err);callback(null,{Url:startUrl})},args[1])}}function createUrlAndFormParameters(historyParams,url,isForm,callback){var usePUBJs,source,start;if(historyParams&&(usePUBJs=historyParams.usePUBJs,usePUBJs&&(url=addQueryParam(url,"usePUBJs",usePUBJs)),source=historyParams[PageHistoryParams.Source],source&&(url=addQueryParam(url,PageHistoryParams.Source,source)),start=historyParams[PageHistoryParams.StartTask],start&&(url=addQueryParam(url,PageHistoryParams.StartTask,start))),isForm)return prevUrlProvider.getBack(null,contextProvider.get(),function(err,backUrl){return err?callback(err):prevUrlProvider.getStart(null,contextProvider.get(),function(err,startUrl){if(err)return callback(err);var formParams={};return formParams[PageHistoryParams.FormBackUrl]=backUrl?backUrl:"",startUrl&&(formParams[PageHistoryParams.FormStartUrl]=startUrl),callback(null,{Url:url,FormParameters:formParams})})});callback(null,{Url:url})}function readCommand(url){var commandRegex=new RegExp(PageHistoryParams.Command+"=[^&]+"),match=commandRegex.exec(url),commandStr,command,args,remainder,argStrings;return match?(commandStr=match[0],command={},command.name=commandStr.substring(PageHistoryParams.Command.length+1,PageHistoryParams.Command.length+2),args=[],remainder=commandStr.substring(PageHistoryParams.Command.length+3,commandStr.length-1),remainder.length>0&&(argStrings=separateArgStrings(remainder),argStrings.forEach(function(argStr){argStr.indexOf("(")===0&&(argStr="{"+argStr.substring(1,argStr.length-1)+"}");argStr=decodeURIComponent(argStr);argStr=argStr.replace(/('|[^\\]')/g,function(c){return c.length==1?'"':c.substring(0,1)+'"'});var arg=JSON.parse(argStr);args.push(arg)})),command.args=args,command):null}function separateArgStrings(argsString){for(var commaIdx=argsString.indexOf(","),result=[],arg,match;argsString.length>0;){if(argsString.charAt(0)==="("){argsString=argsString.substring(1);arg="(";do match=/^'(\\'|[^'])*?'./.exec(argsString),match&&(argsString=argsString.substring(match[0].length),arg+=match[0]);while(match);result.push(arg)}else commaIdx===-1?(result.push(argsString),argsString=""):(result.push(argsString.substring(0,commaIdx)),argsString=argsString.substring(commaIdx+1));commaIdx=argsString.indexOf(",");commaIdx===0&&(argsString=argsString.substring(1),commaIdx=argsString.indexOf(","))}return result}function removeFragmentQueryParam(url){var hashIdx=url.indexOf("#"),preFragment,fragment,fragHookIdx;return hashIdx==-1?url:(preFragment=url.substring(0,hashIdx),fragment=url.substring(hashIdx+1),fragment=fragment.replace(new RegExp(PageHistoryParams.Command+"=[^&]+"),""),fragHookIdx=fragment.indexOf("?"),fragHookIdx!=-1&&fragHookIdx==fragment.lastIndexOf("?")&&(fragment=fragment.substring(0,fragment.length-1)),preFragment+fragment)}function addQueryParam(url,key,value){var hashIdx=url.indexOf("#"),preFragment=hashIdx==-1?url:url.substring(0,hashIdx),fragment=hashIdx==-1?"":url.substring(hashIdx),hookIdx=url.indexOf("?"),prefix=hookIdx==-1?"?":"&";return preFragment+prefix+key+"="+value+fragment}var di=require("./pub-injection"),$document=di.get("dom"),historyParamProvider=di.get("history-param-provider"),prevUrlProvider=di.get("prev-url-provider"),contextProvider=di.get("context-provider-browser"),PageHistoryParams=di.get("page-history-params"),urlInfoRepository=di.get("url-info-repository");module.exports={attach:attach,rectifyUrl:rectifyUrl,rectifyPostUrl:rectifyPostUrl,rectifyElement:rectifyElement};attach()},{"./pub-injection":16}],8:[function(require,module){"use strict";function get(currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,context,callback){var usePubJsInjectorCb=function(err,queryParams,fragmentParams,postParams){return err?callback(err,queryParams,fragmentParams,postParams):(queryParams||(queryParams={}),queryParams.usePUBJs="true",callback(err,queryParams,fragmentParams,postParams))},getInternal=function(err,postParams){if(err)return usePubJsInjectorCb(err);if(!currentPageName)return maintainHistoryFromPrevious(postParams,context,usePubJsInjectorCb);var pageCurrentId=context.getQueryParam(PageHistoryParams.Target);return pageCurrentId?findHistoryFromTarget(pageCurrentId,currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,postParams,context,usePubJsInjectorCb):createHistoryAndAdd(currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,postParams,context,usePubJsInjectorCb)};return!destIsPostPage||currentPageIsStart?getInternal(null,null):populatePostParams(context,getInternal)}function findHistoryFromTarget(pageCurrentId,currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,postParams,context,callback){var result;return historyRepository.get(pageCurrentId,function(histRepoErr,targetHistory){if(histRepoErr)return callback(histRepoErr);return urlBuilder.buildUrlWithUrlInfo(currentPageName,currentUrlInfo,currentInputs,null,null,postParams,context,function(err,urlParameters){var url,backUrl;return err?callback(err):(url=urlParameters.Url,targetHistory&&url===targetHistory.Url)?(result={},result[PageHistoryParams.Source]=pageCurrentId,currentPageIsStart&&(result[PageHistoryParams.StartTask]=PageHistoryParams.DefaultTask),destIsPostPage&&(postParams||(postParams={}),backUrl=addQueryParam(url,PageHistoryParams.Target,pageCurrentId),postParams[PageHistoryParams.FormBackUrl]={InputName:PageHistoryParams.FormBackUrl,Optional:!1,IsFile:!1,Value:backUrl},currentPageIsStart&&(postParams[PageHistoryParams.FormStartUrl]={InputName:PageHistoryParams.FormStartUrl,Optional:!1,IsFile:!1,Value:backUrl})),callback(null,result,null,postParams)):createHistoryAndAdd(currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,postParams,context,callback)})})}function addQueryParam(url,key,value){var hashIdx=url.indexOf("#"),preFragment=hashIdx==-1?url:url.substring(0,hashIdx),fragment=hashIdx==-1?"":url.substring(hashIdx),hookIdx=url.indexOf("?"),prefix=hookIdx==-1?"?":"&";return preFragment+prefix+key+"="+value+fragment}function maintainHistoryFromPrevious(postParams,context,callback){var result,passthroughId=context.getQueryParam(PageHistoryParams.Source),passThroughStart,targetId;return passthroughId?(result={},result[PageHistoryParams.Source]=passthroughId,passThroughStart=context.getQueryParam(PageHistoryParams.StartTask),passThroughStart&&(result[PageHistoryParams.StartTask]=passThroughStart),callback(null,result,null,postParams)):(targetId=context.getQueryParam(PageHistoryParams.Target),targetId)?historyRepository.get(targetId,function(err,targetHistory){return err||targetHistory==null?callback(null,{},null,null):(result={},targetHistory.Prev&&(result[PageHistoryParams.Source]=targetHistory.Prev),callback(null,result,null,postParams))}):callback(null,{},null,postParams)}function createHistoryAndAdd(currentPageName,currentUrlInfo,currentInputs,currentPageIsStart,destIsPostPage,postParams,context,callback){return urlBuilder.buildUrlWithUrlInfo(currentPageName,currentUrlInfo,currentInputs,null,null,postParams,context,function(err,urlParameters){if(err)return callback(err);if(currentUrlInfo.FormParameters)return callback(new Error("The "+currentPageName+" page contains form parameters, and therefore cannot be added to the page history"));createHistoryWithUrlAndAdd(urlParameters.Url,currentPageIsStart,destIsPostPage,postParams,context,callback)})}function createHistoryWithUrlAndAdd(url,currentPageIsStart,destIsPostPage,postParams,context,callback){var historyItem={Url:url},pageSourceId=context.getQueryParam(PageHistoryParams.Source),startTask;return(pageSourceId&&(historyItem.Prev=pageSourceId),startTask=context.getQueryParam(PageHistoryParams.StartTask),pageSourceId)?(historyRepository.get(pageSourceId,function(err,sourceHistory){if(err)return callback(err);sourceHistory&&sourceHistory.Starts&&(historyItem.Starts=sourceHistory.Starts)}),finishHistoryAndAdd(pageSourceId,historyItem,startTask,currentPageIsStart,destIsPostPage,postParams,callback)):finishHistoryAndAdd(pageSourceId,historyItem,startTask,currentPageIsStart,destIsPostPage,postParams,callback)}function finishHistoryAndAdd(pageSourceId,historyItem,startTask,currentPageIsStart,destIsPostPage,postParams,callback){startTask&&pageSourceId&&(historyItem.Starts||(historyItem.Starts={}),historyItem.Starts[startTask]=pageSourceId);addHistoryItemOrLookupId(historyItem,function(err,newHistoryId){var result,backUrl;return err?callback(err):(result={},result[PageHistoryParams.Source]=newHistoryId,currentPageIsStart&&(result[PageHistoryParams.StartTask]=PageHistoryParams.DefaultTask),destIsPostPage&&historyItem.Url&&(postParams||(postParams={}),backUrl=addQueryParam(historyItem.Url,PageHistoryParams.Target,newHistoryId),postParams[PageHistoryParams.FormBackUrl]={InputName:PageHistoryParams.FormBackUrl,Optional:!1,IsFile:!1,Value:backUrl},currentPageIsStart&&(postParams[PageHistoryParams.FormStartUrl]={InputName:PageHistoryParams.FormStartUrl,Optional:!1,IsFile:!1,Value:backUrl})),callback(null,result,null,postParams))})}function addHistoryItemOrLookupId(historyItem,callback){historyRepository.add(historyItem,function(err,newHistoryId){if(err)return callback(err);callback(null,newHistoryId)})}function populatePostParams(context,callback){return prevUrlProvider.getBack(null,context,function(backUrlErr,backUrl){return backUrlErr?callback(backUrlErr,null):prevUrlProvider.getStart(null,context,function(startUrlErr,startUrl){if(startUrlErr)return callback(startUrlErr,null);var postParams={};return postParams[PageHistoryParams.FormBackUrl]={InputName:PageHistoryParams.FormBackUrl,Optional:!1,IsFile:!1,Value:backUrl||""},startUrl!==null&&(postParams[PageHistoryParams.FormStartUrl]={InputName:PageHistoryParams.FormStartUrl,Optional:!1,IsFile:!1,Value:startUrl}),callback(null,postParams)})})}var di=require("./pub-injection"),historyRepository=di.get("history-repository"),urlBuilder=di.get("url-builder"),PageHistoryParams=di.get("page-history-params"),prevUrlProvider=di.get("prev-url-provider");module.exports={get:get}},{"./pub-injection":16}],9:[function(require,module){"use strict";function add(historyItem,callback){storage.addItem(historyItem,callback)}function get(historyId,callback){storage.getItem(historyId,callback)}var di=require("./pub-injection"),storage=di.get("cross-domain-storage");module.exports={add:add,get:get}},{"./pub-injection":16}],10:[function(require,module){"use strict";module.exports={get:function(url,callback){var xhr=new XMLHttpRequest;xhr.withCredentials=!0;xhr.open("GET",url,!0);xhr.setRequestHeader("Accept","application/json,text/plain,text/html");xhr.onload=function(){xhr.readyState===4&&callback(null,xhr.responseText)};xhr.onerror=function(){callback(xhr.status+" "+xhr.statusText)};xhr.send()},post:function(url,body,callback){var xhr=new XMLHttpRequest;xhr.withCredentials=!0;xhr.open("POST",url,!0);xhr.setRequestHeader("Accept","application/json,text/plain,text/html");xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onload=function(){xhr.readyState===4&&callback(null,xhr.responseText)};xhr.onerror=function(){callback(xhr.status+" "+xhr.statusText)};xhr.send(body)}}},{}],11:[function(require,module){"use strict";var DefaultTaskName="default",FormStartUrlPrefix="_phstarturl";module.exports={Source:"_phsrc",Target:"_phtarg",StartTask:"_phstart",DefaultTask:DefaultTaskName,Command:"_phcmd",GetBackUrlCommand:"b",GetStartUrlCommand:"s",AddHistoryCommand:"a",LookupCommand:"l",RectifyCommand:"r",FormStartUrlPrefix:FormStartUrlPrefix,FormStartUrl:FormStartUrlPrefix+DefaultTaskName,FormBackUrl:"_phbackurl"}},{}],12:[function(require,module){function build(builder,destPageName,options,callback){var currentPageInfo=module.exports.currentPageInfo,destInputs=null,passThroughParameters=null,currentPageName=null,currentInputs=null,currentPageIsStart=null,noHistory=!1;if(options){if(destInputs=options.destInputs,passThroughParameters=options.passThroughParameters,options.useCurrentPageInfo)if(currentPageInfo)currentPageName=currentPageInfo.pageName,currentInputs=currentPageInfo.inputs;else throw new Error("ancestry.pub.setCurrentPage() not called and tried to create url to go back to current page.");else currentPageName=options.currentPageName,currentInputs=options.currentInputs;currentPageIsStart=options.currentPageIsStart;noHistory=options.noHistory}builder=builder.toGoTo(destPageName,destInputs,passThroughParameters);noHistory&&(builder=builder.withoutHistory());currentPageName&&(builder=builder.toComeBackTo(currentPageName,currentInputs,currentPageIsStart));builder.build(callback)}function getBuilder(withoutHistoryFunction,withHistoryFunction){var destPageName=null,destInputs=null,passThroughParameters=null,currentPageName=null,currentInputs=null,currentPageIsStart=null,noHistory=!1,callback=null,pubModule=module.exports,builder={};return builder.toGoTo=function(pageName,inputs,passThrough){return destPageName=pageName||null,destInputs=inputs||null,passThroughParameters=passThrough||null,this},builder.toComeBackTo=function(pageName,inputs,isStart){return currentPageName=pageName||null,currentInputs=inputs||null,currentPageIsStart=isStart||null,this},builder.toComeBackToCurrent=function(isStart){if(pubModule.currentPageInfo)currentPageName=pubModule.currentPageInfo.pageName||null,currentInputs=pubModule.currentPageInfo.inputs||null,currentPageIsStart=isStart||null;else throw new Error("ancestry.pub.setCurrentPage() not called and tried to create url to go back to current page.");return this},builder.withoutHistory=function(){return noHistory=!0,this},builder.build=function(cb){if(callback=cb,noHistory&&currentPageName)throw new Error("Current page name added, but the noHistory option as set to true.");noHistory?withoutHistoryFunction(destPageName,destInputs,passThroughParameters,contextProvider.get(),callback):withHistoryFunction(destPageName,destInputs,passThroughParameters,currentPageName,currentInputs,currentPageIsStart,contextProvider.get(),callback)},builder}var di=require("./pub-injection"),pubInternal=di.get("page-url-broker"),scraper=di.get("history-command-scraper"),contextProvider=di.get("context-provider-browser");module.exports.currentPageInfo=null;module.exports.setCurrentPage=function(currentPageName,currentInputs){var self=this;self.currentPageInfo={};self.currentPageInfo.pageName=currentPageName;self.currentPageInfo.inputs=currentInputs};module.exports.getStartUrl=function(callback){pubInternal.getStartUrl(null,contextProvider.get(),callback)};module.exports.getBackUrl=function(callback){pubInternal.getBackUrl(null,contextProvider.get(),callback)};module.exports.getUrl=function(destPageName,options,callback){return build(this.buildUrl(),destPageName,options,callback)};module.exports.buildUrl=function(){return getBuilder(pubInternal.getUrl,pubInternal.getUrlWithHistory)};module.exports.getPostUrl=function(destPageName,options,callback){return build(this.buildPostUrl(),destPageName,options,callback)};module.exports.buildPostUrl=function(){return getBuilder(pubInternal.getPostUrl,pubInternal.getPostUrlWithHistory)};module.exports.rectifyUrl=function(url,callback){return scraper.rectifyUrl(url,callback)};module.exports.rectifyPostUrl=function(url,callback){return scraper.rectifyPostUrl(url,callback)};module.exports.rectifyElement=function(element,callback){return scraper.rectifyElement(element,callback)}},{"./pub-injection":16}],13:[function(require,module){"use strict";function getUrl(destPageName,destInputs,passThroughParameters,context,callback){getUrlInternal(destPageName,destInputs,passThroughParameters,null,context,callback)}function getUrlWithHistory(destPageName,destInputs,passThroughParameters,currentPageName,currentInputs,currentPageIsStart,context,callback){urlInfoRepository.getUrlInfo(destPageName,function(destErr,destUrlInfo){return destErr?doCallback(callback,destErr,null):currentPageName?urlInfoRepository.getUrlInfo(currentPageName,function(curErr,curUrlInfo){return curErr?doCallback(callback,curErr,null):getUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,currentPageName,curUrlInfo,currentInputs,currentPageIsStart,context,callback)}):getUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,null,null,null,!1,context,callback)})}function getPostUrl(destPageName,destInputs,passThroughParameters,context,callback){getPostUrlInternal(destPageName,destInputs,passThroughParameters,null,context,callback)}function getPostUrlWithHistory(destPageName,destInputs,passThroughParameters,currentPageName,currentInputs,currentPageIsStart,context,callback){urlInfoRepository.getUrlInfo(destPageName,function(destErr,destUrlInfo){return destErr?doCallback(callback,destErr,null):(currentPageName&&urlInfoRepository.getUrlInfo(currentPageName,function(curErr,curUrlInfo){return curErr?doCallback(callback,curErr,null):getPostUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,currentPageName,curUrlInfo,currentInputs,currentPageIsStart,context,callback)}),getPostUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,null,null,null,!1,context,callback))})}function getBackUrl(fallback,context,callback){prevUrlProvider.getBack(fallback,context,function(err,url){if(err)return doCallback(callback,err);doCallback(callback,null,url)})}function getStartUrl(fallback,context,callback){prevUrlProvider.getStart(fallback,context,function(err,url){if(err)return doCallback(callback,err);doCallback(callback,null,url)})}function doCallback(callback,error,result){typeof callback=="object"?callback.invoke(error?error.message||error.toString():null,result):callback(error,result)}function getUrlInternal(destPageName,destInputs,passThroughParameters,fragmentPassthroughParameters,context,callback){urlInfoRepository.getUrlInfo(destPageName,function(err,urlInfo){if(err)return doCallback(callback,err,null);getUrlWithUrlInfo(destPageName,urlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,context,callback)})}function getUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,context,callback){destInputs=destInputs||null;passThroughParameters=passThroughParameters||null;fragmentPassthroughParameters=fragmentPassthroughParameters||null;urlBuilder.buildUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,null,context,function(err,result){if(err)return doCallback(callback,err,null);if(result.Parameters!=null)return doCallback(callback,new Error("The requested page name ("+destPageName+") requires HTTP POST parameters."),null);doCallback(callback,null,result.Url)})}function getUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,currentPageName,curUrlInfo,currentInputs,currentPageIsStart,context,callback){historyParamProvider.get(currentPageName,curUrlInfo,currentInputs,currentPageIsStart,!1,context,function(err,historyParams,fragmentHistoryParams){if(err)return doCallback(callback,err,null);historyParams||(historyParams={});for(var key in passThroughParameters)historyParams[key]=passThroughParameters[key];getUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,historyParams,fragmentHistoryParams,context,callback)})}function getPostUrlInternal(destPageName,destInputs,passThroughParameters,fragmentPassthroughParameters,context,callback){urlInfoRepository.getUrlInfo(destPageName,function(err,urlInfo){if(err)return doCallback(callback,err,null);getPostUrlWithUrlInfo(destPageName,urlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,null,context,callback)})}function getPostUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,postPassthroughParameters,context,callback){destInputs=destInputs||null;passThroughParameters=passThroughParameters||null;fragmentPassthroughParameters=fragmentPassthroughParameters||null;urlBuilder.buildUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,fragmentPassthroughParameters,postPassthroughParameters,context,function(err,result){if(err)return doCallback(callback,err,null);converter&&converter.convertFormRequestMetadata&&(result=converter.convertFormRequestMetadata(result));doCallback(callback,null,result)})}function getPostUrlWithHistoryWithUrlInfo(destPageName,destUrlInfo,destInputs,passThroughParameters,currentPageName,curUrlInfo,currentInputs,currentPageIsStart,context,callback){historyParamProvider.get(currentPageName,curUrlInfo,currentInputs,currentPageIsStart,!0,context,function(err,historyParams,fragmentHistoryParams,postHistoryParams){if(err)return doCallback(callback,err);historyParams||(historyParams={});for(var key in passThroughParameters)historyParams[key]=passThroughParameters[key];getPostUrlWithUrlInfo(destPageName,destUrlInfo,destInputs,historyParams,fragmentHistoryParams,postHistoryParams,context,callback)})}var di=require("./pub-injection"),urlBuilder=di.get("url-builder"),historyParamProvider=di.get("history-param-provider"),prevUrlProvider=di.get("prev-url-provider"),urlInfoRepository=di.get("url-info-repository"),converter=di.get("result-converter");module.exports={getUrl:getUrl,getUrlWithHistory:getUrlWithHistory,getPostUrl:getPostUrl,getPostUrlWithHistory:getPostUrlWithHistory,getBackUrl:getBackUrl,getStartUrl:getStartUrl}},{"./pub-injection":16}],14:[function(require,module){"use strict";function get(fallback,taskName,context,callback){var historyId,queryTaskName;if(taskName)return(historyId=context.getQueryParam(PageHistoryParams.Source),historyId||(historyId=context.getQueryParam(PageHistoryParams.Target)),!historyId)?callback(null,fallback?fallback:null):(queryTaskName=context.getQueryParam(PageHistoryParams.StartTask),queryTaskName)?buildUrlFromHistoryId(historyId,fallback,callback):historyRepo.get(historyId,function(err,historyItem){if(err||historyItem===null||!historyItem.Starts||!historyItem.Starts[taskName])return callback(null,fallback?fallback:null);buildUrlFromHistoryId(historyItem.Starts[taskName],fallback,callback)});if(historyId=context.getQueryParam(PageHistoryParams.Source),historyId)return buildUrlFromHistoryId(historyId,fallback,callback);if(historyId=context.getQueryParam(PageHistoryParams.Target),historyId)historyRepo.get(historyId,function(err,historyItem){if(err||!historyItem.Prev)return callback(null,fallback?fallback:null);buildUrlFromHistoryId(historyItem.Prev,fallback,callback)});else return callback(null,fallback?fallback:null)}function buildUrlFromHistoryId(historyId,fallback,callback){historyRepo.get(historyId,function(err,historyItem){if(err||historyItem===null)return callback(null,fallback?fallback:null);var url=historyItem.Url,result=url.replace(regex,function(c){var prefix="?",hookIdx=url.indexOf("?"),hashIdx=url.indexOf("#");return hookIdx!=-1&&(hashIdx==-1||hookIdx<hashIdx)&&(prefix="&"),prefix+PageHistoryParams.Target+"="+historyId+c});callback(null,result)})}var di=require("./pub-injection"),PageHistoryParams=di.get("page-history-params"),historyRepo=di.get("history-repository"),urlBuilder=di.get("url-builder"),regex;module.exports={getBack:function(fallback,context,callback){get(fallback,null,context,callback)},getStart:function(fallback,context,callback,taskName){get(fallback,taskName?taskName:PageHistoryParams.DefaultTask,context,callback)}};regex=/(#|$)/},{"./pub-injection":16}],15:[function(require,module){(function(global){"use strict";var httpClient=require("./http-client-browser"),fileSystem=require("./file-system-browser");module.exports=function(injector){injector.register("url-part-types",require("./url-part-types"));injector.register("page-history-params",require("./page-history-params"));injector.register("result-converter",{});injector.register("dom-window",global.window);try{injector.register("dom-localstorage",global.window.localStorage)}catch(e){injector.register("dom-localstorage",null)}injector.register("dom",global.document);injector.register("context-provider-browser",require("./context-provider-browser"));injector.register("dom-jquery",global.jQuery);typeof global.ancestry!="undefined"&&"pubUrlInfos"in global.ancestry?injector.register("url-infos-browser",global.ancestry.pubUrlInfos):injector.register("url-infos-browser",null);typeof global.ancestry!="undefined"&&"pubDomainInfo"in global.ancestry?injector.register("domain-info-browser",global.ancestry.pubDomainInfo):injector.register("domain-info-browser",null);typeof global.ancestry!="undefined"&&"pubDevLevel"in global.ancestry?injector.register("dev-level-browser",global.ancestry.pubDevLevel):injector.register("dev-level-browser",null);typeof global.ancestry!="undefined"&&"pubVersion"in global.ancestry?injector.register("pub-version-browser",global.ancestry.pubVersion):injector.register("pub-version-browser",1);typeof global.ancestry!="undefined"&&"pubPartnerId"in global.ancestry?injector.register("pub-manual-partner-id",global.ancestry.pubPartnerId):injector.register("pub-manual-partner-id",null);injector.register("http-client",httpClient);injector.register("file-system",fileSystem);injector.register("dev-level-provider",require("./dev-level-provider-browser"));injector.register("domain-info-provider",require("./domain-info-provider-browser"));injector.register("domain-provider",require("./domain-provider"));injector.register("fallback-banner-browser",require("./storage-fallback-banner-browser"));injector.register("cross-domain-storage",require("./cross-domain-storage-browser"));injector.register("history-repository",require("./history-repository-browser"));injector.register("url-info-repository",require("./url-info-repository-browser"));injector.register("url-builder",require("./url-builder"));injector.register("prev-url-provider",require("./prev-url-provider-browser"));injector.register("history-param-provider",require("./history-param-provider-browser"));injector.register("page-url-broker",require("./page-url-broker"));injector.register("history-command-scraper",require("./history-command-scraper-browser"));injector.register("page-url-broker-wrapper-browser",require("./page-url-broker-wrapper-browser"));require("./history-command-scraper-browser")}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./context-provider-browser":1,"./cross-domain-storage-browser":2,"./dev-level-provider-browser":3,"./domain-info-provider-browser":4,"./domain-provider":5,"./file-system-browser":6,"./history-command-scraper-browser":7,"./history-param-provider-browser":8,"./history-repository-browser":9,"./http-client-browser":10,"./page-history-params":11,"./page-url-broker":13,"./page-url-broker-wrapper-browser":12,"./prev-url-provider-browser":14,"./storage-fallback-banner-browser":18,"./url-builder":19,"./url-info-repository-browser":20,"./url-part-types":21}],16:[function(require,module){"use strict";var registry={};module.exports={register:function(serviceName,service){registry[serviceName]=service},get:function(serviceName){if(!(serviceName in registry))throw new Error("Dependency not found: "+serviceName);return registry[serviceName]}}},{}],17:[function(require){(function(global){var di=require("./pub-injection"),pubInternal,pub;require("./pub-dependency-setup-browser")(di);pubInternal=di.get("page-url-broker");pub=di.get("page-url-broker-wrapper-browser");typeof global.ancestry=="undefined"&&(global.ancestry={});global.ancestry.pubInternal||(global.ancestry.pubInternal=pubInternal);global.ancestry.pub||(global.ancestry.pub=pub)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./pub-dependency-setup-browser":15,"./pub-injection":16}],18:[function(require,module){"use strict";function prepLocalization(){var key;if(!resources){resources=localization.en;var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang"),culture=langAttr?langAttr.toLowerCase():"en",lang=langAttr.substring(0,2);if(lang in localization&&(resources=localization[lang]),culture in localization)for(key in localization[culture])resources[key]=localization[culture][key]}}function showFallbackBannerIfNeeded(){cookieIsSet()||$&&$(function(){if(prepLocalization(),$.fn.alert)$('<p id="localStorageSiteWideAlert">'+resources.message+' <a href="'+resources.url+'">'+resources.info+"<\/a><\/p>").prependTo($("#BannerRegion").length?"#BannerRegion":"body"),$("#localStorageSiteWideAlert").alert({display:"sitewide",closeable:!0,removable:!0,onClose:function(){setCookie()}}).css("z-index","2");else{$('<p id="localStorageSiteWideAlert"><span class="icon iconWarning"><\/span>'+resources.message+' <a href="'+resources.url+'">'+resources.info+'<\/a><button class="close"><span class="icon iconClose"><\/span><\/button><\/p>').prependTo($("#BannerRegion").length?"#BannerRegion":"body");$("#localStorageSiteWideAlert").css({"background-color":"#fff","font-size":"15px",margin:"10px",border:"3px solid #d58a34","border-radius":"6px","box-shadow":"inset 0 2px 8px rgba(0, 0, 0, .2)",color:"#36322d","margin-top":"10px",padding:"16px 42px 16px 16px",position:"relative","text-shadow":"none","-webkit-transform":"rotateX(0)",transform:"rotateX(0)","-webkit-transform-origin":"top","transform-origin":"top","-webkit-transition":"background .2s, margin-bottom .2s, margin-top .4s, opacity .4s, -webkit-transform .3s",transition:"background .2s, margin-bottom .2s, margin-top .4s, opacity .4s, transform .3s","z-index":"2"}).find("a").css({color:"inherit","font-size":"inherit","text-decoration":"underline"}).end().find(".iconWarning").css({color:"#d58a34","padding-right":"10px"}).end().find(".close").css({"background-color":"transparent",border:"0",color:"#999999",position:"absolute",right:"15px",top:"15px"}).on("click",function(){$("#localStorageSiteWideAlert").html("").remove();setCookie()})}})}function cookieIsSet(){var cookie=docCookies.getItem(COOKIE_NAME);return cookie===COOKIE_VALUE}function setCookie(){var fullDomain=$document.location.hostname,parts=fullDomain.split("."),i=parts.length-1,domain="";do domain=parts[i]+(domain==""?"":"."+domain),i--;while(i>=0&&parts[i+1].indexOf("ancestry")==-1);docCookies.setItem(COOKIE_NAME,COOKIE_VALUE,COOKIE_TIME,null,domain)}var di=require("./pub-injection"),$=di.get("dom-jquery"),$document=di.get("dom"),localization,resources;module.exports={showFallbackBannerIfNeeded:showFallbackBannerIfNeeded};localization={en:{message:"It looks like you have local storage disabled. While you'll still be able to use the site, you may notice that pages load more slowly.",info:"Fix the issue.",url:"http://help.ancestry.com/app/answers/detail/a_id/9355/"},"en-us":{url:"http://help.ancestry.com/app/answers/detail/a_id/9355/"},"en-ca":{url:"http://ancestryca.custhelp.com/app/answers/detail/a_id/9355/"},"en-gb":{url:"http://ancestryuk.custhelp.com/app/answers/detail/a_id/9355/"},"en-au":{url:"http://ancestryau.custhelp.com/app/answers/detail/a_id/9355/"},es:{message:"Parece ser que se ha deshabilitado el almacenamiento local en el explorador. Aunque todavía podrás utilizar el sitio, quizá notarás que las páginas se cargan de forma más lenta.",info:"Haz clic aquí para obtener más información.",url:"http://ancestrymx.custhelp.com/app/answers/detail/a_id/9360/"},it:{message:"La memorizzazione locale del tuo browser sembra essere disattivata. Potrai comunque utilizzare il sito, ma le pagine potrebbero essere caricate più lentamente",info:"Fai clic qui per ulteriori informazioni.",url:"http://ancestryit.custhelp.com/app/answers/detail/a_id/9380/"},fr:{message:"Le stockage local de votre navigateur semble être désactivé. Vous pouvez continuer à utiliser le site, mais le chargement des pages peut être ralenti.",info:"Cliquez ici pour en savoir plus.",url:"http://ancestryfr.custhelp.com/app/answers/detail/a_id/9359/"},"fr-ca":{url:"http://ancestrycafr.custhelp.com/app/answers/detail/a_id/9359/"},de:{message:"Es sieht aus, als ob der lokale Speicher auf Ihrem Browser deaktiviert ist. Sie werden die Website noch verwenden können, merken u. U. aber, dass die Seiten langsamer geladen werden.",info:"Klicka här för mer information.",url:"http://ancestryde.custhelp.com/app/answers/detail/a_id/9358/"},sv:{message:"Det verkar som att du i webbläsaren har inaktiverat lokal lagring. Du kan fortfarande använda webbplatsen, men det kan ta lång tid att läsa in sidorna.",info:"Haz clic aquí para obtener más información.",url:"http://ancestryse.custhelp.com/app/answers/detail/a_id/9357/"}};resources=null;var COOKIE_NAME="hPubSF",COOKIE_VALUE="t",COOKIE_TIME=86400,docCookies={getItem:function(sKey){return sKey?decodeURIComponent($document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(sKey,sValue,vEnd,sPath,sDomain,bSecure){if(!sKey||/^(?:expires|max\-age|path|domain|secure)$/i.test(sKey))return!1;var sExpires="";if(vEnd)switch(vEnd.constructor){case Number:sExpires=vEnd===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+vEnd;break;case String:sExpires="; expires="+vEnd;break;case Date:sExpires="; expires="+vEnd.toUTCString()}return $document.cookie=encodeURIComponent(sKey)+"="+encodeURIComponent(sValue)+sExpires+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:"")+(bSecure?"; secure":""),!0},removeItem:function(sKey,sPath,sDomain){return this.hasItem(sKey)?($document.cookie=encodeURIComponent(sKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:""),!0):!1},hasItem:function(sKey){return sKey?new RegExp("(?:^|;\\s*)"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test($document.cookie):!1},keys:function(){for(var aKeys=$document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),nLen=aKeys.length,nIdx=0;nIdx<nLen;nIdx++)aKeys[nIdx]=decodeURIComponent(aKeys[nIdx]);return aKeys}}},{"./pub-injection":16}],19:[function(require,module){"use strict";function buildUrl(pageName,inputs,passThroughData,fragmentPassThroughData,postPassThrough,context,callback){urlInfoRepository.getUrlInfo(pageName,function(err,destUrlInfo){if(destUrlInfo==null)return callback(null,{});buildUrlWithUrlInfo(pageName,destUrlInfo,inputs,passThroughData,fragmentPassThroughData,postPassThrough,context,function(buildErr,result){return buildErr?callback(buildErr,null):callback(null,result)})})}function buildUrlWithUrlInfo(destPageName,urlInfo,inputs,passThroughData,fragmentPassThroughData,postPassThrough,context,callback){if(!callback||typeof callback!="function")return callback(new Error("A callback must be provided in buildUrlWithUrlInfo"),null);getDomain(urlInfo,context,function(err,domain){var url;if(err)return callback(err);var missingRequiredInputs=[],pathSegment=buildPathSegment(urlInfo.UriParts,inputs,missingRequiredInputs,domain),querySegment=buildQuerySegment(urlInfo.QueryParts,inputs,missingRequiredInputs,passThroughData),fragmentSegment=buildUrlAndQuerySegment(urlInfo.FragmentParts,inputs,missingRequiredInputs,fragmentPassThroughData),postParameters=setupPostParameters(urlInfo.FormParameters||null,inputs,postPassThrough);return missingRequiredInputs.length>0?callback(new Error("Required inputs are missing: "+missingRequiredInputs.join()),null):(url=pathSegment,querySegment!=null&&querySegment.length>0&&(url+="?"+querySegment),fragmentSegment!=null&&fragmentSegment.length>0&&(url+="#"+fragmentSegment),callback(null,{Url:url,Parameters:postParameters}))})}function getDomain(urlInfo,context,callback){var domainKey=null;if(urlInfo.UriParts!=null&&urlInfo.UriParts.forEach(function(urlPart){urlPart.Type==UrlPartTypes.Domain&&(domainKey=urlPart.Value)}),domainKey==null)return callback(null,null);domainProvider.get(domainKey,context,function(err,domain){if(err)return callback(err);callback(null,domain)})}function setupPostParameters(formParameters,inputs,postPassThrough){var result,postParam,formParameter;if(!postPassThrough&&(!formParameters||!inputs))return formParameters;if(result={},postPassThrough)for(postParam in postPassThrough)result[postParam]=postPassThrough[postParam];for(formParameter in formParameters)result[formParameter]=cloneObj(formParameters[formParameter]),input[formParameter.InputName]&&(result[formParameter].Value=input[formParameter.InputName]);return result}function cloneObj(obj){var result={};for(var key in obj)result[key]=obj[key];return result}function buildPathSegment(pathParts,inputs,missingRequiredInputs,domain){var url="";return pathParts||(pathParts=[]),pathParts.forEach(function(part){var partString=getUrlPartString(part,inputs,!0,domain);partString!==null?url+=partString:part.Optional||part.Type!==UrlPartTypes.Input||missingRequiredInputs.push(part.Value)}),url}function buildQuerySegment(queryParts,inputs,missingRequiredInputs,passThroughQueryStrings){var url="",key;if(queryParts||(queryParts=[]),queryParts.forEach(function(part){var partString=getUrlPartString(part,inputs);partString!==null&&part.Key!==null?(removeKey(passThroughQueryStrings,part.Key),url+=encodeQuerySubComponent(part.Key)+"="+encodeQuerySubComponent(partString)+"&"):part.Optional||part.Type!==UrlPartTypes.Input||missingRequiredInputs.push(part.Value)}),passThroughQueryStrings!=null)for(key in passThroughQueryStrings)url+=encodeQuerySubComponent(key)+"="+encodeQuerySubComponent(passThroughQueryStrings[key])+"&";return url.length>0&&(url=url.substring(0,url.length-1)),url}function buildUrlAndQuerySegment(urlParts,inputs,missingRequiredInputs,passThroughData){var pathParts,queryParts;urlParts||(urlParts=[]);pathParts=[];queryParts=[];groupParts(urlParts,pathParts,queryParts);var path=buildPathSegment(pathParts,inputs,missingRequiredInputs),query=buildQuerySegment(queryParts,inputs,missingRequiredInputs,passThroughData),segment=path;return query!==null&&query.length>0&&(segment+="?"+query),segment}function groupParts(urlParts,pathParts,queryParts){urlParts.forEach(function(part){part.Key==null?pathParts.push(part):queryParts.push(part)})}function removeKey(obj,key){obj!=null&&key in obj&&delete obj[key]}function getUrlPartString(urlPart,inputs,isPath,domain){var def=typeof urlPart.Default=="undefined"?null:urlPart.Default,inputVal;switch(urlPart.Type){case UrlPartTypes.Constant:return urlPart.Value;case UrlPartTypes.Input:return inputVal=getInputValue(urlPart.Value,def,inputs),isPath&&inputVal!==null&&(inputVal=encodePathSegment(inputVal)),inputVal;case UrlPartTypes.Domain:return domain}return def}function getInputValue(urlPartValue,def,inputs){if(inputs&&urlPartValue in inputs){var inputVal=inputs[urlPartValue];return inputVal===null||typeof inputVal=="undefined"?null:inputVal.toString()}return def}function encodePathSegment(seg){for(var c,result="",i=0;i<seg.length;++i)c=seg.charAt(i),result+=pcharsRegex.test(c)?c:encodeURIComponent(c);return result}function encodeQuerySubComponent(seg){for(var c,result="",i=0;i<seg.length;++i)c=seg.charAt(i),result+=queryComponentRegex.test(c)?c:encodeURIComponent(c);return result}var di=require("./pub-injection"),urlInfoRepository=di.get("url-info-repository"),domainProvider=di.get("domain-provider"),UrlPartTypes=di.get("url-part-types"),pcharsRegex,queryComponentRegex;module.exports={buildUrl:buildUrl,buildUrlWithUrlInfo:buildUrlWithUrlInfo};pcharsRegex=/[a-zA-Z0-9\-._~!$&'()*+,;=:@]/;queryComponentRegex=/[a-zA-Z0-9\-._~!$'()*,:@/?]/},{"./pub-injection":16}],20:[function(require,module){"use strict";function getUrlInfo(name,callback){if(!(name in urlInfos))return callback(new Error('Page Name "'+name+'" not found.'),null);callback(null,urlInfos[name])}function getAllUrlInfos(callback){callback(null,urlInfos)}var di=require("./pub-injection"),urlInfos=di.get("url-infos-browser");module.exports={getUrlInfo:getUrlInfo,getAllUrlInfos:getAllUrlInfos}},{"./pub-injection":16}],21:[function(require,module){"use strict";module.exports={Input:"Input",Constant:"Constant",Domain:"SiteSettings"}},{}]},{},[17]);
var $genTreesModal={Modal:$("#modalDLG"),Params:null,TitleName:"",init:function(id,width,title,datatitlename,modalEvents){$genTreesModal.TitleName=datatitlename;$("<div data-title='' id='"+id+"'><div id='"+id+"Content'><\/div><\/div>").modal({hideCloseBtn:!1,useCustomPadding:!0,closeOnBkgClick:!0,closeOnEscape:!0,isMarketing:!1,showLoading:!0,width:width,onOpen:modalEvents&&modalEvents.onOpen?modalEvents.onOpen:function(){},onClose:modalEvents&&modalEvents.onClose?modalEvents.onClose:function(){$(".addFamModalTriggered").removeClass("addFamModalTriggered").focus();setTimeout(function(){closeCallouts()},0)}})},create:function(id,url,htmlSrc,callback){if(url!=null&&url=="0"&&htmlSrc!=null&&htmlSrc.length>0)return $genTreesModal.getView(id,htmlSrc),$("#modalHeader").hide(),callback!=null&&callback(),$.modal.center(),!0;if(htmlSrc!=null&&htmlSrc.length>0){var htmlSrcGet=$("#"+htmlSrc);htmlSrcGet&&($genTreesModal.getView(id,htmlSrcGet.html()),$("#modalHeader").hide(),callback!=null&&callback(),$.modal.center())}else $.ajax({url:url,cache:!1,timeout:2e4,type:"GET",data:{params:$genTreesModal.Params},success:function(data){var result,modalCont,modalTitle,titleVal;typeof data.hasexception!="undefined"&&data.hasexception!=null&&data.hasexception&&$genTreesModal.throwException(id,"view has thrown an exception!");$("#modalHeader").hide();result=data.html!=null&&data.html.length>0?data.html:typeof data[0]!="undefined"&&data[0].length>1?data[0]:data;$genTreesModal.getView(id,result);modalCont=$("#modal");modalCont.length>0&&modalCont.show();$.modal.center();modalTitle=$("#modalTitle");modalTitle.length>0&&$genTreesModal.TitleName.length>0&&(titleVal=modalTitle.data($genTreesModal.TitleName),$("#modalHeader").text(titleVal),$("#modalHeader").show());callback!=null&&callback();$.modal.center()},error:function(xhr,ajaxOptions,thrownError){$genTreesModal.throwException(id,"source->"+id+" status->"+xhr.status+" thrownError->"+thrownError)}})},getView:function(id,html){if(html==null||html.responseText=="fail")$genTreesModal.throwException(id,html);else if(html!=null&&html.length>0){var $callouts=$("#"+id+"Content").html(html).find("[data-callout]");typeof $callouts.callout!="undefined"&&$callouts.length>0&&$callouts.callout()}},throwException:function(id,msg){window.console!=null&&console.error(msg);$.ajax({url:"/pt/Down.aspx?noHeaderFooter=1",cache:!1,timeout:2e4,type:"GET",data:{},success:function(data){var modalcontent=document.getElementById(id);modalcontent.innerHTML=data}})}};
(function($){"use strict";var Modal,version=3,isIe8=$("html").hasClass("ie8"),isIe9=$("html").hasClass("ie9"),localizer,$modal=!1,$modalContents=!1,$modalCenter=!1,$modalClose=!1,doubleIncluded=!!$.modal;if(doubleIncluded){if($.modal.version===version){window.console&&console.warn("ERROR: You are including modal.js multiple times");return}if(window.console&&console.warn("ERROR: You are including multiple versions of modal.js"),$.modal.version>version)return}localizer={lang:function(){var langAttr=$("html").attr("lang")||$("[lang]").first().attr("lang");return langAttr?langAttr.toLowerCase():"en"}(),langSets:{de:{closeBtn:"Schlie&#223;en"},en:{closeBtn:"Close"},es:{closeBtn:"Cerrar"},fr:{closeBtn:"Fermer"},it:{closeBtn:"Chiudi"},sv:{closeBtn:"St&#228;ng"}},localize:function(key){return this.langSets[this.lang]&&this.langSets[this.lang][key]?this.langSets[this.lang][key]:this.langSets[this.lang.substring(0,2)]&&this.langSets[this.lang.substring(0,2)][key]?this.langSets[this.lang.substring(0,2)][key]:this.langSets.en[key]||""}};Modal={};Modal.defaults={hideCloseBtn:!1,closeOnBkgClick:!0,closeOnEscape:!0,fade:200,isMarketing:!1,showLoading:!1,width:"",title:"",$trigger:!1,onOpen:function(){return},onClose:function(){return}};Modal.isOpen=!1;Modal.isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;Modal.paddingLeftRight=40;Modal.widthTransition=410;Modal.openButton=!1;Modal.addToPage=function(){$modal=$('<section id="modal"><div id="modalCenter"><\/div><div id="modalContents" aria-describedby="modalHeader" tabIndex="-1"><button class="closeBtn" id="modalClose" title="'+localizer.localize("closeBtn")+'" type="button"><\/button><\/div><\/section>');$modal.appendTo("body");$modalContents=$("#modalContents");$modalCenter=$("#modalCenter");$modalClose=$("#modalClose");$modalClose.on("click.modal",function(){$("body").trigger("closeModal.modal")});$modalContents.on("click.modal",function(){Modal.stopClosing=!0})};Modal.setTitle=function(title,$currentModalContents){$currentModalContents===!1&&($currentModalContents=$modalContents.find(".modalActive"));$modalContents.children("#modalHeader").remove();title&&$currentModalContents.before('<h4 id="modalHeader" class="modalHeader">'+title+"<\/h4>");title||$currentModalContents.find(".modalHeader").length?$modalContents.addClass("modalHasTitle"):$modalContents.removeClass("modalHasTitle")};Modal.centerModal=function(){var windowHeight=$("html").height(),modalHeight=$modalContents.outerHeight(!1);$modalCenter.css({"margin-bottom":-modalHeight/2+"px"});modalHeight+=parseInt($modalContents.css("margin-top"),10)+parseInt($modalContents.css("margin-bottom"),10);Modal.isTouchDevice&&(modalHeight<=windowHeight?$modal.add("body").height(windowHeight):$modal.add("body").height(modalHeight));$modal.scrollTop(0);setTimeout(function(){$modal.trigger("recentered")},Modal.widthTransition)};Modal.resizeModal=function(width){Modal.setWidth(width);isIe8?Modal.centerModal():setTimeout(Modal.centerModal,Modal.widthTransition)};Modal.setWidth=function(width){width&&String(width).indexOf("%")!==-1?$modalContents.css("width",width):width?($(window).width()<768&&!$modalContents.hasClass("modalCustomPadding")&&(Modal.paddingLeftRight=20),$modalContents.css("width",parseInt(width,10)+Modal.paddingLeftRight)):$modalContents.css("width","")};Modal.showLoading=function(loading){loading?$modalContents.addClass("loading"):$modalContents.removeClass("loading")};$.fn.modal=function(options){function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"}).length}function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!element.href||!mapName||map.nodeName.toLowerCase()!=="map")?!1:(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img)):(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function tabbable(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}var addEvents,closeModal,openModal,removeEvents,$this=this,settings=$.extend({},Modal.defaults,options);return settings.el=this,settings.windowPosition=[0,0],Modal.stopClosing=!1,Modal.isAnimating=!1,$this.attr("title")&&($this.attr("data-title",$this.attr("title")),$this.removeAttr("title")),!settings.title&&$this.attr("data-title")&&(settings.title=$this.attr("data-title")),settings.$trigger&&settings.$trigger.attr("aria-controls","modal"),addEvents=function(){var $body=$("body");$body.on("closeModal.modal",function(){$body.find(":focus").blur();$modal.animate({opacity:0},settings.fade/2,"linear",function(){closeModal()})});$(window).on("resize.modal orientationchange.modal",function(){$modal.data("preventModalCenterOnResize")!==!0&&setTimeout(Modal.centerModal,300)});if(settings.closeOnBkgClick)$modal.on("click.modal",function(){Modal.stopClosing||Modal.isAnimating||$body.trigger("closeModal.modal");Modal.stopClosing=!1});if(settings.closeOnEscape)$body.on("keydown.modal",function(event){if(!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===27)return $body.find(":focus").blur(),$body.trigger("closeModal.modal"),event.preventDefault(),!1})},closeModal=function(alreadyOpen){alreadyOpen!==!0&&(Modal.isOpen=!1,$("html").removeClass("modalOpen"),$("body").css("padding-right","").height(""),$modal.removeAttr("style"),$modalCenter.removeClass("modalCentered"),$modalContents.removeAttr("style role"),Modal.showLoading(!1),window.scrollTo(settings.windowPosition[0],settings.windowPosition[1]),Modal.openButton&&Modal.openButton.removeAttr("aria-expanded").focus(),$modal.removeAttr("aria-expanded"),Modal.openButton=!1);removeEvents();Modal.previousSettings.el.data("dynamic")?Modal.previousSettings.el.remove():Modal.previousSettings.el.hide().removeClass("modalActive");Modal.previousSettings.onClose($this);return Modal.previousSettings.windowPosition},openModal=function(){var $modalImages,imageLength,screenWidth=$(window).width(),scrollbarWidth=0,imageCount=0;if($modal||Modal.addToPage(),settings.windowPosition=Modal.isOpen?closeModal(!0):$(document).scrollTop()>=$("html").scrollTop()?[$(document).scrollLeft(),$(document).scrollTop()]:[$("html").scrollLeft(),$("html").scrollTop()],Modal.isOpen||($modal.attr("aria-expanded","true"),settings.$trigger&&(Modal.openButton=settings.$trigger.attr("aria-expanded","true"))),$this===undefined||$this.length===0)return window.console&&console.warn("Modal contents not found. Check your selector."),!1;$("body").find($this).length>0?$this.data("dynamic",!1):$this.data("dynamic",!0);$this.parent()!==$modalContents&&$this.appendTo($modalContents);$this.show().addClass("modalActive");$("html").addClass("modalOpen");$modalContents.attr("role","alertdialog").focus().on("keydown.modal",function(e){var tabbableElements=$(this).find("*").filter(function(){return tabbable(this)||$(this).is(":focus")}),focusedElement=$(this).find(":focus");e.keyCode===9&&(e.shiftKey&&focusedElement.get(0)===tabbableElements.first().get(0)?(e.preventDefault(),tabbableElements.last().focus()):e.shiftKey||focusedElement.get(0)!==tabbableElements.last().get(0)?$modalContents.is(":focus")&&(e.preventDefault(),$modalClose.focus()):(e.preventDefault(),tabbableElements.first().focus()))});scrollbarWidth=$(window).width()-screenWidth;$("body").css("padding-right",parseInt($("body").css("padding-right"),10)+scrollbarWidth+"px");Modal.isTouchDevice?window.scrollTo(0,0):window.scrollTo(settings.windowPosition[0],settings.windowPosition[1]);Modal.setTitle(settings.title,$this);Modal.showLoading(settings.showLoading);settings.isMarketing||settings.useCustomPadding?($modalContents.addClass("modalCustomPadding"),Modal.paddingLeftRight=0):($modalContents.removeClass("modalCustomPadding"),Modal.paddingLeftRight=40);Modal.setWidth(settings.width);settings.hideCloseBtn?$modalContents.addClass("modalHideClose"):$modalContents.removeClass("modalHideClose");addEvents();settings.onOpen($this);(!Modal.isOpen||isIe8||isIe9)&&($modal.show(),Modal.centerModal());setTimeout(Modal.centerModal,Modal.widthTransition);$modalImages=$this.is("img")?$this:$this.find("img");imageLength=$modalImages.length;imageLength>0&&$modalImages.load(function(){imageCount+=1;imageCount===imageLength&&Modal.centerModal()});Modal.isAnimating=!0;setTimeout(function(){Modal.isAnimating=!1},settings.fade+300);$modal.animate({opacity:1},settings.fade,"linear",function(){$modalCenter.addClass("modalCentered");$modalContents.animate({opacity:1},settings.fade/2,"linear")});Modal.previousSettings=settings;Modal.isOpen=!0},removeEvents=function(){$modal.add("body").add(window).off(".modal")},openModal(),this};$(function(){Modal.isTouchDevice?$("html").addClass("touch"):$("html").addClass("noTouch")});$.modal={};$.modal.center=function(){$modal&&Modal.centerModal()};$.modal.close=function(){$modal&&$("body").trigger("closeModal.modal")};$.modal.showLoading=function(loading){$modal&&Modal.showLoading(loading)};$.modal.resize=function(width){$modal&&Modal.resizeModal(width)};$.modal.title=function(title){$modal&&Modal.setTitle(title,!1)};$.modal.preventClosing=function(){Modal.stopClosing=!0};$.modal.version=version})(jQuery);
"use strict";function loadScripts(scriptsToLoad,callback){var remainingScriptsToLoad=scriptsToLoad.slice(),scriptToLoad;remainingScriptsToLoad.length===0?callback&&callback():(scriptToLoad=remainingScriptsToLoad.splice(0,1)[0],$.cachedScript(scriptToLoad,{success:function(){loadScripts(remainingScriptsToLoad,callback)}}))}function checkNotesAndComments(){$("html").hasClass("printFriendly")?((!$("html").hasClass("pFHasNotes")&&showingNotes===!1||$("html").hasClass("pFHasNotes")&&$("#printFriendlyNotes").children().length===0)&&getPersonNotes(),checkComments()):$("html").hasClass("pageWrapDrawer")?(showingNotes===!0&&($("html").removeClass("pFShowingComments"),$("html").addClass("pFShowingNotes"),checkNotes()),showingComments===!0&&($("html").removeClass("pFShowingNotes"),$("html").addClass("pFShowingComments")),checkComments()):$("html").removeClass("pFShowingComments pFShowingNotes")}function checkNotes(){$("#printFriendlyNotes").text().length>0?$("html").addClass("pFHasNotes"):$("html").removeClass("pFHasNotes")}function checkComments(){$("html").hasClass("pFHasComments")&&(commentWidgetHasLoaded===!1?loadComments():cloneCommentsForPrinting())}function beforePrint(){closeBeforePrint();$("html").addClass("pFNoTransitions");$(".pageHeader").hasClass("pageHeaderFacts")&&($("html").hasClass("printFriendly")&&$(".factsSectionSources").insertAfter($(".factsSectionFamily")),checkNotesAndComments())}function afterPrint(){$("html").removeClass("pFNoTransitions");$(".pageHeader").hasClass("pageHeaderFacts")&&($("html").hasClass("printFriendly")&&($(".factsSectionSources").insertAfter($(".factsSectionFacts")),clearPrintFriendly(),typeof checkPageActions=="function"&&checkPageActions()),$(".printFriendlyViewTriggered").length>0&&$(".printFriendlyViewTriggered").removeClass("printFriendlyViewTriggered").focus())}function closeBeforePrint(){$("html").hasClass("modalOpen")&&$.modal.close();$(".callout").hasClass("active")&&closeCallouts()}function clearPrintFriendly(){$("html").removeClass("printFriendly pFNoTransitions pFNoFacts pFNoFamily pFNoSources pFShowingNameGender pFShowingSiblings");checkNotesAndComments()}function printFunction(){PersonCard.showMyCanvas?$(".pageHeader").hasClass("pageHeaderFacts")?($("html").addClass("printFriendly"),beforePrint()):PersonCard.hasEditRights?printPersonViewModal():(closeBeforePrint(),setTimeout(function(){window.print()},200)):(closeBeforePrint(),setTimeout(function(){window.print()},200))}function cloneCommentsForPrinting(){cloneComments===!0&&(cloneComments=!1,$("#printFriendlyComments").empty(),$("#personCommentsSection .comment.userCard:not(.addComment):not(.signIn)").each(function(){var $this=$(this),userCardContent=$this.find(".userCardContent"),userCardName=$this.find(".userCardName").text(),userCardComment=$this.find(".userCardName + span").text(),userCardInfo=$this.find(".userCardInfo small > span:first-child").text();userCardContent.length>0&&$('<div class="userCard userCardSize3 printFriendlyUserCard"><div class="userCardImg icon iconPerson"><\/div><div class="userCardContent"><p class="userCardComment"><strong>'+userCardName+"<\/strong> "+userCardComment+'<\/p><div class="userCardInfo"><small>'+userCardInfo+"<\/small><\/div><\/div><\/div>").appendTo("#printFriendlyComments")}),cloneComments=!0)}function printPersonViewModal(){$("#printPersonViewModal").modal({width:"410",title:PersonCard.text.printingOptionsTitle,useCustomPadding:!0,onOpen:function(){$(".printPersonViewModal").off("click").on("click",".iconPrint",function(){closeBeforePrint();setTimeout(function(){window.print()},200)})},onClose:function(){$(".myCanvasPrintModalTriggered").removeClass("myCanvasPrintModalTriggered").focus()}})}function findAPersonTreeOptionsPersonCard(){$(".treeOptions").callout({type:"click",classes:"treeOptionsCallout",content:"#personLookup",onOpen:function(){personTypeAheadNameField($("#personLookupField"),"",null,"personCard",!0)},onAfterOpen:function(){$("#personLookupField").focus()},onClose:function(){$(".treeOptions").focus()}})}function resetTypeAhead(fieldName){var typeAheadField=$(fieldName);typeAheadField.val().length===0&&$(".autocompleteCon").removeClass("autocompleteVisible")}function personTypeAheadNameField($typeAhead,excludepids,typeAheadSaveButton,section,showExtra){var hasSection=typeof section!="undefined"&&section!=null&&section.length>0,treeId=PersonCard.treeId;typeof typeAheadSaveButton!="undefined"&&typeAheadSaveButton!=null&&typeAheadSaveButton.length>0&&typeAheadSaveButton.attr("disabled","disabled");$typeAhead.autocomplete({alwaysOpenOnFocus:!0,source:"/suggest/person?treeId="+treeId+"&serviceDown=none&excludePids="+excludepids,key:"name",queryParameter:"term",dataType:"json",minLength:3,maxResults:20,customDisplay:function(data){var displayText=data.display;return(data.raw.birth!=""||data.raw.death!="")&&(displayText+=" "+data.raw.birth+" - "+data.raw.death),{value:data.value,display:displayText}},onOpen:function($resultContainer,$before,$after){showExtra&&$after.html($("#findPersonActions").html())},onItemSelect:function(itemData){var pageUrl,$this,$card;if(itemData!==""){if(hasSection&&section==="personCard"){pageUrl=PersonCard.URL.storyHref;switch($(".tabActive").attr("id")){case"tabFacts":pageUrl=PersonCard.URL.factsHref;break;case"tabGallery":pageUrl=PersonCard.URL.galleryHref;break;case"tabHints":pageUrl=PersonCard.URL.hintsHref}typeof itemData.PID!="undefined"&&(pageUrl=pageUrl.replace(PersonCard.personId,itemData.PID));window.location=pageUrl}$this=$(this);$this.length>0&&($this.addClass("selectedPerson"),itemData.PID!=""&&($card=$this.closest(".card"),$card.find(".erAddExistingData").data("itemData",itemData)));typeof typeAheadSaveButton!="undefined"&&typeAheadSaveButton!=null&&typeAheadSaveButton.length>0&&typeAheadSaveButton.removeAttr("disabled")}}});$typeAhead.on("input",function(){$(this).removeClass("selectedPerson")})}function toggleDrawer(){var toggleDrawerElement=$("html");if(toggleDrawerElement.hasClass("pageWrapDrawer"))toggleDrawerElement.removeClass("noTransitionsForPageWrap pageWrapDrawer pFShowingNotes pFShowingComments");else toggleDrawerElement.addClass("pageWrapDrawer").one("transitionend",function(){toggleDrawerElement.hasClass("pageWrapDrawer")&&toggleDrawerElement.addClass("noTransitionsForPageWrap")});drawerIsOpen()?getPersonNotes():closeNotes()}function toggleDrawerToTab(tabSelector){closeCallouts();drawerIsOpen()?$(tabSelector).hasClass("tabActive")?toggleDrawer():$(tabSelector).click():(toggleDrawer(),$(tabSelector).click())}function drawerIsOpen(){return $("html").hasClass("pageWrapDrawer")}function loadCommentCount(){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/commentcount";$.ajax({url:url,cache:!1,timeout:2e4,success:function(data){if(typeof data!="undefined"&&typeof data.count!="undefined"){var count=data.count<1?"":data.count>99?"99+":data.count;count!==""?($(".personCommentsBtn .badge").text(count).removeClass("hideBadge"),$("html").addClass("pFHasComments")):($(".personCommentsBtn .badge").addClass("hideBadge"),$("html").removeClass("pFHasComments pFShowingComments"))}}})}function loadComments(){function loadScriptTagWithCallback(scriptSrc,callback){var scriptTag=$("<script />",{src:scriptSrc,type:"text/javascript"})[0];scriptTag.onload=callback;document.getElementsByTagName("head")[0].appendChild(scriptTag)}commentWidgetHasLoaded=!1;$("comment-widget").length>0&&$(".tabContentComments.loading").length===0&&($(".tabContentComments").addClass("loading loadingLarge"),$.get("http://"+PersonCard.domain.comments+"/ui/comment/cssfile?includeDomain=true",function(commentCssUrl){$("head").append($("<link />",{href:commentCssUrl,type:"text/css",rel:"stylesheet"}))}),loadScriptTagWithCallback(PersonCard.URL.angular,function(){$.get("http://"+PersonCard.domain.comments+"/ui/comment/jsfile?includeDomain=true",function(commentJsUrl){loadScriptTagWithCallback(commentJsUrl,function(){if(angular.bootstrap($("comment-widget"),["community"]),$(".tabContentComments").removeClass("loading loadingLarge"),$("html").hasClass("pFHasComments")&&$("html").hasClass("printFriendly"))var hasCommentsLoaded=setInterval(function(){$("#personCommentsSection .comment").length>=1&&(clearInterval(hasCommentsLoaded),cloneCommentsForPrinting())},50);commentWidgetHasLoaded=!0})})}))}function addOrientationClasses(image){var $item=$(image),ratio=parseInt($item.css("width"))/parseInt($item.css("height"));ratio<1&&$item.parent(".photo").addClass("photoPortrait");ratio>1&&$item.parent(".photo").addClass("photoLandscape");$item.removeClass("imageNeedsOrientation")}function researchToolbar(){var curView="",tUrl;$(".pageNav").hasClass("pageNavCollapsed")?($(".pageNav").removeClass("pageNavCollapsed").addClass("pageNavExpanded"),curView="Expanded"):($(".pageNav").removeClass("pageNavExpanded").addClass("pageNavCollapsed"),curView="Collapsed");closeCallouts();tUrl="/northstar/personview/researchtoolbar?view="+curView;$.ajax({cache:!1,url:tUrl}).done(function(){})}function closeCallouts(){$(".calloutTrigger.active").callout("close")}function renderView(tabId){var $personHeader=$(".pageHeader"),$currentTab=$(".tabActive"),$newTab=$("#"+tabId),currentId=$currentTab.attr("id");$personHeader.removeClass("pageHeader"+getCurrentViewName(currentId));tabId!=="tabStory"?$personHeader.removeClass("pageHeaderStory").addClass("pageHeaderNotStory pageHeader"+getCurrentViewName(tabId)):$personHeader.removeClass("pageHeaderNotStory pageHeaderFacts pageHeaderGallery pageHeaderHints").addClass("pageHeaderStory");$("html").hasClass("printFriendly")&&clearPrintFriendly()}function getCurrentViewName(id){switch(id){case"tabFacts":return"Facts";case"tabGallery":return"Gallery";case"tabHints":return"Hints";default:return"Story"}}function CheckTextAreaLength(textBox,maxLength){var textBoxEl=$("#"+textBox.id);textBoxEl.length>0&&textBoxEl.val().length>maxLength&&textBoxEl.val(textBoxEl.val().substring(0,maxLength))}function CheckTextElementLength(textBox,maxLength){textBox.innerText.length>maxLength&&(textBox.innerText=textBox.innerText.substring(0,maxLength))}function updateModalTitle(tabContent1Val,tabContent2Val,tabContent3Val,tabContent4Val,tabContent5Val){$(".tabContent1").hasClass("tabActive")&&$.modal.title(tabContent1Val);$(".tabContent2").hasClass("tabActive")&&$.modal.title(tabContent2Val);$(".tabContent3").hasClass("tabActive")&&$.modal.title(tabContent3Val);$(".tabContent4").hasClass("tabActive")&&$.modal.title(tabContent4Val);$(".tabContent5").hasClass("tabActive")&&$.modal.title(tabContent5Val)}function modalButtonClick(){$("#modalContents").on("click",".tab",function(){if($("#modal").hasClass("modalEditEvent")){var displayLifeStory=$(".tabContent4").find(".displayLifestory"),displayLifeStoryVal=displayLifeStory.prop("checked");displayLifeStory.data("original-displaylifestory",displayLifeStoryVal.toString())}$("#modal").hasClass("modalEditSource")&&updateModalTitle($(".title").val(),$(".citationDetailTitle").val(),$(".associatedFactsEventsTitle").val(),$(".attachedMediaTitle").val());$.modal.center()})}function removePersonModal(){closeCallouts();$("#modalRemovePerson").modal({title:PersonCard.text.removePersonTitle,onOpen:function(){$("#documentReturnURL").val(document.URL)},onClose:function(){$(".remModalTriggered").removeClass("remModalTriggered").focus()}})}function removePerson(){$.ajax({url:PersonCard.URL.removePerson,type:"POST",data:{name:PersonCard.name},success:function(data){data&&data.success?location.href=data.returnUrl:($.modal.close(),acom.bus.emit("FamilySearch::Notify::Failure",data.message,PersonCard.text.removePersonTitle))},error:function(){}})}function detachMediaFromCitation(citationId,mediaId,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/citationId/"+citationId+"/mediaid/"+mediaId+"/detachmediafromcitation";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data)},error:function(){window.lock.actionInProgress=!1;personAnalyticsTrackClick("detachMediaFromCitation-Failed")}})}function detachMediaFromEvent(assertionId,mediaId,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/assertionid/"+assertionId+"/mediaid/"+mediaId+"/detachmediafromevent";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data,assertionId,mediaId)},error:function(){window.lock.actionInProgress=!1;personAnalyticsTrackClick("detachMediaFromEvent-Failed")}})}function bindProfileImageClick(){if(PersonCard&&PersonCard.hasEditRights&&PersonCard.isProfileImageCropEnabled){var userCard=$("#personCard .userCardImg");if(PersonCard.primaryImageId)userCard.off().callout("destroy").callout({type:"click",style:"dark",classes:"calloutMenu",content:"#profileImageCalloutDomContent"});else userCard.callout("destroy").off().on("click",showChooseProfileImageModal)}}function updatePersonProfileImage(mediaId,cropRect){var url="http://"+PersonCard.domain.mediaAPI+"/api/trees/"+PersonCard.treeId+"/persons/"+PersonCard.personId,requestData={mediaId:mediaId||""},readCookie=function(name){for(var c,nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(c=ca[i];c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length)}return null};$.ajax({type:"PUT",url:url,data:JSON.stringify(requestData),contentType:"application/json",beforeSend:function(request){request.setRequestHeader("ATT",readCookie("ATT"))},success:function(){PersonCard.primaryImageId=requestData.mediaId;PersonCard.primaryImageCropRect=cropRect||"";loadProfileImage()},error:function(){acom!=null&&acom.bus!=null&&acom.bus.emit("RemoveProfileImage::Notify::Failure",PersonCard.text.removeProfileImageError,PersonCard.text.removeProfileImageTitle)}})}function loadProfileImage(){var userCardImage=$("#personCard .userCardImg");PersonCard.primaryImageId?(userCardImage.removeClass("icon iconMale iconFemale iconPerson").find("img").attr("src",getProfileImageUrl),setMediaViewerCropUrl()):userCardImage.addClass("icon icon"+PersonCard.gender);bindProfileImageClick()}function getProfileImageUrl(){var url=PersonCard.domain.mediaSvc+"/v2/image/namespaces/1093/media/"+PersonCard.primaryImageId+"?client=PersonUI&maxSide=280";return PersonCard.primaryImageCropRect&&(url+="&ImageQuality=UltraHighQuality&scaleUpToMax=true&prescalecroprect="+PersonCard.primaryImageCropRect),url}function showChooseProfileImageModal(){if(acom&&acom.bus){if(!acom.bus.listeners("Selector::selectionUpdated").length)acom.bus.on("Selector::selectionUpdated",function(mediaIds){var mediaItem=mediaIds[0];updatePersonProfileImage(mediaItem.id,mediaItem.cropRect);$.modal.close()});if(!acom.bus.listeners("Selector::loaded").length)acom.bus.on("Selector::loaded",function(){$.modal.center()})}var modalContainer=$("#chooseProfileImageModalContainer");modalContainer.modal({onOpen:function(){var pubOptions;ancestry.pub&&(pubOptions={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,SelectedMediaIds:PersonCard.primaryImageId,MediaTypesFilter:"p"},currentPageIsStart:!0},ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId}),ancestry.pub.getUrl("MediaSelectorComponent",pubOptions,function(e,url){if(!e){var glueOptions={domId:"chooseProfileImageModalContainer",url:url};window.glue.fetch(glueOptions)}return!1}));var $modalHeader=$("#modalHeader"),$modalContents=$("#modalContents"),minHeight=$(window).height()-parseInt($modalContents.css("margin-top"),10)*2-$modalHeader.outerHeight(!1)-parseInt($modalHeader.css("margin-bottom"),10)*2;$modalContents.css({"min-height":minHeight})},onClose:function(){modalContainer.empty()},title:PersonCard.text.chooseProfileImageModalTitle.replace("{personName}",PersonCard.name),width:"100%"})}function attachMediaToCitation(citationId,mediaId,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/citationId/"+citationId+"/mediaid/"+mediaId+"/attachmediatocitation";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data)},error:function(){window.lock.actionInProgress=!1;personAnalyticsTrackClick("attachMediaToCitation-Failed")}})}function attachMediaToEvent(assertionId,mediaId,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/assertionid/"+assertionId+"/mediaid/"+mediaId+"/attachmediatoevent";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data)},error:function(){window.lock.actionInProgress=!1;personAnalyticsTrackClick("attachMediaToEvent-Failed")}})}function detachSourceFromEvent(assertionId,sourceId,selector,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/assertionid/"+assertionId+"/sourceid/"+sourceId+"/detachsourcefromevent";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data)},error:function(){window.lock.actionInProgress=!1;updateSourceAttachDetachState(assertionId,sourceId,!0,selector);personAnalyticsTrackClick("detachSourceFromEvent-Failed")}})}function attachSourceToEvent(assertionId,sourceId,selector,callback){var url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/assertionid/"+assertionId+"/sourceid/"+sourceId+"/attachsourcetoevent";$.ajax({type:"POST",url:url,cache:!1,timeout:2e4,success:function(data){typeof callback=="function"&&callback(data)},error:function(){updateSourceAttachDetachState(assertionId,sourceId,!1,selector);personAnalyticsTrackClick("attachSourceToEvent-Failed")}})}function saveToTree(){window.closeCallouts();$.ajax({url:PersonCard.URL.saveToTree,type:"GET",dataType:"jsonp",contentType:"application/json",jsonpCallback:"handleJSON",success:function(){},error:function(){var html="<div><p>"+PersonCard.text.saveToTreeError+"<\/p><\/div>";$(html).modal({title:PersonCard.text.saveToTreeTitle,width:"760",onOpen:function(){}})}})}function quickEdit(){var apmCallback=function(cbResponse){return cbResponse.reqRefresh===!0?(location.reload(),!1):(cbResponse.mode==="m"&&$.modal.close(),cbResponse.status==="success"&&(window.personAnalyticsTrackClick("QuickEditPersonSaved"),window.getPersonCard()),!0)};AddPerson.Edit(PersonCard.treeId,PersonCard.personId,{},apmCallback)}function addFamilyMember(tid,pid,args){var apmCallback=function(cbResponse){return cbResponse.status==="success"&&(window.personAnalyticsTrackClick("QuickEditPersonSaved"),window.getPersonCard()),cbResponse.mode==="m"&&$.modal.close(),!0};AddPerson.Add(tid,pid,args,apmCallback)}function getPersonCard(){$.ajax({url:PersonCard.URL.getPersonCard,type:"GET",dataType:"json",contentType:"application/json",jsonpCallback:"handleJSON",success:function(response){var pcc=$("#personCardContainer");pcc.length>0&&response.html!==""&&(pcc.html(response.html),typeof response.js!="undefined"&&typeof personCardLoaded=="undefined"&&$.getScript(response.js).done(function(){}).fail(function(){}),bindProfileImageClick())},error:function(){}})}function editRelationships(addedPid,addedRelation,isTransition){(isTransition==null||isTransition===!1)&&window.closeCallouts();var name=PersonCard.text.editRelsModalTitle.replace("{fullName}",$("#personCardContainer").find(".userCardTitle").html());$('<div class="modalPersonView modalEditRelationship form" id="editRelationshipsModal"><\/div>').modal({title:name,useCustomPadding:!1,width:"760",showLoading:!0,onOpen:function(){$.ajax({url:PersonCard.URL.editRelationships,data:{addedPid:addedPid,addedRelation:addedRelation},type:"GET",dataType:"jsonp",cache:!1,contentType:"application/json",success:function(response){$.modal.showLoading(!1);$(".modalEditRelationship").html(response.html);$.cachedScript(PersonCard.editRelationshipUrl).done(function(){response.data.addedPid=addedPid;window.editRelationship(response.data)})},error:function(){$.modal.showLoading(!1);var html='<div class="ancGrid ancGridPadded"><div class="ancCol w100"><p class="icon iconWarning">'+PersonCard.text.editRelationshipsError+"<\/p><\/div><\/div>";$(".modalEditRelationship").html(html);$.modal.center()}})},onClose:function(){$(".editRelModalTriggered").removeClass("editRelModalTriggered").focus();window.editRelationship&&window.editRelationship.updated&&(window.glue?window.glue.reload():location.reload());$.get("/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/relationship/log/modalclose")}})}function handleJSON(response){$(response.html).modal({title:PersonCard.text.saveToTreeTitle,width:"760",onOpen:function(){$.getScript(response.js).done(function(){}).fail(function(){})},onClose:function(){$(".savModalTriggered").removeClass("savModalTriggered").focus()}})}function reloadContent(){$(".pageHeader .tab.tabActive").click()}function clearNarrativeCache(){var ccUrl="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/clearnarrativecache";$.ajax({url:ccUrl,method:"GET",async:!1})}function updateHintCount(data){var $hintbubble=$("#tabHintCount"),n=data;n<=0?(n=0,$hintbubble.addClass("hideBadge")):$hintbubble.removeClass("hideBadge");n>99&&(n="99+");$hintbubble.text(n);$("#personTabs").tabs()}function setMediaViewerUrl(){ancestry.pub&&(ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId}),ancestry.pub.buildUrl().toGoTo("MediaViewer",{MediaId:PersonCard.primaryImageId,TreeId:PersonCard.treeId,PersonId:PersonCard.personId}).toComeBackToCurrent(!0).build(function(err,url){err||(window.location=url)}))}function setMediaViewerCropUrl(){ancestry.pub&&(ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId}),ancestry.pub.buildUrl().toGoTo("MediaViewer",{MediaId:PersonCard.primaryImageId,TreeId:PersonCard.treeId,PersonId:PersonCard.personId,ShowImageCropping:1}).toComeBackToCurrent(!0).build(function(err,url){err||(window.location=url)}))}function setLifeStoryMediaUploadWithHistoryUrl(clickAnchor,assertionId){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,AssertionId:assertionId,MediaType:"Photo"},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("PersonFactMediaObjectUpload",options,function(e,url){if(!e)return window.location=url,!1})}}function setFactsMediaUploadWithHistoryUrl(clickAnchor,assertionId){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,AssertionId:assertionId,MediaType:"Media"},currentPageIsStart:!0};ancestry.pub.setCurrentPage("PersonFactsFactEdit",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,AssertionId:assertionId,TabName:"Media"});ancestry.pub.getUrl("PersonFactMediaObjectUpload",options,function(e,url){e||(window.location=url)})}}function setCitationMediaUploadWithHistoryUrl(clickAnchor,citationId){ancestry.pub&&(ancestry.pub.setCurrentPage("PersonFactsCitationEdit",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,CitationId:citationId,TabName:"Media"}),ancestry.pub.buildUrl().toGoTo("PersonCitationMediaObjectUpload",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,CitationId:citationId,MediaType:"Photo"}).toComeBackToCurrent(!0).build(function(e,url){e||(window.location=url)}))}function setLifeStoryHistoryPoint(){var setHistoryPoint="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/setlifestoryhistorypoint";$.ajax({url:setHistoryPoint,method:"GET",success:function(){}})}function setSearchWithHistoryUrl(clickAnchor){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,SSRC:"pt"},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("PersonRecordSearch",options,function(e,url){if(!e)return clickAnchor.href=url,window.location=url,!1})}}function setMergeDuplicateWithHistoryUrl(clickAnchor){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,PersonIdPrimary:PersonCard.personId},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("PersonMergeDuplicatePickPerson",options,function(e,url){if(!e)return clickAnchor.href=url,window.location=url,!1})}}function setViewMediaWithHistoryUrl(clickAnchor){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,ObjectId:"pt"},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("MediaObject",options,function(e,url){e||(clickAnchor.href=url)})}}function setHintsPubCurrentPage(data){var pair,key;if(ancestry.pub){var inputs={TreeId:PersonCard.treeId,PersonId:PersonCard.personId},pairs=location.search.slice(1).split("&"),index=0;try{if(pairs[index].length)for(index=0;index<pairs.length;index++)pair=pairs[index].split("="),pair&&pair[0].startsWith&&pair[0].startsWith("Hints.")&&(key=pair[0].replace("Hints.",""),key=key.charAt(0).toUpperCase()+key.slice(1),inputs[key]=decodeURIComponent(pair[1]||""))}catch(e){}ancestry.pub.setCurrentPage("PersonPageHintsView",inputs);window.acom&&window.acom.bus&&window.acom.bus.emit("csm::history::currentpagechange",data)}}function setGalleryPubCurrentPage(){ancestry.pub&&ancestry.pub.setCurrentPage("PersonViewMediaGallery",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId})}function setHintsWithHistoryUrl(){if(ancestry.pub&&(setHintsPubCurrentPage({}),acom&&acom.bus&&acom.bus.listeners("csm::history::statechange").length<1))acom.bus.on("csm::history::statechange",setHintsPubCurrentPage)}function setViewRecordImageHistory(clickAnchor,citationId){ancestry.pub&&ancestry.pub.setCurrentPage("PersonFactsCitationEdit",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,CitationId:citationId})}function setViewRecordPageHistory(clickAnchor,citationId){ancestry.pub&&ancestry.pub.setCurrentPage("PersonFactsCitationEdit",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId,CitationId:citationId})}function setMemberConnectWithHistoryUrl(clickAnchor){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("PersonMemberConnect",options,function(e,url){if(!e)return clickAnchor.href=url,window.location=url,!1})}}function setGalleryHistoryPoint(){var setHistoryPoint="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/setgalleryhistorypoint";$.ajax({url:setHistoryPoint,method:"GET",success:function(){}})}function setMilitaryWithHistoryUrl(clickAnchor){if(ancestry.pub){var options={destInputs:{TreeId:PersonCard.treeId,PersonId:PersonCard.personId},currentPageIsStart:!0};ancestry.pub.setCurrentPage("CurrentPersonView",{TreeId:PersonCard.treeId,PersonId:PersonCard.personId});ancestry.pub.getUrl("PersonMilitaryPage",options,function(e,url){if(!e)return clickAnchor.href=url,window.location=url,!1})}}function setTreeLink(clickAnchor,pubName){var options={destInputs:{TreeId:PersonCard.treeId},currentPageIsStart:!1};ancestry.pub&&ancestry.pub.getUrl(pubName,options,function(e,url){if(e)window.console!=null&&console.err(e);else return clickAnchor.href=url,window.location=url,!1})}function getPersonHintsCount(){var hintsCountUrl="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/hintscount";$.ajax({url:hintsCountUrl,method:"GET",success:function(data){updateHintCount(data.PendingHintCount)}})}function actionComplete(){try{window.glue.reload(function(){window.lock.actionInProgress=!1})}catch(e){window.lock.actionInProgress=!1}}function closeNotes(){SaveController.SaveWithCheck();$("#savingChangesText").hide();window.onbeforeunload=null}function getClEditorTextDataArea(){return $(".cleditorMain iframe").contents().find("body")}function convertHtmlTags(htmlVal){return htmlVal.replace(/>/g,"&gt;").replace(/</g,"&lt;")}function clearChangesSavedText(){$("#savingChangesText").hide();$("#savingChangesText").html(PersonCard.text.savingChanges)}function getPersonNotes(callback){var getPersonNotesUrl="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/getPersonNotes";$.ajax({url:getPersonNotesUrl,method:"GET",cache:!1,success:function(data){var notesField,pFNotesField,notesValOriginal;data&&data.note!=null&&(notesField=$("#NotesTextAreaNoEditor"),pFNotesField=$("#printFriendlyNotes"),notesField.length>0&&(notesField.html(data.note),notesField.attr("data-notes-original",data.note),notesValOriginal=notesField.attr("data-notes-original"),(notesValOriginal.length!==notesField.html().length||notesValOriginal!==notesField.html())&&(window.onbeforeunload=function(evt){return SaveController.SaveWithCheck(),evt.returnValue=undefined,undefined})),pFNotesField.html(data.note),checkNotes());callback&&callback()},error:function(){personAnalyticsTrackClick("getPersonNotes-Failed");callback&&callback()}})}function savePersonNotes(callback){var notesField,pFNotesField,converted,savePersonNotesUrl;$("#savingChangesText").show();notesField=$("#NotesTextAreaNoEditor");pFNotesField=$("#printFriendlyNotes");notesField.length>0&&(converted=notesField.html(),savePersonNotesUrl="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/savePersonNotes",$.ajax({type:"POST",data:{note:converted},url:savePersonNotesUrl,timeout:2e4,success:function(data){typeof data.noteId!="undefined"&&data.noteId!=null&&($("#savingChangesText").text(PersonCard.text.changesSaved),notesField.html(converted),notesField.attr("data-notes-original",converted),pFNotesField.html(converted),checkNotes());callback&&callback()},error:function(){$("#savingChangesText").text(PersonCard.text.changesNotSaved);personAnalyticsTrackClick("savePersonNotes-Failed");callback&&callback()}}))}function saveUIState(selection,stateData){var $selection,selector,state;typeof selection!="undefined"&&(typeof selection=="string"&&(selection[0]=="#"||selection[0]==".")?(selector=selection,$selection=$(selection)):selection instanceof jQuery?($selection=selection,selector=$selection.attr("id"),selector?selector="#"+selector:(selector=$selection.attr("class"),selector&&(selector="."+selector))):window.console!=null&&console.warn("Could not save selector: "+selection),$selection.length&&(state={"selection-id":selector,"selection-rect":$selection[0].getBoundingClientRect(),"selection-offset":$selection.offset()},stateData&&$.extend(state,{"state-data":stateData}),$("html").data(state)))}function loadUIState(triggerEvent,setScrollPosition){var $html=$("html"),stateData,selection;if($html.data("selection-id"))return selection={id:$html.data("selection-id"),$el:$($html.data("selection-id")),rect:$html.data("selection-rect"),offset:$html.data("selection-offset")},$html.data("state-data")&&(stateData=$html.data("state-data")),selection.$el.length?(setScrollPosition&&$html.scrollTop(selection.$el.offset().top-selection.rect.top),selection.$el.trigger(triggerEvent||"focus"),$("."+$("html").data("saved-event-id")).focus()):setScrollPosition&&$html.scrollTop(selection.offset.top-selection.rect.top),$html.removeData("selection-id").removeData("selection-rect").removeData("selection-offset").removeData("state-data"),stateData}window.personScreenType=function(type){return type==="large-screen"?$(".responsiveFlag").css("text-align")==="center":type==="not-large-screen"?$(".responsiveFlag").css("text-align")==="left":type==="tablet-portrait"?$(".responsiveFlag").css("position")==="relative":type==="smart-phone"?$(".responsiveFlag").css("visibility")==="visible":type==="smart-phone-portrait"?$(".responsiveFlag").css("text-align")==="right":void 0};window.glue={};window.lock={actionInProgress:!1};$(function(){function getTabNameStringForPageTitle(tabName){switch(tabName){case"story":return PersonCard.text.lifeStoryTabName;case"facts":return PersonCard.text.factsTabName;case"gallery":return PersonCard.text.galleryTabName;case"hints":return PersonCard.text.hintsTabName}}function getTabData(tabName){var data={};switch(tabName){case"story":case"tabStory":data.tabId="tabStory";data.contentId="tabContentStory";data.url=PersonCard.URL.story;data.domId="personPageStory";data.key="story";data.queryValue="story";data.events={};break;case"facts":case"tabFacts":data.tabId="tabFacts";data.contentId="tabContentFacts";data.url=PersonCard.URL.facts;data.domId="personPageFacts";data.key="facts";data.queryValue="facts";data.events={};break;case"gallery":case"tabGallery":data.tabId="tabGallery";data.contentId="tabContentGallery";data.url=PersonCard.URL.gallery;data.domId="personPageGallery";data.key="gallery";data.queryValue="gallery";data.events={};break;case"hints":case"tabHints":data.tabId="tabHints";data.contentId="tabContentHints";data.url=PersonCard.URL.hints;data.domId="personPageHints";data.key="hints";data.queryValue="hints";data.events={"PersonHintTab::hintcount_change::pending":function(data){updateHintCount(data)}}}return data}function updateView($view){return(closeCallouts(),$view.removeClass("personPageError"),!$view.hasClass("loading"))?($view.addClass("loading loadingLarge").children().empty(),!0):!1}function changeView(tabId){renderView(tabId)}function showTabContent(options,$view){$view.removeClass("loading loadingLarge");checkForError($("#"+options.domId))}function gluePreProcess(tab){if(tab!=="csm"){var data=getTabData(tab),$view=$("#"+data.contentId),$tab=$("#"+data.tabId),$oldTab=$("a.tab.tabActive");$view.children()&&($view.hasClass("loading")||($("html").attr("data-page",tab),$oldTab.removeClass("tabActive"),$tab.addClass("tabActive"),$(".tabContent.tabActive").removeClass("tabActive"),$view.addClass("tabActive"),$view.find(".personPage").children().length===0?$tab.click():$view.load()));changeView($tab.attr("id"))}}function UpdateURL(history,data){var urlArray=history.url.split("?",2),newUrl=urlArray.join("").substring(0,urlArray[0].split("/",7).join("/").length)+"/"+PersonCard.tabName,event;urlArray.length>1&&(newUrl+="?"+urlArray[1]);for(event in data.events)acom.bus.on(event,data.events[event]);History.replaceState(data,HtmlDecode(PersonCard.name)+" - "+getTabNameStringForPageTitle(PersonCard.tabName),newUrl)}function HtmlDecode(s){var div=document.createElement("div");return div.innerHTML=s.replace(/<\/?[^>]+>/gi,""),div.childNodes[0]?div.childNodes[0].nodeValue:""}function checkForError($page){$page.find(".personPageUnavailable").length>0&&$page.addClass("personPageError")}function shouldWeCheckPageActions(){var isNotTheOwner=$(".treeOwnerAndRole").length>=1,isALargeScreen=window.personScreenType("large-screen"),isTherePlentyOfSpace=parseInt($(".pageCrumbs + .ancBtn").offset().left)-parseInt($(".pageCrumbs").css("width"))>375,isTreeOwnerAndRoleMini=$(".pageActions").hasClass("showingMiniTreeOwnerAndRole"),isDrawerOpen=$("html").hasClass("pageWrapDrawer"),toggleDrawerCheckPageActionsLoop;isNotTheOwner===!0&&isALargeScreen===!0&&isTherePlentyOfSpace===!1&&(isTreeOwnerAndRoleMini===!1&&isDrawerOpen===!1||isTreeOwnerAndRoleMini===!0&&isDrawerOpen===!0)&&(toggleDrawerCheckPageActionsLoop=setInterval(function(){checkPageActions()},25),setTimeout(function(){clearInterval(toggleDrawerCheckPageActionsLoop)},750))}var $TreesFunc,i,mediaQueryList;$(document).ready(function(){var defaultGlueOptions;loadScripts(PersonCard.jsAssets,getPersonHintsCount);defaultGlueOptions=typeof PersonCard!="undefined"?{key:PersonCard.tabName,queryValue:PersonCard.tabName,keyId:"#"+PersonCard.tabId,url:PersonCard.URL.current,domId:PersonCard.domId,combinatorPath:PersonCard.cacheUrl+"/lib/tgn/combo.ashx",options:$.extend({},{tab:PersonCard.tabName},getTabData(PersonCard.tabName))}:{key:"",queryValue:"",keyId:"#0",url:"",domId:"",combinatorPath:"",options:""};UpdateURL(History.getState(),defaultGlueOptions.options);var glue=new Glue(defaultGlueOptions),personHeader=$(".pageHeader"),htmlTag=$("html").attr("data-page",PersonCard.tabName);glue.preProcess=gluePreProcess;window.glue.reload=glue.reload;window.glue.fetch=glue.fetch});checkForError($(".tabContent.tabActive .personPage"));$("#personView .pageHeader .tabs .tab").on("click.personView",function(e){if(e.preventDefault(),!window.personScreenType("not-large-screen")||this.id!==$(".tabs .tab.tabActive").attr("id")){var options=getTabData(this.id),$view=$("#"+options.contentId);$("html").attr("data-page",options.queryValue);options.pushUrlState=!1;options.removeCacheFiles=!1;options.keyId="#"+this.id;options.callback=function(){showTabContent(options,$view,this)};updateView($view)&&glue.fetch(options);History.pushState({tab:options.queryValue,domId:$view.attr("id"),options:options},HtmlDecode(PersonCard.name)+" - "+getTabNameStringForPageTitle(options.queryValue),options.queryValue)}});$TreesFunc={FamilySearch:{loadWidget:function(callback){var qs=document.location.search||"";qs+=(qs?"&":"?")+"fsid="+$("#familySearchId").val();$.ajax({cache:!1,dataType:"jsonp",xhrFields:{withCredentials:!0},crossDomain:!0,url:PersonCard.domain.trees+"/tree/"+$("#treeId").val()+"/person/"+$("#personId").val()+"/fs/personwidget"+qs}).done(function(response){if(response!=null){$("#fsWidget").html(response.html);callback!=null&&callback();$("#fsCancelDisconnect").click(function(){$.modal.close()});$("#fsConfirmDisconnect").one("click",function(){$.ajax({cache:!1,dataType:"jsonp",xhrFields:{withCredentials:!0},crossDomain:!0,url:PersonCard.domain.trees+fsPerformDisconnectUrl}).done(function(jsonResponse){jsonResponse.success?($("#familySearchId").val(""),$("#fsOrdStatus").callout("close"),$.modal.close(),location.reload()):$("#fsDisconnectFail").modal({title:fsErrorDisconnecting})})});$("#fsDisconnect").click(function(){$("#fsDisconnectConfirm").modal({title:fsConfirmTitle})})}}).fail(function(){$("#fsWidget").parent(".familySearchTools").remove()})}}};bindProfileImageClick();$(".pageHeaderStory #researchTools .iconPrint").on("click",function(){$(this).addClass("myCanvasPrintModalTriggered");printFunction()});$(".pageHeaderFacts #researchTools .iconPrint").on("click",function(){$(this).addClass("printFriendlyViewTriggered");printFunction()});$("#treePagesList > li").length>0&&$(".treePagesButton").callout({type:"click",content:"#treePagesList",classes:"calloutMenu treePagesCallout"});$(".pageActions .badge.iconInfo").callout({type:"click",classes:"calloutOwner",content:"#yourRoleDomCalloutDomContent"});$(".researchToolsButton").callout({type:"click",classes:"calloutMenu calloutMenuResearchTools",content:"#researchToolsCalloutDomContent",onOpen:function(){$(".pageNav").hasClass("pageNavExpanded")?$(".researchToolsList .iconAfterCheck").addClass("calloutMenuChecked"):$(".researchToolsList .iconAfterCheck").addClass("calloutMenuUnchecked");loadCommentCount()},onAfterOpen:function(){$(".researchToolsList").one("click",".iconAfterCheck",function(){$(this).toggleClass("calloutMenuChecked calloutMenuUnchecked");researchToolbar();$(this).hasClass("calloutMenuChecked")?personAnalyticsTrackClick("showResearchToolbar"):personAnalyticsTrackClick("hideResearchToolbar")}).one("click",".myNotesBtn",function(){shouldWeCheckPageActions();toggleDrawerToTab("#myNotesTab")}).one("click",".personCommentsBtn",function(){shouldWeCheckPageActions();toggleDrawerToTab("#personCommentsTab")}).one("click",".iconPrint",function(){$(".researchToolsButton").addClass("printFriendlyViewTriggered");printFunction()});$(".pageHeader").hasClass("pageHeaderStory")||$(".pageHeader").hasClass("pageHeaderFacts")?$(".printOptionForLifeStoryAndFacts").removeClass("printOptionForLifeStoryAndFactsHidden"):$(".printOptionForLifeStoryAndFacts").addClass("printOptionForLifeStoryAndFactsHidden");$(document).on("click",".researchToolsList .iconPrint",function(){$(".pageActions .iconTools").addClass("myCanvasPrintModalTriggered")}).on("click",".researchToolsList .iconPlus",function(){$(".pageActions .iconTools").addClass("savModalTriggered")})},onClose:function(){$(".researchToolsList").off("click")}});loadCommentCount();$(".editToolsButton").callout({type:"click",classes:"calloutMenu calloutMenuEditTools",content:"#editToolsCalloutDomContent",onAfterOpen:function(){$(document).on("click",".editToolsList .iconTrash",function(){$(".pageActions .iconEdit").addClass("remModalTriggered")}).on("click",".editToolsList .iconFamily",function(){$(".pageActions .iconEdit").addClass("editRelModalTriggered")})}});$(".personToolsGuest").callout({type:"click",classes:"calloutMenu calloutMenuGuestTools",content:"#guestToolsCalloutDomContent",onOpen:function(){loadCommentCount()},onAfterOpen:function(){$(".guestToolsList").one("click",".iconPrint",function(){printFunction()}).one("click",".personCommentsBtn",function(){shouldWeCheckPageActions();loadComments();toggleDrawerToTab("#personCommentsTab")});$(".pageHeader").hasClass("pageHeaderStory")||$(".pageHeader").hasClass("pageHeaderFacts")?$(".printOptionForLifeStoryAndFacts").removeClass("printOptionForLifeStoryAndFactsHidden"):$(".printOptionForLifeStoryAndFacts").addClass("printOptionForLifeStoryAndFactsHidden")},onClose:function(){$(".guestToolsList").off("click",".personCommentsBtn")}});$(".drawerHeader").on("click","#personCommentsTab",loadComments);PersonCard.showFsWidget&&$TreesFunc.FamilySearch.loadWidget(function(){$("#fsOrdStatus, #fsConnectLink, #fsConnectingStatus, #fsNeedsSignIn").unwrap()});i=0;$(".relationshipLink").each(function(){var $this=$(this),url="/tree/"+PersonCard.treeId+"/person/"+PersonCard.personId+"/getrelationshiptext?page=unknown";$.ajax({url:url,type:"GET",dataType:"json",contentType:"application/json",success:function(data){data.content!=null&&$this.html(data.content)},error:function(){}})});$(".imageNeedsOrientation").each(function(i,e){var $item=$(e);if(parseInt($item.css("width"))+parseInt($item.css("height"))>0)addOrientationClasses(e);else $item.on("load",function(){addOrientationClasses(this)})});$(document).on("person.img.loaded",".imageNeedsOrientation",function(){var $this=$(this);$this.on("load",function(){addOrientationClasses(this)})}).ajaxSuccess(function(){$(".imageNeedsOrientation").trigger("person.img.loaded");$("html").hasClass("modalOpen")&&$.modal.center()}).on("click",".closeModal",function(){$.modal.close()}).on("click",".closeCallouts",function(){closeCallouts()}).on("click","#researchTools .saveToTree",function(){$(this).addClass("savModalTriggered")});$(".personView .card").on("focus",function(){var $this=$(this);$this.one("mousemove",function(){$this.blur()})});$(".pageHeader").off("click").on("click",".myNotesBtn",function(){shouldWeCheckPageActions();toggleDrawerToTab("#myNotesTab")}).on("click",".personCommentsBtn",function(){shouldWeCheckPageActions();toggleDrawerToTab("#personCommentsTab")}).on("click",".relLabel",function(){$(this).addClass("relModalTriggered")});$(".sideDrawer").on("click","#closeSideDrawerBtn",function(){shouldWeCheckPageActions();toggleDrawer();checkNotesAndComments()});PersonCard.showFindAPerson&&findAPersonTreeOptionsPersonCard();var params=window.location.search.substr(1).split("&"),p=params[0].split("="),p0=p[0];p[0]==="openTestQEModal"&&quickEdit();$(".tabContentComments").on("click",".comment .undo",function(){loadCommentCount()}).on("click",'.comment button[data-ng-click="deleteComment(comment)"]',function(){loadCommentCount()}).on("mouseup pointerup touchend click",'.comment button[data-ng-click="addComment()"]:not(.disabled)',function(){loadCommentCount()});$(window).resize(function(){$("html").addClass("windowIsResizing");setTimeout(function(){$("html").removeClass("windowIsResizing")},250)});window.onbeforeprint=beforePrint;window.onafterprint=afterPrint;window.matchMedia&&(mediaQueryList=window.matchMedia("print"),mediaQueryList.addListener(function(mql){mql.matches&&beforePrint()}));$("#myNotesTab").on("click",function(){showingComments=!1;showingNotes=!0;checkNotesAndComments()});$("#personCommentsTab").on("click",function(){showingNotes=!1;showingComments=!0;checkNotesAndComments()})});var commentWidgetHasLoaded=!1,cloneComments=!0,showingNotes=!1,showingComments=!1,customizeCalloutFocusOnFamilyEvents=!1,customizeCalloutFocusOnHistInsights=!1,customizeCalloutFocusOnAlternatives=!1;jQuery.cachedScript=function(url,options){return options=$.extend(options||{},{dataType:"script",cache:!0,url:url}),jQuery.ajax(options)};window.SaveController=function(){function triggerDelayedSave(delay,callback){clearChangesSavedText();delay||(delay=PersonCard.autoSaveTime);currentTimeout&&clearTimeout(currentTimeout);currentTimeout=setTimeout(checkSaveWithCallback(callback),delay)}function checkSaveWithCallback(callback){return function(){saveWithCheck(callback)}}function saveWithCheck(callback){var notesField=$("#NotesTextAreaNoEditor"),notesValOriginal,converted;notesField.length>0&&(notesValOriginal=notesField.attr("data-notes-original"),converted=notesField.html(),(notesValOriginal.length!==converted.length||notesValOriginal!==converted)&&savePersonNotes(callback))}var controller={TriggerDelayedSave:triggerDelayedSave,SaveWithCheck:saveWithCheck},currentTimeout;return controller}();
(function($){"use strict";function initializeCarousel(modalId){var carouselHeight="auto",$guidanceCarousel=$("#"+modalId+"GuidanceCarousel");window.personScreenType("smart-phone")&&(carouselHeight="varied");$guidanceCarousel.carousel({carouselHeight:carouselHeight,continuous:!1,onSlideLoad:function(){setTimeout(function(){$.modal.center()},500)},onSlideChange:function(i){changing=!0;$("#"+modalId+"GuidanceTabs").find(".tab").eq(i).click();changing=!1;$("#"+modalId+"GuidanceTabs .tabActive").is(":last-child")?$guidanceCarousel.addClass("guidanceComplete"):$guidanceCarousel.removeClass("guidanceComplete")},showPrevNextBtns:!1,pagination:"dots"}).on("click",".guidanceNextBtn",function(){$guidanceCarousel.carousel("goToSlide","next")}).on("click",".guidanceExploreBtn",function(){$.modal.close()})}function initializeTabs(modalId){$("#"+modalId+"GuidanceTabs").tabs().on("click",".tab",function(){changing||$("#"+modalId+"GuidanceCarousel").carousel("goToSlide",$(this).index()+1)})}function destroyCarousel(modalId){$("#"+modalId+"GuidanceCarousel").carousel("destroy").off("click");$("#"+modalId+"GuidanceModal").appendTo("#"+modalId+"NoDisplay")}function destroyTabs(modalId){$("#"+modalId+"GuidanceTabs").tabs("destroy").off("click")}function guidanceModal(){var modalId=$(this).data("modal-id");$("#"+modalId+"GuidanceModal").modal({width:"650",useCustomPadding:!0,onOpen:function(){closeCallouts();initializeTabs(modalId);initializeCarousel(modalId)},onClose:function(){destroyTabs(modalId);destroyCarousel(modalId)}})}var changing=!1;$(document).on("click",".guidanceModalTrigger",guidanceModal)})(jQuery);
function CreateClickHandlers(item){var action=utag_data.page_name+item.actionName,clickableItem=$(item.selector);if(clickableItem.length>0&&typeof utag!="undefined")clickableItem.on("click",function(){utag.link({action:action})});else console.log("Attempt to register invalid selector for analytics:"+item.actionName)}function personAnalyticsTrackClick(actionName){if(typeof utag!="undefined"){var action=utag_data.page_name+": "+actionName;utag.link({action:action})}}function personAnalyticsTrackMediaClicks(element){$(element).parents(".HistoricalInsight").length>0?personAnalyticsTrackClick("HistoricalInsightMediaClick"):personAnalyticsTrackClick("mediaNarrativeMediaClick")}function personAnalyticsTrackFactsPersonClick(personType){personAnalyticsTrackClick("familyListPerson");personType.indexOf("Child")>0&&personAnalyticsTrackClick("familyListPersonChild");personType.indexOf("Spouse")>0&&personAnalyticsTrackClick("familyListPersonSpouse");personType.indexOf("Parent")>0&&personAnalyticsTrackClick("familyListPersonParent");personType.indexOf("Sibling")>0&&personAnalyticsTrackClick("familyListPersonSibling")}function personAnalyticsChangePageName(pageId){if(typeof utag_data!="undefined"&&typeof utag!="undefined"){var newPageName=utag_data.page_name.substr(0,utag_data.page_name.lastIndexOf(": ")+2)+pageId;utag.view({page_name:newPageName})}}function logPersonPageContentView(pageId,treeId,personId,isPublicTree,userRole){if(typeof utag_data!="undefined"&&typeof utag!="undefined"){var newPageName=utag_data.page_name.substr(0,utag_data.page_name.lastIndexOf(": ")+2)+pageId,params={omniturePageName:newPageName,isPublicTree:isPublicTree.toLowerCase()==="true",userRole:userRole},url="/tree/"+treeId+"/person/"+personId+"/logPersonPageContentView";$.ajax({type:"POST",url:url,data:params,cache:!1,success:function(){},failure:function(){},complete:function(){}})}}var personAnalytics={showInformation:!1,pageIds:{LifeStory:[]},init:function(pageId,isDevEnvironment){personAnalytics.pageIds.length>0&&typeof utag!="undefined"&&$.each(personAnalytics.pageIds[pageId],function(index,item){CreateClickHandlers(item,isDevEnvironment)})}};
function ladderJSON(response){var html='<div class="modalHeader"><div class="modalHeaderActions"><button class="icon iconPrint link" onclick="rcPrintLadder();" type="button">'+response.printText+'<\/button><\/div><h4 class="modalTitle">'+response.title+"<\/h4><\/div>";html=html+response.html;$(html).modal({width:"400",onOpen:function(){$("#modalContents").addClass("modalHasTitle")},onClose:function(){$(".relModalTriggered").removeClass("relModalTriggered").focus()}})}function rcPrintLadder(){var ladderUrl="/tree/"+window.rcTid+"/person/"+window.rcPid+"/printladder",printWindow=window.open(ladderUrl,"PrintWindow","width=750,height=850,top=50,left=50,toolbars=no,scrollbars=yes,status=no,resizable=yes");printWindow.focus()}$(function(){$(".pageHeader").on("click",".relLabel",function(){var ladderUrl=window.rcDomain+"/tree/"+window.rcTid+"/person/"+window.rcPid+"/getladder";$.ajax({jsonpCallback:"ladderJSON",url:ladderUrl,async:!0,type:"GET",dataType:"jsonp",contentType:"application/json",beforeSend:function(){$("<div><\/div>").modal();$.modal.showLoading(!0)},success:function(){},error:function(ex){var html="<div><p>"+ex.html+"<\/p><\/div>";$(html).modal({title:ex.title})}})})});
function markPerformance(){typeof performance!="undefined"&&(performance.clearMarks("person pic"),performance.mark("person pic"),performance.clearMarks("fmp"),performance.mark("fmp"))}var personCardLoaded=!0;$(function(){typeof performance=="undefined"&&(window.performance={},window.markers=[],window.performance.mark=function(name){var newMark={name:name,entryType:"mark",startTime:Date.now(),duration:0};window.markers.push(newMark)},window.performance.clearMarks=function(name){for(var top=window.markers.length,i=0;i<top;i++)window.markers[i].name==name&&(window.markers=window.markers.splice(i,1))},window.performance.measure=function(name,startMark,endMark){var start=window.markers[startMark].startTime,end=window.markers[endMark].startTime,newMark={name:name,entryType:"mark",startTime:start,duration:end-start};window.markers.push(newMark)},window.performance.clearMeasures=function(name){window.performance.clearMarks(name)},window.performance.getEntriesByName=function(name){for(var top=window.markers.length,entries=[],i=0;i<top;i++)window.markers[i].name==name&&entries.push(window.markers.slice(i,1));return entries})});
var AddPerson=function($){var _addPerson={cacheLoaded:!1,apmDefCallback:function(cbResponse){cbResponse.mode==="m"?$.modal.close():window.isCancelClicked||location.reload()},apsCallback:function(cbResponse){return cbResponse.newPid!=null&&cbResponse.status!=null&&(cbResponse.status==="success"?(window.glue.reload(),acom!=null&&acom.bus!=null&&acom.bus.emit("AddPerson::Notify::Success",cbResponse.message,cbResponse.title,!0)):cbResponse.status==="failure"&&acom!=null&&acom.bus!=null&&acom.bus.emit("AddPerson::Notify::Failure",cbResponse.message,cbResponse.title)),typeof AddPerson.apmCallback=="function"?AddPerson.apmCallback(cbResponse):AddPerson.apmDefCallback(cbResponse)},Modal:function(tid,pid,args,apmCallback,type){var url="http://"+addPersonUrl+"/modals/addPerson/tree/"+tid+"/person/"+pid,title=PersonCard.text.addPersonModalTitle,params;type==="edit"&&(url+="/edit",title=PersonCard.text.quickEditModalTitle);params={};typeof args=="object"?params=args:typeof args=="string"&&(params=JSON.parse(args));params.useNewVersion="5";params.isPageVersion=!1;$('<div id="AddPersonModal"><\/div>').modal({showLoading:!0,hideCloseBtn:!1,useCustomPadding:!0,closeOnBkgClick:!0,closeOnEscape:!0,isMarketing:!1,title:title,onOpen:function($this){$.ajax({url:url,xhrFields:{withCredentials:!0},crossDomain:!0,cache:!1,timeout:15e3,type:"GET",data:params,dataType:"jsonp",contentType:"application/json",success:function(response){if(response.hasexception){var html='<div class="ancGrid ancGridPadded"><div class="ancCol w100"><p class="icon iconWarning">'+PersonCard.text.addPersonErrorText+"<\/p><\/div><\/div>";$.modal.showLoading(!1);$this.html(html);$.modal.center()}else $.when(loadCacheFiles(response)).done(function(){if(AddPerson.cacheLoaded=!0,$.modal.resize(760),response.name){$.modal.title("");var profileHtml=response.imageUrl?'<div class="userCardImg"><img alt="'+response.title+'" src="'+response.imageUrl+'" style="vertical-align:middle;"><\/div>':'<div class="userCardImg userCardImgSquare icon icon'+response.gender+'" role="presentation"><\/div>',dateRangeHtml=response.dateRange?'&nbsp;<p class="userCardSubTitle" style="font-weight:normal;">'+response.dateRange+"<\/p>":"";$this.html('<div class="modalHeader modalHeaderUserCard" id="addPersonModalHeader"><div class="ancGrid full480"><div class="ancCol"><h4 class="modalTitle">'+response.title+'<\/h4><\/div><div class="ancCol ancColUserCard hide480"><div class="userCard userCardSize3" style="margin:4px 0 5px;">'+profileHtml+'<div class="userCardContent"><h6 class="userCardTitle">'+response.name+"<\/h6>"+dateRangeHtml+"<\/div><\/div><\/div><\/div><\/div>");$this.append(response.html);$.modal.showLoading(!1)}else $.modal.title(response.title),$this.html(response.html),$.modal.showLoading(!1);AddPerson.apmCallback=typeof apmCallback!="undefined"?apmCallback:AddPerson.apmDefCallback;typeof AddPersonModalInit=="function"&&window.AddPersonModalInit(tid,pid,args.history,AddPerson.apsCallback,"m")}).fail(function(file){$this.html(response.html);window&&window.console&&console.error("AddPerson: Unable to load"+file+".")})},error:function(){var html='<div class="ancGrid ancGridPadded"><div class="ancCol w100"><p class="icon iconWarning">'+PersonCard.text.addPersonErrorText+"<\/p><\/div><\/div>";$.modal.showLoading(!1);$this.html(html);$.modal.center()}})},onClose:function(){$(".addFamModalTriggered").removeClass("addFamModalTriggered").focus()}})},Add:function(tid,pid,args,onCloseCallback){typeof $.modal!="undefined"&&window.closeCallouts();AddPerson.Modal(tid,pid,args,onCloseCallback,"add")},Edit:function(tid,pid,args,onCloseCallback){typeof $.modal!="undefined"&&window.closeCallouts();typeof args=="string"?args=JSON.parse(args):typeof args=="undefined"&&(args={});typeof args=="object"&&(args.otid==null&&(args.otid=tid),args.opid==null&&(args.opid=pid));AddPerson.Modal(tid,pid,args,onCloseCallback,"edit")}},loadCacheFiles=function(response){var filesToLoad=[],deferred=$.Deferred();return AddPerson.cacheLoaded?deferred.resolve(!0):($(".add-person-css").remove(),$.each(response.css,function(i,css){$("head").append('<link class="add-person-css" rel="stylesheet" href="'+css+'" type="text/css" />')}),$.each(response.js,function(i,js){var def=new $.Deferred;$.ajax({dataType:"script",cache:!0,url:js,crossDomain:!0,success:function(){def.resolve(!0)},failure:function(){deferred.reject(js)}});filesToLoad.push(def)}),$.when.apply($,filesToLoad).done(function(){deferred.resolve(!0)})),deferred};return _addPerson}(jQuery)